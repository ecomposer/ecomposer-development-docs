{"version":3,"file":"Content.503affe8.js","sources":["../../../src/components/Builder/Components/Core/Elements/Article/Content.vue"],"sourcesContent":["<template>\n    <div class=\"ecom-element ecom-shopify-elements ecom-shopify__article--description\">\n        <div class=\"ecom-shopify__article__description-wrapper\">\n            <div class=\"ecom-shopify__article__description-container\" :content_type=\"contentType\">\n                <template v-if=\"contentType === 'text'\">\n                    <div class=\"ecom-shopify__article__description--paragraph\">\n                        <span v-html=\"liquid(description_short)\" />\n                        <span v-if=\"type === 'short' && viewMore\">\n                            <button\n                                type=\"button\"\n                                class=\"ecom-shopify__article__description-view-more-btn\"\n                                v-text=\"lang(viewMoreText, 'viewMoreText')\"\n                            />\n                        </span>\n                    </div>\n                    <span\n                        v-if=\"type === 'short' && viewMore\"\n                        style=\"display: none\"\n                        class=\"ecom-shopify__article__description--full\"\n                        v-html=\"liquid('description_text')\"\n                    />\n                </template>\n                <template v-else>\n                    <div\n                        class=\"ecom-shopify__article__description--paragraph\"\n                        :style=\"{ 'max-height': maxHeight }\"\n                        v-html=\"liquid(description_short)\"\n                    />\n                    <span v-if=\"type === 'short' && viewMore\">\n                        <button\n                            type=\"button\"\n                            class=\"ecom-shopify__article__description-view-more-btn\"\n                            v-text=\"lang(viewMoreText, 'viewMoreText')\"\n                        />\n                    </span>\n                </template>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { Liquid, Element, Javascript } from '@/mixins';\n\nexport default {\n    name: 'ArticleContent',\n    \n    mixins: [Liquid, Element, Javascript],\n    props: {\n        data: {\n            type: Object,\n            default() {\n                return {};\n            }\n        }\n    },\n    computed: {\n        contentType() {\n            return this.data?.settings?.content_type ?? 'text';\n        },\n\n        css() {\n            return `\n                .ecom-shopify__article__description--paragraph {\n                    position: relative;\n                    overflow: hidden\n                }\n                .ecom-shopify__article__description--paragraph[style*=\"max-height\"]:after {\n                    content: '';\n                    position: absolute;\n                    left: 0;\n                    right: 0;\n                    bottom: 0;\n                    height: 150px;\n                    background: linear-gradient(rgba(255, 255, 255, 0), rgb(255, 255, 255))\n                }\n                .ecom-shopify__article__description-view-more-btn{\n                    border:none;\n                    background:transparent;\n                    cursor:pointer;\n                }\n            `;\n        },\n\n        description_short() {\n            return this.contentType === 'text'\n                ? this.type === 'short'\n                    ? 'short_description'\n                    : 'description_text'\n                : 'description';\n        },\n\n        javascript() {\n            return function () {\n                let $dom = this.$el.querySelector(\n                    '.ecom-shopify__article__description-view-more-btn'\n                );\n                let contentType = this.settings['content_type'];\n                let $full = this.$el.querySelector('.ecom-shopify__article__description--full');\n                let $short = this.$el.querySelector(\n                    '.ecom-shopify__article__description--paragraph'\n                );\n                if ($dom) {\n                    $dom.addEventListener('click', function () {\n                        if (contentType === 'text' && $full) {\n                            $full.style.display = 'inherit';\n                            $short.style.display = 'none';\n                        } else {\n                            $short.style.maxHeight = null;\n                        }\n                        this.style.display = 'none';\n                    });\n                }\n            };\n        },\n\n        limit() {\n            return this.data && this.data.settings && this.data.settings.limit && parseInt(this.data.settings.limit) > 0\n                ? parseInt(this.data.settings.limit)\n                : 50;\n        },\n\n        liquids() {\n            return {\n                description: {\n                    code: `\n                        {%- if article != empty -%}\n                            {{article.content}}\n                        {%- else -%}\n                            <div>Please select the article in settings</div>\n                        {%- endif -%}\n                    `,\n                    preview: `\n                        <div class=\"ecom-skeleton-item\">\n                            <div>\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-4\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-6\"></div>\n                                    <div class=\"ecom-skeleton-col-6 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    `\n                },\n                description_text: {\n                    code: `{{ article.content | strip_html }}`,\n                    preview: `\n                        <div class=\"ecom-skeleton-item\">\n                            <div>\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-4\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-6\"></div>\n                                    <div class=\"ecom-skeleton-col-6 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                </div>\n                            </div>\n                        </div>\n                    `\n                },\n                short_description: {\n                    code: `\n                        {%- if article != empty -%}\n                            {{ article.content | strip_html | truncatewords: ${this.limit} }}\n                        {%- else -%}\n                            <div>Please select the article in settings</div>\n                        {%- endif -%}\n                    `,\n                    preview: `\n                        <div class=\"ecom-skeleton-item\">\n                            <div>\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-4\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-6\"></div>\n                                    <div class=\"ecom-skeleton-col-6 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                </div>\n                            </div>\n                        </div>\n\n                    `\n                }\n            };\n        },\n\n        maxHeight() {\n            return this.contentType === 'html' && this.data.settings.type === 'short'\n                ? this.data.settings['max-height']\n                : null;\n        },\n\n        requestShopifyType() {\n            return {\n                shopify_type: 'article'\n            };\n        },\n\n        settings() {\n            return [\n                {\n                    params: [\n                        {\n                            type: 'popup',\n                            label: 'Content Type',\n                            name: 'content_type',\n                            options: {\n                                type: 'dropdown',\n                                values: { text: 'Text', html: 'HTML' },\n                                default: false\n                            },\n                            css:false\n                        },\n                        {\n                            type: 'popup',\n                            label: 'Display mode',\n                            name: 'type',\n                            options: {\n                                type: 'dropdown',\n                                values: {\n                                    full: 'Full',\n                                    short: 'Short'\n                                },\n                                default: false\n                            },\n                            css:false\n                        },\n                        {\n                            type: 'number',\n                            label: 'Maximum words to show',\n                            name: 'limit',\n                            value: '50',\n                            placeholder: '50',\n                            options: {\n                                input:true,\n                                slider:false,\n                                min:0,\n                                visible: function (data) {\n                                    return (\n                                        data &&\n                                        data['type'] === 'short' &&\n                                        data['content_type'] === 'text'\n                                    );\n                                }\n                            }\n                        },\n                        {\n                            type: 'number',\n                            label: 'Max height',\n                            name: 'max-height',\n                            placeholder: '200',\n                            options: {\n                                units: {\n                                    px: {\n                                        min: 0,\n                                        max: 1000\n                                    },\n                                    'vh': {\n                                        min: 0,\n                                        max: 100\n                                    },\n                                    'vw': {\n                                        min: 0,\n                                        max: 100\n                                    },\n                                },\n                                visible: function (data) {\n                                    return (\n                                        data &&\n                                        data['type'] === 'short' &&\n                                        data['content_type'] == 'html'\n                                    );\n                                }\n                            }\n                        },\n                        {\n                            type: 'toggle',\n                            label: 'Show view more button?',\n                            name: 'viewMore',\n                            options: {\n                                oneline: true,\n                                values: {\n                                    on: {\n                                        label: 'Yes',\n                                        value: true\n                                    },\n                                    off: {\n                                        label: 'No',\n                                        value: false\n                                    }\n                                },\n                                visible: function (data) {\n                                    return data['type'] === 'short';\n                                }\n                            }\n                        },\n                        {\n                            label: 'View more text button',\n                            name: 'viewMoreText',\n                            type: 'text',\n                            options: {\n                                visible: function (data) {\n                                    return data['type'] === 'short' && data['viewMore'];\n                                }\n                            }\n                        }\n                    ]\n                }\n            ];\n        },\n\n        type() {\n            return this.data.settings && this.data.settings.type ? this.data.settings.type : 'full';\n        },\n\n        viewMore() {\n            return this.data && this.data.settings && 'viewMore' in this.data.settings\n                ? this.data.settings.viewMore\n                : false;\n        },\n\n        viewMoreText() {\n            return this.data && this.data.settings && 'viewMoreText' in this.data.settings\n                ? this.data.settings.viewMoreText\n                : 'view more';\n        },\n        default() {\n            return {\n                settings: {\n                    content_type: \"text\",\n                    type: \"full\",\n                    limit: \"50\",\n                    view_more: false,\n                    view_more_text: \"View more\",\n                    \"max-height\": \"200px\"\n                },\n                style: {\n                    article_content: {\n                        textTextAlign: \"left\"\n                    }\n                }\n            }\n        },\n\n        \n    },\n    methods:{\n        style() {\n            let style = [\n                {\n                    group_alias: 'text:spacing',\n                    options:{\n                        group_title: 'Content',\n                        group_name: 'article_content',\n                        selector: ' .ecom-shopify__article__description-container',\n                    }\n                }\n            ];\n\n            if (this.data.settings.viewMore) {\n                style.push({\n                        group_alias: 'button',\n                        options:{\n                            group_title: 'Button',\n                            group_name: 'article_button',\n                            selector: ' .ecom-shopify__article__description-view-more-btn',\n                        }\n                });\n            }\n\n            return style;\n        }\n    }\n};\n</script>"],"names":["_sfc_main","Liquid","Element","Javascript","_c","_b","_a","$dom","contentType","$full","$short","data","style","_hoisted_1","_hoisted_2","_hoisted_4","_openBlock","_createElementBlock","_createElementVNode","$options","_Fragment","_ctx","_hoisted_6","_toDisplayString","_hoisted_10"],"mappings":"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"}