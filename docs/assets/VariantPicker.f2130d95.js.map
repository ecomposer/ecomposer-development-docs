{"version":3,"file":"VariantPicker.f2130d95.js","sources":["../../../src/components/Builder/Components/Core/Elements/Product/VariantPicker.vue"],"sourcesContent":["<template>\n    <div class=\"ecom-element ecom-product-single ecom-product-single__variant-picker\">\n        <div class=\"ecom-product-single__variant-picker-wrapper\">\n            <div\n                class=\"ecom-product-single__variant-picker-container\"\n                :data-picker-type=\"swatch_type\"\n                :class=\"liquid('wrapper_classes')\"\n                :data-ecom-placeholder=\"exporting ? '' : 'This product has only default variant'\"\n            >\n                <Liquid :data=\"liquids.assign_variant.code\" />\n                <div\n                    class=\"ecom-product-single__variant-picker--main\"\n                    v-html=\"liquid('swatch_' + swatch_type + 's')\"\n                />\n                <div\n                    class=\"ecom-product-single__variant-picker--options\"\n                    v-html=\"liquid('options')\"\n                />\n                <div\n                    class=\"ecom-product-single__variant-picker--json\"\n                    v-html=\"liquid('product_json')\"\n                />\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { Liquid, Javascript, Element } from '@/mixins';\nexport default {\n    name: 'VariantPicker',\n\n    presets:true,\n    mixins: [Liquid, Javascript, Element],\n    vendors: ['shopify_option_selection_js'],\n    props: {\n        data: {\n            type: Object,\n            default() {\n                return {};\n            }\n        }\n    },\n    data(){\n        return {\n            jsreactives: ['show_option_selected', 'hide_unavaiable_variant']\n        }\n    },\n    computed: {\n        element_id() {\n            return this.data.id;\n        },\n\n\n\n        javascript() {\n            return function() {\n                const $el = this.$el, Element = this;\n                if (!$el) {\n                    return;\n                }\n                const isLive = this.isLive;\n                const updateSelected = this.settings.show_option_selected ? this.settings.show_option_selected : false,\n                    historyState = this.settings.history_state ? this.settings.history_state : false;\n                const selector = $el.querySelector('[name=\"id\"]');\n                const $section = $el.closest('.ecom-product-form--single');\n\n                if(!$section) {\n                    return;\n                }\n\n                const $container = $el.querySelector(\n                    '.ecom-product-single__variant-picker-container'\n                );\n                let pickerTimeout = null;\n                if (!selector) {\n                    return;\n                }\n                const json = this.$el.querySelector('#' + selector.dataset.jsonProduct);\n                if (!json) {\n                    return;\n                }\n                let product = null;\n                try {\n                    product = JSON.parse(json.innerHTML);\n                } catch (e) {\n                    return;\n                }\n\n                function updateBadge(variant) {\n                    const $badgeBox = $section.querySelector('.ecom-product-single__price--badges');\n                    if ($badgeBox) {\n                        $badgeBox.querySelectorAll('span').forEach(function(element){\n                            element.style.display = 'none';\n                        });\n                    }\n                    if (variant) {\n                        if (variant.available && variant.price < variant.compare_at_price) {\n                            if ($badgeBox) {\n                                const $saleBox = $badgeBox.querySelector(\n                                    '.ecom-product-single__price--badges-sale'\n                                );\n                                $saleBox.style.display = 'block';\n                                // product.compare_at_price_max | minus: product.price | times: 100.0 | divided_by: product.compare_at_price_max | money_without_currency | times: 100\n                                const discount = Math.round(((variant.compare_at_price - variant.price) * 100) / variant.compare_at_price);\n                                let text = $saleBox.dataset.text;\n                                text = text.replace(/\\{.*\\}/g, discount);\n                                $saleBox.innerHTML = text;\n                            }\n                        } else if (!variant.available) {\n                            if ($badgeBox) {\n                                $badgeBox.querySelector('.ecom-product-single__price--badges-sold-out').style.display = 'block';\n                            }\n                        }\n                    }\n                }\n\n                function updateQuantity(variant) {\n                    const $quantity = $section.querySelector('.ecom-product-single__quantity-input');\n                    if ($quantity) {\n                        if (!variant) {\n                            $quantity.value = 1;\n                            $quantity.setAttribute('disabled', 'disabled');\n                            return;\n                        } else if (!variant.available) {\n                            $quantity.setAttribute('disabled', 'disabled');\n                        } else {\n                            $quantity.removeAttribute('disabled', 'disabled');\n                        }\n                        const inventory_quantity = variant.inventory_quantity;\n                        const policy = variant.inventory_policy;\n                        let max = 9999;\n                        if (variant.inventory_management && policy === 'deny') {\n                            max = inventory_quantity;\n                        }\n                        if (inventory_quantity < 1 && policy == 'continue') {\n                            max = 999999;\n                        }\n\n                        let quantity = parseInt($quantity.value);\n                        if (quantity > max) {\n                            quantity = max;\n                        }\n                        quantity = isNaN(quantity) || !quantity ? 1 : quantity;\n                        if(!variant?.available) {\n                            quantity = 0;\n                        }\n                        quantity = quantity >= 0 ? quantity : 1;\n\n                        $quantity.value = quantity;\n                        $quantity.setAttribute('max', max);\n                    }\n                }\n\n                function updateFeatured(variant) {\n                    const $sliderBoxs = $section.querySelectorAll('.ecom-product-single__media--slider');\n                    if ($sliderBoxs.length && variant) {\n                        $sliderBoxs.forEach(function($sliderBox) {\n                            const $slider = $sliderBox.querySelector('.ecom-product-single__media--featured');\n                            const $slide = $slider.querySelector('.ecom-product-single__media--image[data-variant_id*=\"' + variant.id + '\"]');\n                            if (!$slide || ($slider.getAttribute('data-priority') === 'featured' && !window.location.search.includes('variant='))) {\n                                return;\n                            }\n                            const index = $slide.dataset.index;\n                            const current = $slider?.swiper?.realIndex ?? 0;\n\n                            if (index != current && $slider && $slider.swiper) {\n                                $slider.swiper.slideTo(index, 200);\n                            }\n                        })\n                    } else if (variant && variant.featured_image) {\n                        const $featuredBox = $section.querySelector('.ecom-product-single__media--single');\n                        if ($featuredBox) {\n                            $featuredBox.querySelector('img').setAttribute('src', variant.featured_image.src);\n                        }\n                    }\n                }\n\n                function updateProductButtons(variant) {\n                    const $submit = $section.querySelector(\n                        '.ecom-product-single__add-to-cart--submit'\n                    );\n                    if ($submit) {\n                        if (!variant) {\n                            $submit.setAttribute('disabled', 'disabled');\n                            if($submit.querySelector('.ecom-add-to-cart-text')) {\n                                $submit.querySelector('.ecom-add-to-cart-text').innerHTML = $submit.dataset.textUnavailable;\n                            }\n                        } else if (variant.available) {\n                            $submit.removeAttribute('disabled');\n                            if($submit.querySelector('.ecom-add-to-cart-text')) {\n                                if(variant.inventory_quantity <= 0 && variant.inventory_policy == 'continue') {\n                                    $submit.querySelector('.ecom-add-to-cart-text').innerHTML = $submit.dataset.textPreOrder;\n                                } else {\n                                    $submit.querySelector('.ecom-add-to-cart-text').innerHTML = $submit.dataset.textAddCart;\n                                }\n                            }\n                        } else {\n                            $submit.setAttribute('disabled', 'disabled');\n                            if($submit.querySelector('.ecom-add-to-cart-text')) {\n                                $submit.querySelector('.ecom-add-to-cart-text').innerHTML = $submit.dataset.textOutstock;\n                            }\n                        }\n                    }\n                }\n\n                function updateSwatch(variant) {\n                    if (variant && variant.options.length) {\n\n                        for (let i = 0; i < variant.options.length; i++) {\n                            $section.querySelectorAll(`.ecom-product-single__swatch-item[data-option-index=\"${i}\"][data-value=\"${variant.options[i].replace(/'/g, '\\'').replace(/\"/g, '\\\\\"')}\"]`)\n                            .forEach((element) => {\n                                element.parentNode.childNodes.forEach(function(el){\n                                    if(el.classList)\n                                   {\n                                    el.classList.remove('ecom-box-active');\n                                    el.classList.remove('ecom-button-active');\n                                    el.classList.remove('ecom-image-active');\n                                   }\n                                });\n                                element.classList.add('ecom-box-active');\n                                element.classList.add('ecom-button-active');\n                                element.classList.add('ecom-image-active');\n                            });\n                            $section.querySelectorAll(`select.ecom-product-single__swatch-select[data-option-index=\"${i}\"]`).forEach(function(el){\n                                el.value = variant.options[i];\n                            })\n                        }\n                    }\n                    //\n                }\n\n                function updateCountdown(variant) {\n                    const $dom = $section.querySelector('.ecom-product-single__countdown');\n                    if ($dom) {\n                        if (!isLive) {\n                            $dom.firstElementChild.style.display = '';\n                        }\n                        if ($dom.dataset.showOnSale === 'true') {\n                            if (variant.compare_at_price > variant.price && variant.available) {\n                                $dom.style.display = 'inherit';\n                                $dom.classList.remove('ecom-placeholder-on-builder-mode');\n                            } else {\n                                if (isLive) {\n                                    $dom.style.display = 'none';\n                                }\n                                $dom.classList.add('ecom-placeholder-on-builder-mode');\n                                $dom.classList.add('ecom-force-show');\n                                $dom.dataset.ecomPlaceholder =\n                                    'This feature not match with your condition';\n                                if (!isLive) {\n                                    $dom.firstElementChild.style.display = 'none';\n                                }\n                            }\n                        } else {\n                            $dom.classList.remove('ecom-placeholder-on-builder-mode');\n                            $dom.style.display = 'inherit';\n                        }\n                    }\n                }\n\n                function updateImageLabel(variant) {\n                    const $labels = $section.querySelectorAll('.ecom-product-single__media-label');\n\n                    if (variant) {\n                        if($labels.length) {\n                            $labels.forEach(function($label) {\n\n                                const saleLabel = $label.querySelector('span.ecom-product-single__media-label-sale');\n                                if(saleLabel) {\n\n                                    saleLabel.style.display = (variant.compare_at_price && variant.compare_at_price > variant.price) ? 'block' : 'none';\n                                }\n\n                                const soldoutLabel = $label.querySelector('.ecom-product-single__media-label-sold-out');\n                                if(soldoutLabel) {\n                                    soldoutLabel.style.display = variant.available ? 'none' : 'block';\n                                }\n\n                                const $badgeSale = $label.querySelector('.ecom-product-single__media-label--bage-sale');\n                                if($badgeSale) {\n                                    const saleBadgetType = $badgeSale.dataset.labelType;\n\n                                    if (variant.compare_at_price > variant.price) {\n                                        let text = $badgeSale.dataset.sale, sale = \"\";;\n\n                                        if (saleBadgetType === 'amount') {\n\n                                            sale = variant.compare_at_price - variant.price;\n\n                                            $badgeSale.style.display = 'inherit';\n                                            $badgeSale.innerHTML = text.replace(\n                                                /\\[.*\\]/g,\n                                                window.EComposer.formatMoney(sale)\n                                            )\n\n                                        } else {\n                                            sale =\n                                                ((variant.compare_at_price - variant.price) * 100) /\n                                                variant.compare_at_price;\n                                            $badgeSale.style.display = 'inherit';\n                                            $badgeSale.innerHTML = (text.replace(/\\[.*\\]/g, Math.floor(sale)));\n                                        }\n                                    } else {\n                                        $badgeSale.style.display = 'none';\n                                    }\n                                }\n\n                            })\n                        }\n                    }\n                }\n\n                function updatePrice(variant) {\n                    const $price_regular = $section.querySelectorAll(\n                        '.ecom-product-single__price--regular'\n                    );\n                    const $prices = $section.querySelectorAll('.ecom-product-single__price--sale');\n                    const $prices_percent_badge = $section.querySelectorAll('.ecom-product-single__price--badges-pecent-wrapper');\n                    const $unit_price_wrapper = $section.querySelectorAll('.ecom-product_ground-price');\n                    const $unit_price_container = $section.querySelector('.ecom-unit-price');\n\n                    const $unit_price = $section.querySelector('.ecom-ground-price_unit-price');\n\n                    const $unit_price_measurement = $section.querySelectorAll('.ecom-ground-price_unit-price-measurement');\n\n                    if (variant) {\n                        //Update payment terms\n                            $section.querySelector('shopify-payment-terms') && $section.querySelector('shopify-payment-terms').setAttribute('variant-id', variant.id);\n\n                        if ($prices.length) {\n                            innerPrice($prices, variant.price)\n                            //$price.innerHTML = window.EComposer.formatMoney(variant.price);\n                        }\n\n                        if($prices_percent_badge.length) {\n                            $prices_percent_badge.forEach(function($percent) {\n                                if(variant.compare_at_price && variant.compare_at_price > variant.price) {\n                                    const salePercent = Math.round((variant.compare_at_price - variant.price) / variant.compare_at_price * 100);\n                                    if($percent.querySelector('span')) {\n                                        $percent.style.display = 'block';\n                                        $percent.querySelector('span').innerText = `-${salePercent}%`\n                                    }\n                                } else {\n                                    $percent.style.display = 'none';\n                                }\n                            })\n                        }\n                        if ($price_regular.length) {\n\n                            $price_regular.forEach(function($price) {\n                                $price.innerHTML = window.EComposer.formatMoney(\n                                    variant.compare_at_price\n                                );\n                                if (variant.compare_at_price > variant.price) {\n                                    $price.style.display = 'inherit';\n                                } else {\n                                    $price.style.display = 'none';\n                                }\n                            })\n\n                        }\n\n                        if($unit_price_wrapper.length) {\n                            $unit_price_wrapper.forEach(function($unit_price) {\n                                if(variant.unit_price) {\n                                    $unit_price.style.display = 'block';\n                                     if($unit_price_container) $unit_price_container.style.display = 'block';\n                                } else {\n                                    $unit_price.style.display = 'none';\n                                    if($unit_price_container) $unit_price_container.style.display = 'none';\n                                }\n                                if($unit_price) {\n                                    $unit_price.innerHTML = window.EComposer.formatMoney(\n                                        variant.unit_price\n                                    );\n                                }\n                            })\n\n                            if($unit_price_measurement.length) {\n                                $unit_price_measurement.forEach(function($price) {\n                                    if(variant.unit_price_measurement.reference_value != 1) {\n                                        $price.innerHTML = variant.unit_price_measurement.reference_value + variant.unit_price_measurement.reference_unit;\n                                    } else {\n                                        $price.innerHTML = variant.unit_price_measurement.reference_unit;\n                                    }\n                                })\n\n                            }\n                        }\n\n                    } else {\n                        if ($prices.length) {\n                            innerPrice($prices, 0)\n                        }\n                        if ($price_regular.length) {\n                            innerPrice($price_regular, 0)\n                        }\n                    }\n\n                    function innerPrice($prices, money) {\n                        $prices.forEach(function($price) {\n                            $price.innerHTML = window.EComposer.formatMoney(money);\n                        })\n                    }\n                }\n\n                function updateVariantAttribute(variant) {\n                    const $barcode = $section.querySelector(\n                        '.ecom-product-single__variant-attributes--barcode'\n                    );\n                    const $sku = $section.querySelector(\n                        '.ecom-product-single__variant-attributes--sku'\n                    );\n                    if (variant) {\n                        if ($barcode) {\n                            $barcode.style.removeProperty('display');\n                            $barcode.querySelector(\n                                '.ecom-product-single__variant-attributes--text'\n                            ).innerHTML = `${variant.barcode ? variant.barcode : 'N/A'}`;\n                        }\n                        if ($sku) {\n                            $sku.style.removeProperty('display');\n                            $sku.querySelector(\n                                '.ecom-product-single__variant-attributes--text'\n                            ).innerHTML = `${variant.sku ? variant.sku : 'N/A'}`;\n                        }\n                    } else {\n                        if ($barcode) {\n                            $barcode.style.display = 'none';\n                        }\n                        if ($sku) {\n                            $sku.style.display = 'none';\n                        }\n                    }\n                }\n\n                function updateOptionSelected(variant) {\n\n                    if (!$container || !variant) {\n                        return false;\n                    }\n                    selector.dispatchEvent(new Event('change'));\n                    $container.querySelectorAll('.ecom-product-single__variant-picker--selected-value').forEach(function(el) {\n                        el.remove();\n                    });\n                    if(!updateSelected)\n                    {\n                        return 1;\n                    }\n                    // overwrite dom structure of shopify for dropdown type variant\n                    const dropdownTypeLabels = $el.querySelectorAll(\n                        '.selector-wrapper label[for*=\"ecom-variant-selector\"'\n                    );\n\n                    if (dropdownTypeLabels.length > 0) {\n                        dropdownTypeLabels.forEach((label) => {\n                            const textLabel = label.textContent;\n                            if(label.childNodes.length)\n                                label.childNodes[0].remove();\n\n                            const newLabelDom = document.createElement('span');\n                            newLabelDom.className = 'ecom-product-variant--option-label-text';\n                            newLabelDom.innerText = `${textLabel}${\n                                            textLabel.endsWith(':') ? '' : ':'\n                                        }`;\n\n                            label.prepend(newLabelDom);\n                        });\n                    }\n\n                    const length = variant.options.length;\n                    const $doms = $container.querySelectorAll('.selector-wrapper');\n                    for (let i = 0; i < length; i++) {\n                        if($doms[i])\n                        {\n                            $doms[i].querySelectorAll('label').forEach((el) => {\n                                const $selectedValue = document.createElement('span');\n                                $selectedValue.className = 'ecom-product-single__variant-picker--selected-value';\n                                $selectedValue.innerHTML =  variant.options[i];\n                                el.appendChild($selectedValue);\n                            });\n                        }\n                        $container.querySelectorAll(`.ecom-product-single__picker--option-label[data-option-index=\"${i}\"]`).forEach(function(el){\n                             let tmp =document.createElement('span')\n                             tmp.classList.add('ecom-product-single__variant-picker--selected-value');\n                                tmp.innerHTML = variant.options[i];\n                                el.appendChild(tmp);\n                        })\n\n\n                    }\n                }\n\n                function selectCallback(variant) {\n                    updateBadge(variant);\n                    updateFeatured(variant);\n                    updateProductButtons(variant);\n                    updateQuantity(variant);\n                    updateSwatch(variant);\n                    updatePrice(variant);\n                    updateCountdown(variant);\n                    updateVariantAttribute(variant);\n                    updateOptionSelected(variant);\n                    updateImageLabel(variant);\n                    const variantChangeEvent = new CustomEvent('ecomVariantChange', {detail: {variant: variant}});\n                    $section.dispatchEvent(variantChangeEvent);\n                }\n\n\n\n                if (\n                    (!selector ||\n                        !selector.classList.contains('ecom-product-single__picker-default-variant')) &&\n                    window.EComposer.OptionSelectors\n                ) {\n                    function triggerSelector() {\n                        const variant = mySelector.product.getVariantById(selector.value);\n                        if (variant) {\n                            selectCallback(variant);\n                        }\n                    }\n                    // eslint-disable-next-line no-var\n                    const mySelector = new window.EComposer.OptionSelectors(selector.id, {\n                        product: product,\n                        onVariantSelected: selectCallback,\n                        enableHistoryState: historyState\n                    });\n                    selector.addEventListener('swatch', function(event) {\n                        mySelector.selectVariant(event.target.value);\n                    });\n\n                    selector.addEventListener('ecomUpdate', function() {\n                        clearTimeout(pickerTimeout);\n                        pickerTimeout = setTimeout(triggerSelector, 1000);\n                    });\n\n                    //Hide unavaiable variant\n                    EComposer.optionsMap = {};\n                    EComposer.updateOptionsInSelector = function(selectorIndex) {\n                        switch (selectorIndex) {\n                            case 0:\n                                var key = 'root';\n                                var selector = $container.querySelectorAll('.single-option-selector')[0];\n                                break;\n                            case 1:\n                                var key = $container.querySelectorAll('.single-option-selector')[0].value;\n                                var selector = $container.querySelectorAll('.single-option-selector')[1];\n                                break;\n                            case 2:\n                                var key = $container.querySelectorAll('.single-option-selector')[0].value;\n                                key += ' / ' + $container.querySelectorAll('.single-option-selector')[1].value;\n                                var selector = $container.querySelectorAll('.single-option-selector')[2];\n                                break;\n                        }\n                        if(!selector) return;\n                        var initialValue = selector.value;\n                        selector.innerHTML = '';\n                        var availableOptions = EComposer.optionsMap[key];\n                        if(!availableOptions) return;\n\n                        for (var i=0; i<availableOptions.length; i++) {\n                            var option = availableOptions[i];\n\n                            var newOption = document.createElement('option');\n                            newOption.value = option;\n                            newOption.innerHTML = option;\n                            selector.append(newOption);\n                        }\n                        var option_select = $section.querySelector('.ecom-product-single__swatch-select[data-option-index=\"' + selectorIndex + '\"]');\n                        if(option_select) {\n                            option_select.innerHTML = selector.innerHTML;\n                        }\n                        $section.querySelectorAll('.ecom-product-single__swatch-item[data-option-index=\"' + selectorIndex + '\"]').forEach((el) => {\n                            var value = el.dataset.value;\n                            if(value && availableOptions.indexOf(value) !== -1) {\n                                el.classList.remove('ecom-variant-disable');\n                            } else {\n                                el.classList.add('ecom-variant-disable');\n                            }\n                        });\n\n                        if(availableOptions.indexOf(initialValue) !== -1) {\n                            selector.value = initialValue;\n                        }\n                        selector.dispatchEvent(new Event('change'));\n\n                    };\n\n                    EComposer.linkOptionSelectors = function(product) {\n                        // Building our mapping object.\n                        for (var i=0; i<product.variants.length; i++) {\n                            var variant = product.variants[i];\n                            if (variant.available) {\n                            // Gathering values for the 1st drop-down.\n                            EComposer.optionsMap['root'] = EComposer.optionsMap['root'] || [];\n                            EComposer.optionsMap['root'].push(variant.option1);\n                            EComposer.optionsMap['root'] = EComposer.uniq(EComposer.optionsMap['root']);\n\n                            // Gathering values for the 2nd drop-down.\n                            if (product.options.length > 1) {\n                                var key = variant.option1;\n                                EComposer.optionsMap[key] = EComposer.optionsMap[key] || [];\n                                EComposer.optionsMap[key].push(variant.option2);\n                                EComposer.optionsMap[key] = EComposer.uniq(EComposer.optionsMap[key]);\n                            }\n                            // Gathering values for the 3rd drop-down.\n                            if (product.options.length === 3) {\n                                var key = variant.option1 + ' / ' + variant.option2;\n                                EComposer.optionsMap[key] = EComposer.optionsMap[key] || [];\n                                EComposer.optionsMap[key].push(variant.option3);\n                                EComposer.optionsMap[key] = EComposer.uniq(EComposer.optionsMap[key]);\n                            }\n                            }\n                        }\n                        // Update options right away.\n                        EComposer.updateOptionsInSelector(0);\n                        if (product.options.length > 1) EComposer.updateOptionsInSelector(1);\n                        if (product.options.length === 3) EComposer.updateOptionsInSelector(2);\n\n                        var option_0 = $container.querySelectorAll(\".single-option-selector\")[0];\n                        if(option_0) {\n                            option_0.addEventListener('change', function(el) {\n                                if (product.options.length > 1) EComposer.updateOptionsInSelector(1);\n                                if (product.options.length === 3) EComposer.updateOptionsInSelector(2);\n                                    return true;\n                            })\n                        }\n\n                        var option_1 = $container.querySelectorAll(\".single-option-selector\")[1];\n                        if(option_1) {\n                            option_1.addEventListener('change', function(el) {\n                                if (product.options.length === 3)\n                                    EComposer.updateOptionsInSelector(2);\n                                return true;\n                            })\n                        }\n                    };\n\n                    if (window.MutationObserver && $section && this.settings.hasOwnProperty('hide_unavaiable_variant') &&  this.settings.hide_unavaiable_variant) {\n                        if (typeof observer === 'object' && typeof observer.disconnect === 'function') {\n                            observer.disconnect();\n                        }\n                        var config = { childList: true, subtree: true };\n                        var observer = new MutationObserver(function() {\n                            EComposer.linkOptionSelectors(product);\n                            observer.disconnect();\n                        });\n                        observer.observe($section, config);\n                    }\n                }\n\n                if (!this.settings.hasOwnProperty('show_option_selected') && !this.settings.show_option_selected) {\n                    const dropdownTypeLabels = $el.querySelectorAll(\n                        '.selector-wrapper label[for*=\"ecom-variant-selector\"'\n                    );\n\n                    if (dropdownTypeLabels.length > 0) {\n                        dropdownTypeLabels.forEach((label) => {\n                            const textLabel = label.textContent;\n                            if(label.childNodes.length)\n                                label.childNodes[0].remove();\n                            const newLabelDom = document.createElement('span');\n                            newLabelDom.className = 'ecom-product-variant--option-label-text';\n                            newLabelDom.innerText = `${textLabel}:`;\n\n                            label.prepend(newLabelDom);\n                        });\n                    }\n                }\n\n                    $section.querySelectorAll('.ecom-product-single__swatch-item[data-option-index]').forEach((el) => {\n                        el.addEventListener('click', function(event) {\n                            event.preventDefault();\n                            const $slider = $section.querySelector('.ecom-product-single__media--featured');\n                            $slider && $slider.removeAttribute('data-priority');\n                            const _this = this;\n                            if(this.classList.contains('ecom-button-active') && this.classList.contains('ecom-image-button'))\n                            {\n                                return ;\n                            }\n                            this.parentNode.childNodes.forEach(function(el){\n                                if(el.classList)\n                                {\n                                    el.classList.remove('ecom-button-active');\n                                    el.classList.remove('ecom-image-button');\n                                }\n\n                            });\n                            this.classList.add('ecom-button-active');\n                            this.classList.add('ecom-image-button');\n                            const optionIndex = this.dataset.optionIndex;\n\n                            $section.querySelectorAll('select#' + selector.id + '-option-' + optionIndex).forEach(function(el) {\n                                el.value = _this.dataset.value;\n                                el.dispatchEvent(new Event('change'));\n                            });\n                        });\n                    });\n\n\n                    $section.querySelectorAll('.ecom-product-single__swatch-select').forEach(function(element) {\n                        element.addEventListener('change', function(e){\n                            const $slider = $section.querySelector('.ecom-product-single__media--featured');\n                            $slider && $slider.removeAttribute('data-priority');\n\n                            let optionIndex  = e.target.getAttribute('data-option-index');\n                            let val = e.target.value;\n                            $section.querySelectorAll('select#' + selector.id + '-option-' + optionIndex).forEach(function(e){\n                                e.value = val;\n                                e.dispatchEvent(new Event('change'));\n                            });\n                        })\n                    });\n\n\n            };\n        },\n\n        liquids() {\n            const tagName = 'script';\n            const liquids = {\n                wrapper_classes: {\n                    code: `{% if product.has_only_default_variant%}${this.exporting ? '' : ' ecom-placeholder-on-builder-mode ecom-force-show'} ecom-product-single__variant-picker--only-default{% endif%}`,\n                    preview: ''\n                },\n                assign_variant: {\n                    code: `\n                        {% assign ecom_has_variant_picker = true%}\n                        {% assign variant_selected = product.selected_or_first_available_variant%}\n                        `,\n                    preview: ''\n                },\n                options: {\n                    code: `\n                        <select name=\"id\" class=\"ecom-product-single-select-id{%-if product.has_only_default_variant-%}ecom-product-single__picker-default-variant{% endif %}\" data-product-id=\"{{product.id}}\" data-json-product=\"product-json-{{product.id}}-${this.element_id}\" id=\"ecom-variant-selector-{{product.id}}-${this.element_id}\">\n                            {% for variant in product.variants%}\n                                <option value=\"{{variant.id}}\" {% if variant_selected.id == variant.id %} selected=\"selected\" {% endif %}>{{variant.title}}</option>\n                            {% endfor %}\n                        </select>\n                    `,\n                    preview: `\n                        <div class=\"ecom-skeleton-item\">\n                                <div class=\"ecom-skeleton-col-12\">\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-12\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-big\"></div>\n                                    <div class=\"ecom-skeleton-col-4 ecom-skeleton-big ecom-skeleton-empty\"></div>\n                                </div>\n                                </div>\n                                <div class=\"ecom-skeleton-col-12\">\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-12\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-big\"></div>\n                                    <div class=\"ecom-skeleton-col-4 ecom-skeleton-big ecom-skeleton-empty\"></div>\n                                </div>\n                                </div>\n                            </div>\n                    `\n                },\n\n                product_json: {\n                    code: `\n                        {%- capture ecom_product_json -%}\n                        {\n                            \"id\":  {{ product.id }},\n                            \"title\":  {{ product.title | json }},\n                            \"handle\":  {{ product.handle | json }},\n                            \"price\":  {{ product.price| json }},\n                            \"price_min\":  {{ product.price_min| json }},\n                            \"price_max\":  {{ product.price_max| json }},\n                            \"available\":  {{ product.available | json }},\n                            \"price_varies\":  {{ product.price_varies| json }},\n                            \"compare_at_price\":  {{ product.compare_at_price| json }},\n                            \"compare_at_price_min\":  {{ product.compare_at_price_min| json }},\n                            \"compare_at_price_max\":  {{ product.compare_at_price_max| json }},\n                            \"compare_at_price_varies\":  {{ product.compare_at_price_varies| json }},\n                            \"variants\": [\n                                {%- for variant in product.variants -%}\n                                {\n                                    \"id\":  {{ variant.id }},\n                                    \"title\": \" {{ variant.option1 | handleize }}{%- if product.options.size == 2 -%} / {%- endif -%} {{ variant.option2 | handleize }}{%- if product.options.size == 3 -%} / {%- endif -%} {{ variant.option3 | handleize }}\",\n                                    \"option1\":  {{ variant.option1  | json }},\n                                    \"option2\": {%- if product.options.size == 1 -%}null{%-else-%} {{ variant.option2  | json }}{%-endif-%},\n                                    \"option3\": {%- if product.options.size == 1 or product.options.size == 2 -%}null{%-else-%} {{ variant.option3  | json }}{%-endif-%},\n                                    \"sku\":  {{ variant.sku | json }},\n                                    \"requires_shipping\":  {{ variant.requires_shipping }},\n                                    \"taxable\":  {{ variant.taxable |json }},\n                                    \"selling_plan_allocations\":{%- if variant.selling_plan_allocations and variant.selling_plan_allocations.size > 0 -%}[{% for allocation in variant.selling_plan_allocations %}{\"price\":{{allocation.price}},\"selling_plan\":{\"id\":{{allocation.selling_plan.id}}, \"name\":{{allocation.selling_plan.name | json }} } }{%unless forloop.last%},{% endunless%}{%- endfor -%}]{%- else -%}null{%- endif -%},\n                                    \"featured_image\": {%- if variant.image.id != blank -%}{\n                                        \"id\":  {{ variant.image.id | json }},\n                                        \"product_id\":  {{ product.id | json }},\n                                        \"width\":  {{ variant.image.width | json }},\n                                        \"height\":  {{ variant.image.height | json }},\n                                        \"src\":  {{ variant.image.src | json }},\n                                        \"position\": {{ variant.image.position }}\n                                    }{%- else-%}null{%-endif-%},\n                                    \"available\":  {{ variant.available }},\n                                    \"public_title\": \" {{ variant.option1 | handleize }}{%- if product.options.size == 2 -%} / {%- endif -%} {{ variant.option2 | handleize }}{%- if product.options.size == 3 -%} / {%- endif -%} {{ variant.option3 | handleize }}\",\n                                    \"options\":   {{ variant.options | json }},\n                                    \"price\":  {{ variant.price| json }},\n                                    \"weight\":  {{ variant.weight| json }},\n                                    \"unit_price\": {{ variant.unit_price | json }},\n                                    \"unit_price_measurement\": {\n                                        \"measured_type\": {{ variant.unit_price_measurement.measured_type | json }},\n                                        \"quantity_value\": {{ variant.unit_price_measurement.quantity_value | json }},\n                                        \"quantity_unit\": {{ variant.unit_price_measurement.quantity_unit | json }},\n                                        \"reference_value\": {{ variant.unit_price_measurement.reference_value | json }},\n                                        \"reference_unit\": {{ variant.unit_price_measurement.reference_unit | json }}\n                                    },\n                                    \"compare_at_price\":  {{ variant.compare_at_price | json }},\n                                    \"inventory_quantity\":  {{ variant.inventory_quantity | json }},\n                                    \"inventory_management\":  {{ variant.inventory_management | json }},\n                                    \"inventory_policy\":  {{ variant.inventory_policy | json }},\n                                    \"next_incoming_date\": {% if variant.next_incoming_date %}{{variant.next_incoming_date | time_tag | json }}{% else%}null{% endif %},\n                                    \"barcode\":  {{ variant.barcode | json }}\n                                }{%- if forloop.last == false -%},{%- endif -%}\n                                {%- endfor -%}\n                            ],\n                            \"featured_image\":  {{ product.featured_image | json }},\n                            \"options\": [\n                                {%- for option in product.options -%}\n                                {{ option | json }}{%- if forloop.last == false -%},{%- endif -%}\n                                {%-endfor -%}\n                            ]\n                        }\n                        {%- endcapture -%}\n                        <${tagName} type=\"application/json\" id=\"product-json-{{product.id}}-${this.element_id}\">\n                                {{ ecom_product_json}}\n                            </${tagName}>`,\n                    preview: `<${tagName} id=\"product-json-preview\">{}</${tagName}>`\n                }\n            };\n            if (this.swatch_type === 'image') {\n                // swatch_images\n                liquids.swatch_images = {\n                    code: `\n                        {%- capture swatch_option  -%}${this.lang(this.data.settings.option,'product_option_swatch')}{%- endcapture-%}\n                        {% unless product.has_only_default_variant %}\n                            {%- for option in product.options_with_values -%}\n                                {%- if option.name == swatch_option -%}\n\n                                    {% assign current_option = option %}\n                                    {% assign option_index = current_option.position | minus: 1 %}\n                                    <div class=\"ecom-product-single__picker-main ecom-product-single__picker-option-{{current_option.name | handleize }}\">\n                                        <span class=\"ecom-product-single__picker-main-label ecom-product-single__picker--option-label\" data-option-index=\"{{current_option.position | minus: 1}}\">\n                                            <span class=\"ecom-product-variant--option-label-text\">{{ current_option.name }}</span>\n                                        </span>\n                                        <ul class=\"ecom-product-single__picker-images-list\">\n                                            {%- assign values = \"\"  -%}\n                                            {%- assign index = current_option.position | prepend:  'option' -%}\n                                            {%- for variant in product.variants -%}\n                                                {%- assign option_value = variant[index] -%}\n                                                {%- assign option_value_downcase = variant[index] | downcase -%}\n                                                {%- if values != \"\"%}\n                                                    {%- assign tmp = values | split: '|' -%}\n                                                    {%- if tmp contains option_value_downcase  -%} {%- continue-%}{%- endif -%}\n                                                    {%- assign values = values  | append:   '|' | append: option_value_downcase -%}\n                                                {%- else -%}\n                                                    {%- assign values = option_value_downcase -%}\n                                                {%- endif -%}\n                                                <li data-option-index=\"{{ option_index }}\" class=\"ecom-image-default ecom-product-single__swatch-item ecom-product-single__picker-images-item  {% if option_value == variant_selected[index] %}ecom-image-active{% endif %}\" data-value=\"{{ option_value | escape }}\">\n                                                    <img src=\"{{ variant | img_url: \"120x120\", crop: 'center' }}\" alt=\"{{ option_value }}\" />\n                                                </li>\n                                            {%- endfor -%}\n                                        </ul>\n                                    </div>\n\n                                {% continue%}\n                                {%-endif-%}\n                                {%- assign index = option.position | prepend:  'option' -%}\n                                {% assign option_index = option.position | minus: 1 %}\n                                    <div class=\"ecom-product-single__picker-option-{{option.name | handleize }}\">\n                                        <span class=\"ecom-product-single__picker-${this.option_layout}-label ecom-product-single__picker--option-label\" data-option-index=\"{{option_index}}\">\n                                            <span class=\"ecom-product-variant--option-label-text\">{{option.name}}</span>\n                                        </span>\n                                        ${this.option_layout === 'radio'? `\n                                            <ul class=\"ecom-product-single__picker-${this.option_layout}-list\">\n                                                {% for value in option.values %}\n                                                    <li class=\"ecom-product-single__swatch-item ecom-product-single__picker-${this.option_layout}-list-item {% if value == variant_selected[index] %}ecom-button-active{% endif %}\" data-option-index=\"{{ option_index }}\" data-value=\"{{ value | escape }}\">\n                                                        {{value}}\n                                                    </li>\n                                                {% endfor %}\n                                            </ul>\n                                        `\n                                        : `\n                                            <select class=\"ecom-product-single__swatch-select ecom-product-single__picker-${this.option_layout}-list\" data-option-index=\"{{ option_index }}\">\n                                                {% for value in option.values %}\n                                                    <option value=\"{{value | escape }}\" {% if value == variant_selected[index] %}selected=\"selected\"{% endif %}>\n                                                        {{value}}\n                                                    </option>\n                                                {% endfor %}\n                                            </select>\n                                        `\n                                        }\n                                    </div>\n                            {%- endfor -%}\n                        {% endunless %}\n                    `,\n                    preview: `\n                            <div class=\"ecom-skeleton-item\">\n                                <div class=\"ecom-skeleton-col-12\">\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-12\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-big\"></div>\n                                    <div class=\"ecom-skeleton-col-4 ecom-skeleton-big ecom-skeleton-empty\"></div>\n                                </div>\n                                </div>\n                                <div class=\"ecom-skeleton-col-12\">\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-12\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-big\"></div>\n                                    <div class=\"ecom-skeleton-col-4 ecom-skeleton-big ecom-skeleton-empty\"></div>\n                                </div>\n                                </div>\n                            </div>\n                        `\n                };\n            } else if (this.swatch_type === 'color') {\n                liquids.swatch_colors = {\n                    code: `\n                        {%- capture swatch_option  -%}${this.lang(this.data.settings.option,'product_option_swatch')}{% endcapture%}\n                        {%liquid\n                            assign colors = shop.metafields.ecomposer.colors\n                        %}\n                        {% unless product.has_only_default_variant %}\n\n                            {%- for option in product.options_with_values -%}\n                                {%- if option.name == swatch_option -%}\n                                    {% assign variant_selected = product.selected_or_first_available_variant %}\n                                    {% assign current_option =  option %}\n                                    {% assign option_index = current_option.position | minus: 1 %}\n                                    <div class=\"ecom-product-single__picker-main ecom-product-single__picker-option-{{option.name | handleize }}\">\n                                        <span class=\"ecom-product-single__picker-main-label ecom-product-single__picker--option-label\" data-option-index=\"{{current_option.position | minus: 1}}\">\n                                            <span class=\"ecom-product-variant--option-label-text\">{{ current_option.name }}</span>\n                                        </span>\n                                        <ul class=\"ecom-product-single__picker-colors-list\">\n                                            {%- assign index = current_option.position | prepend:  'option' -%}\n                                            {% assign value_key_selected = variant_selected[index] | downcase %}\n                                            {%- for value in current_option.values -%}\n                                                {% assign value_key = value | downcase | strip %}\n                                                <li data-option-index=\"{{ option_index }}\" class=\"ecom-product-single__swatch-item ecom-product-single__picker-colors-item  {% if value_key == value_key_selected %}ecom-box-active{% endif %}\" data-value=\"{{ value | escape }}\">\n                                                    <span {% if colors and colors.value[value_key] != blank  %} style=\"{{colors.value[value_key]}}\"{% else %} class=\"ecom-product-single__picker-colors--no-color\" ${this.exporting=== false ? 'data-ecom-tooltip=\"Please set the color in Color Swatches extension\"' :''} {% endif %}>\n                                                    </span>\n                                                </li>\n                                            {%- endfor -%}\n                                        </ul>\n                                    </div>\n                                {% continue%}\n                                {%-endif-%}\n                                {%- assign index = option.position | prepend:  'option' -%}\n                                {% assign option_index = option.position | minus: 1 %}\n                                    <div class=\"ecom-product-single__picker-option-{{option.name | handleize }}\">\n                                        <span class=\"ecom-product-single__picker-${this.option_layout}-label ecom-product-single__picker--option-label\" data-option-index=\"{{option_index}}\">\n                                            <span class=\"ecom-product-variant--option-label-text\">{{option.name}}</span>\n                                        </span>\n                                        ${this.option_layout === 'radio' ? `\n                                            <ul class=\"ecom-product-single__picker-${this.option_layout}-list\">\n                                                {% for value in option.values %}\n                                                    <li class=\"ecom-product-single__swatch-item ecom-product-single__picker-${this.option_layout}-list-item {% if value == variant_selected[index] %}ecom-button-active{% endif %}\" data-option-index=\"{{ option_index }}\" data-value=\"{{ value | escape }}\">\n                                                        {{value}}\n                                                    </li>\n                                                {% endfor %}\n                                            </ul>\n                                        `\n                                        : `\n                                            <select class=\"ecom-product-single__swatch-select ecom-product-single__picker-${this.option_layout}-list\" data-option-index=\"{{ option_index }}\">\n                                                {% for value in option.values %}\n                                                    <option value=\"{{value | escape }}\" {% if value == variant_selected[index] %}selected=\"selected\"{% endif %}>\n                                                        {{value}}\n                                                    </option>\n                                                {% endfor %}\n                                            </select>\n                                        `\n                                        }\n                                    </div>\n                            {%- endfor -%}\n                        {% endunless %}\n                    `,\n                    preview: `\n                            <div class=\"ecom-skeleton-item\">\n                                <div class=\"ecom-skeleton-col-12\">\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-12\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-big\"></div>\n                                    <div class=\"ecom-skeleton-col-4 ecom-skeleton-big ecom-skeleton-empty\"></div>\n                                </div>\n                                </div>\n                                <div class=\"ecom-skeleton-col-12\">\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-12\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-big\"></div>\n                                    <div class=\"ecom-skeleton-col-4 ecom-skeleton-big ecom-skeleton-empty\"></div>\n                                </div>\n                                </div>\n                            </div>\n                        `\n                };\n            } else if (this.swatch_type === 'radio') {\n                liquids.swatch_radios = {\n                    code: `\n                        {% unless product.has_only_default_variant%}\n                            {%- for option in product.options_with_values -%}\n                                {%- assign index = option.position | prepend:  'option' -%}\n                                {% assign option_index = option.position | minus: 1 %}\n                                    <div class=\"ecom-product-single__picker-option-{{option.name | handleize }}\">\n                                        <span class=\"ecom-product-single__picker-${this.swatch_type}-label ecom-product-single__picker--option-label\" data-option-index=\"{{option_index}}\">\n                                            <span class=\"ecom-product-variant--option-label-text\">{{option.name}}</span>\n                                        </span>\n                                            <ul class=\"ecom-product-single__picker-${this.swatch_type}-list\">\n                                                {% for value in option.values %}\n                                                    <li class=\"ecom-product-single__swatch-item ecom-product-single__picker-${this.swatch_type}-list-item {% if value == variant_selected[index] %}ecom-button-active{% endif %}\" data-option-index=\"{{ option_index }}\" data-value=\"{{ value | escape }}\">\n                                                        {{value}}\n                                                    </li>\n                                                {% endfor %}\n                                            </ul>\n                                    </div>\n                            {%- endfor -%}\n                        {% endunless %}\n                    `,\n                    preview: `\n                            <div class=\"ecom-skeleton-item\">\n                                <div class=\"ecom-skeleton-col-12\">\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-12\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-big\"></div>\n                                    <div class=\"ecom-skeleton-col-4 ecom-skeleton-big ecom-skeleton-empty\"></div>\n                                </div>\n                                </div>\n                                <div class=\"ecom-skeleton-col-12\">\n                                <div class=\"ecom-skeleton-row\">\n                                    <div class=\"ecom-skeleton-col-12\"></div>\n                                    <div class=\"ecom-skeleton-col-2\"></div>\n                                    <div class=\"ecom-skeleton-col-10 ecom-skeleton-empty\"></div>\n                                    <div class=\"ecom-skeleton-col-8 ecom-skeleton-big\"></div>\n                                    <div class=\"ecom-skeleton-col-4 ecom-skeleton-big ecom-skeleton-empty\"></div>\n                                </div>\n                                </div>\n                            </div>\n                        `\n                };\n            }\n\n            return liquids;\n        },\n\n        settings() {\n            return [\n                {\n                    params: [\n                        {\n                            type: 'popup',\n                            label: 'Picker type',\n                            name: 'type',\n                            value: 'dropdown',\n                            options: {\n                                type: 'dropdown',\n                                default: false,\n                                values: {\n                                    dropdown: 'Dropdown',\n                                    image: 'Image picker',\n                                    color: 'Color picker',\n                                    radio: 'Radio button'\n                                }\n                            }\n                        },\n                        {\n                            type: 'paragraph',\n                            name: 'color_description',\n                            content: 'Set your color [Here](#extensions/3)',\n                            options: {\n                                visible: function (data) {\n                                    return data.type === 'color';\n                                }\n                            }\n                        },\n                        {\n                            type: 'text',\n                            label: 'Option show as swatch',\n                            name: 'option',\n                            value: 'Color',\n                            placeholder : 'Eg: Color',\n                            options: {\n                                toolbar: false,\n                                visible: function (data) {\n                                    return (\n                                        data &&\n                                        data.type &&\n                                        ['image', 'color'].includes(data.type)\n                                    );\n                                }\n                            }\n                        },\n\n                        {\n                            type: 'popup',\n                            label: 'Other options as',\n                            name: 'option_layout',\n                            value: 'dropdown',\n                            options: {\n                                type: 'dropdown',\n                                default: false,\n                                visible: {\n                                    keep_data: false,\n                                    condition: function (data) {\n                                        return (\n                                            data &&\n                                            data.type &&\n                                            ['image', 'color'].includes(data.type)\n                                        );\n                                    }\n                                } ,\n                                values: {\n                                    dropdown: 'Dropdown',\n                                    radio: 'Radio'\n                                }\n                            }\n                        },\n                        {\n                            type: 'toggle',\n                            label: 'Disable unavailable and sold out variants',\n                            name: 'hide_unavaiable_variant',\n                            options: {\n                                oneline: true,\n                                values: {\n                                    on: {\n                                        label: 'Show',\n                                        value: true\n                                    },\n                                    off: {\n                                        label: 'Hide',\n                                        value: false\n                                    }\n                                }\n                            }\n                        },\n                        {\n                            type: 'toggle',\n                            label: 'Show option selected',\n                            name: 'show_option_selected',\n                            options: {\n                                oneline: true,\n                                values: {\n                                    on: {\n                                        label: 'Show',\n                                        value: true\n                                    },\n                                    off: {\n                                        label: 'Hide',\n                                        value: false\n                                    }\n                                }\n                            }\n                        },\n                        {\n                            type: 'toggle',\n                            label: 'Show option name',\n                            name: 'show_option_name',\n                            options: {\n                                oneline: true,\n                                responsive: true,\n                                values: {\n                                    on: {\n                                        label: 'Show',\n                                        value: 'inline-block'\n                                    },\n                                    off: {\n                                        label: 'Hide',\n                                        value: 'none'\n                                    }\n                                }\n                            },\n                            css:{\n                                selector:' .ecom-product-variant--option-label-text',\n                                properties:{\n                                    display:''\n                                }\n                            }\n                        },\n                        {\n                            type: 'toggle',\n                            label: 'History state on URL',\n                            name: 'history_state',\n                            options: {\n                                oneline: true,\n                                values: {\n                                    on: {\n                                        label: 'Show',\n                                        value: true\n                                    },\n                                    off: {\n                                        label: 'Hide',\n                                        value: false\n                                    }\n                                }\n                            }\n                        },\n                        {\n                            name: 'column_gap',\n                            label: 'Horizontal spacing',\n                            type: 'number',\n                            options: {\n                                min: 0,\n                                max: 100,\n                                responsive: true,\n                                visible: {\n                                    keep_data: true,\n                                    condition: data => data.type !== 'dropdown'\n                                }\n                            },\n                            css: {\n                                properties: {\n                                    'column-gap': '%value%px'\n                                },\n                                selector: ' .ecom-product-single__picker-images-list, .ecom-product-single__picker-colors-list, .ecom-product-single__picker-radio-list',\n                            }\n                        },\n                        {\n                            name: 'row_gap',\n                            label: 'Vertical spacing',\n                            type: 'number',\n                            options: {\n                                min: 0,\n                                max: 100,\n                                responsive: true,\n                                visible: {\n                                    keep_data: true,\n                                    condition: data => data.type !== 'dropdown'\n                                }\n                            },\n                            css: {\n                                properties: {\n                                    'row-gap': '%value%px'\n                                },\n                                selector: ' .ecom-product-single__picker-images-list, .ecom-product-single__picker-colors-list, .ecom-product-single__picker-radio-list',\n                            }\n                        },\n                    ]\n                }\n            ];\n        },\n\n        requestShopifyType() {\n            return {\n                shopify_type: 'product'\n            };\n        },\n\n        swatch_type() {\n            const type =\n                this.data && this.data.settings && 'type' in this.data.settings\n                    ? this.data.settings?.type\n                    : 'dropdown';\n\n            if (\n                ['image', 'color', 'radio'].includes(type) &&\n                this.data &&\n                this.data.settings &&\n                'option' in this.data.settings\n            ) {\n                return type;\n            }\n            return 'dropdown';\n        },\n\n        option_layout() {\n            return this.data?.settings?.option_layout ??'dropdown';\n        },\n\n        css() {\n            return `\n                    .ecom-product-single__variant-picker--options{\n                        align-items:flex-start;\n                        display:flex;\n                        flex-direction:column;\n                    }\n                    .ecom-product-single__variant-picker-wrapper .ecom-variant-disable {\n                        opacity: .4;\n                        pointer-events: none;\n                        cursor: not-allowed;\n                    }\n                    .ecom-product-single__variant-picker [name=\"id\"]{\n                        display:none;\n                    }\n\n\n                    .ecom-product-single__variant-picker-container[data-picker-type=\"dropdown\"] .selector-wrapper{\n                        display:flex;\n                    }\n\n                    .ecom-product-single__variant-picker--only-default .ecom-product-single__variant-picker--options .selector-wrapper {\n                        display:none;\n                    }\n\n                    .ecom-product-single__variant-picker-container{\n                        flex-direction: column;\n                    }\n                    .ecom-product-single__picker-radio-list{\n                        display:block;\n                        position:relative;\n                        width:100%;\n                    }\n                    .ecom-product-single__picker-radio-list .ecom-product-single__picker-radio-list-item{\n                        display:flex;\n                        flex-direction: row;\n                        cursor: pointer;\n                    }\n\n                    .ecom-product-single__picker-colors-item {\n                        padding: 2px;\n                        cursor: pointer;\n\n                    }\n                    .ecom-product-single__picker-colors-item span {\n                        width:20px;\n                        height:20px;\n                        display:block;\n                    }\n\n                    .ecom-product-single__picker-colors-item {\n                        display: inline-flex;\n                        padding: 2px;\n                        border : 2px solid #9e9e9e;\n                    }\n\n                    .ecom-product-single__picker-colors-item.ecom-button-active{\n                        border-color:  rgba(5, 150, 105,1);\n                    }\n\n                    .ecom-product-single__variant-picker .ecom-product-single__picker-main,\n                    .ecom-product-single__variant-picker .selector-wrapper {\n                        display:flex;\n                        flex-direction: column;\n                        align-items:inherit;\n                    }\n                    .ecom-product-single__variant-picker .selector-wrapper{\n                        display:none;\n                         overflow:hidden;\n                        width: 100%;\n                    }\n                     .ecom-product-single__variant-picker select{\n                        overflow: hidden;\n                        text-overflow: ellipsis;\n                        white-space: nowrap;\n                        text-align: center;\n                    }\n                    @media (max-width: 767px) {\n                        .ecom-product-single__variant-picker select{\n                            text-align-last: center;\n                            -moz-text-align-last: center;\n                        }\n                    }\n\n                    .ecom-product-single__picker-colors-list,\n                    .ecom-product-single__picker-radio-list,\n                    .ecom-product-single__picker-images-list {\n\n                        display: flex;\n                        flex-wrap: wrap;\n                    }\n                    .ecom-product-single__picker-images-list li {\n                        cursor: pointer;\n                        margin: 0;\n                    }\n\n                     .ecom-product-single__variant-picker .selector-wrapper label {\n                        display: inline-block;\n                        line-height:1\n                    }\n\n                    .ecom-product-single__picker-radio-list li {\n                        cursor: pointer;\n                        text-align: center;\n                        justify-content: center;\n                    }\n                    .ecom-product-single__picker-images-item{\n                        overflow: hidden;\n                    }\n                    .ecom-product-single__picker-images-item img {\n                        width: 100%;\n                        height: 100%;\n                        object-fit: cover;\n                    }\n                    [data-ecom-tooltip]:before {\n                        position : absolute;\n                        content : attr(data-ecom-tooltip);\n                        text-transform: none;\n                        font-size: .9em;\n                        line-height: 1;\n                        user-select: none;\n                        pointer-events: none;\n                        opacity : 0;\n                        z-index: 1;\n                        width: 50%;\n                        // white-space: nowrap;\n                        overflow: hidden;\n                        text-overflow: ellipsis;\n                        padding: 1ch 1.5ch;\n                        border-radius: .3ch;\n                        box-shadow: 0 1em 2em -.5em rgba(0, 0, 0, 0.35);\n                        background: #333;\n                        color: #fff;\n                    }\n                    [data-ecom-tooltip]:hover:before {\n                        opacity : 1;\n                    }\n\n                    .ecom-product-single__price--prices {\n                        display: inline-block;\n                    }\n\n                    .ecom-product-single__picker-colors-item span{\n                        transition:inherit;\n                        border-radius:inherit;\n                    }\n                    .ecom-product-single__variant-picker--main{\n                        flex-direction:column;\n                        display:flex;\n                    }\n                    .ecom-product-single__variant-picker--main > div{\n                        display:flex;\n                        flex-direction:column;\n                        align-items:inherit;\n                        justify-content:inherit;\n                    }\n                `;\n        },\n\n        default() {\n            return {\n                \"settings\": {\n                    \"type\": \"dropdown\",\n                    \"option\": \"Color\",\n                    \"show_option_selected\": true,\n                    \"show_option_name\": \"inline-block\",\n                    \"column_gap\": 15,\n                    \"row_gap\": 10\n                },\n                \"style\": {\n                    \"general\": {\n                        \"align-items\": \"flex-start\"\n                    },\n                    \"variant_name\": {\n                        \"spacing\": {\n                            \"margin\": {\n                                \"bottom\": \"5px\",\n                                \"top\": \"10px\"\n                            }\n                        },\n                        \"textTypography\": {\n                            \"title\": \"New Item\",\n                            \"value\": {},\n                            \"font-family\": {},\n                            \"font-size\": \"17px\",\n                            \"font-weight\": \"500\"\n                        },\n                        \"textColor\": \"#111\"\n                    },\n                    \"variant_value\": {\n                        \"textTypography\": {\n                            \"title\": \"New Item\",\n                            \"value\": {},\n                            \"font-family\": {},\n                            \"font-size\": \"15px\",\n                            \"font-weight\": \"500\"\n                        },\n                        \"textColor\": \"#616161\"\n                    },\n                    \"dropdown\": {\n                        \"text-align\": \"left\",\n                        \"width\": \"120px\",\n                        \"spacing\": {\n                            \"padding\": {\n                                \"top\": \"8px\",\n                                \"left\": \"8px\",\n                                \"bottom\": \"8px\",\n                                \"right\": \"8px\"\n                            },\n                            \"margin\": {\n                                \"right\": \"0px\",\n                                \"bottom\": \"5px\",\n                                \"top\": \"0px\",\n                                \"left\": \"0px\"\n                            }\n                        },\n                        \"tab\": \"focus\",\n                        \"typo\": {\n                            \"global-typography\": \"m5lJMKLv\"\n                        },\n                        \"border\": {\n                            \"border-style\": \"solid\",\n                            \"border-width\": {\n                                \"top\": \"1px\",\n                                \"left\": \"1px\",\n                                \"bottom\": \"1px\",\n                                \"right\": \"1px\"\n                            },\n                            \"border-color\": \"#8787\"\n                        },\n                        \"borderRadius\": {\n                            \"top\": \"3px\",\n                            \"left\": \"3px\",\n                            \"bottom\": \"3px\",\n                            \"right\": \"3px\"\n                        },\n                        \"outline\": {\n                            \"outline\": {\n                                \"outline-style\": \"none\"\n                            }\n                        },\n                        \"boxShadow\": {\n                            \"box-shadow\": {\n                                \"blur\": \"0px\",\n                                \"position\": \"outline\",\n                                \"color\": \"rgba(255, 0, 0, 0)\"\n                            }\n                        },\n                        \"borderFocusMode\": {\n                            \"border-style\": \"solid\",\n                            \"border-width\": {\n                                \"top\": \"1px\",\n                                \"left\": \"1px\",\n                                \"bottom\": \"1px\",\n                                \"right\": \"1px\"\n                            },\n                            \"border-color\": \"#c2c2c2\"\n                        }\n                    },\n                    \"image\": {\n                        \"tab\": \"active\",\n                        \"imageWidth\": \"60px\",\n                        \"iamgeBorderactivemode\": {\n                            \"border-style\": \"solid\",\n                            \"border-color\": \"#0e7490\",\n                            \"border-width\": {\n                                \"top\": \"2px\",\n                                \"left\": \"2px\",\n                                \"bottom\": \"2px\",\n                                \"right\": \"2px\"\n                            }\n                        },\n                        \"imageWidth__mobile\": \"20%\",\n                        \"spacing\": {\n                            \"margin\": {\n                                \"right\": \"0px\",\n                                \"bottom\": \"0px\"\n                            },\n                            \"padding\": {\n                                \"bottom\": \"0px\",\n                                \"top\": \"0px\"\n                            }\n                        },\n                        \"imageBorderRadiusnormalmode\": {\n                            \"right\": \"5px\",\n                            \"top\": \"5px\",\n                            \"left\": \"5px\",\n                            \"bottom\": \"5px\"\n                        },\n                        \"iamgeBordernormalmode\": {\n                            \"border-style\": \"solid\",\n                            \"border-width\": {\n                                \"top\": \"2px\",\n                                \"left\": \"2px\",\n                                \"bottom\": \"2px\",\n                                \"right\": \"2px\"\n                            },\n                            \"border-color\": \"#999999\"\n                        },\n                        \"imageAnimation\": \"grow\",\n                        \"imageTransition\": 300,\n                        \"imageHeight\": \"60px\",\n                        \"imageObjectFit\": \"cover\"\n                    },\n                    \"button_image_radio\": {\n                        \"tab\": \"active\",\n                        \"buttonTypography\": {\n                            \"global-typography\": \"HH699X\"\n                        },\n                        \"buttonColornormalmode\": \"#666666\",\n                        \"buttonBordernormalmode\": {\n                            \"border-style\": \"solid\",\n                            \"border-width\": {\n                                \"top\": \"2px\",\n                                \"left\": \"2px\",\n                                \"bottom\": \"2px\",\n                                \"right\": \"2px\"\n                            },\n                            \"border-color\": \"#6e6e6e\"\n                        },\n                        \"spacing\": {\n                            \"margin\": {\n                                \"right\": \"0px\",\n                                \"top\": \"0px\",\n                                \"left\": \"0px\",\n                                \"bottom\": \"0px\"\n                            },\n                            \"padding\": {\n                                \"top\": \"5px\",\n                                \"left\": \"5px\",\n                                \"bottom\": \"5px\",\n                                \"right\": \"5px\"\n                            }\n                        },\n                        \"buttonBorderhovermode\": {\n                            \"border-style\": \"solid\",\n                            \"border-width\": {\n                                \"top\": \"2px\",\n                                \"left\": \"2px\",\n                                \"bottom\": \"2px\",\n                                \"right\": \"2px\"\n                            },\n                            \"border-color\": \"#0e7490\"\n                        },\n                        \"transitions\": {\n                            \"transitions\": {\n                                \"delay\": \"100ms\",\n                                \"duration\": \"300ms\",\n                                \"timing\": \"ease-in-out\"\n                            }\n                        },\n                        \"buttonBorderactivemode\": {\n                            \"border-style\": \"solid\",\n                            \"border-width\": {\n                                \"top\": \"2px\",\n                                \"left\": \"2px\",\n                                \"bottom\": \"2px\",\n                                \"right\": \"2px\"\n                            },\n                            \"border-color\": \"#0e7490\"\n                        }\n                    },\n                    \"button_radio\": {\n                        \"tab\": \"normal\",\n                        \"min_width\": \"40px\"\n                    }\n                },\n                \"advanced\": {\n                    \"spacing\": {\n                        \"padding\": {\n                            \"left\": \"5px\",\n                            \"top\": \"5px\",\n                            \"bottom\": \"5px\",\n                            \"right\": \"5px\"\n                        },\n                        \"margin\": {\n                            \"right\": \"0px\",\n                            \"top\": \"0px\",\n                            \"left\": \"0px\",\n                            \"bottom\": \"0px\"\n                        }\n                    }\n                }\n            }\n        }\n    },\n\n    methods: {\n        style() {\n            const style = [\n                {\n                    group_alias: 'box',\n                    options: {\n                        group_title:'General',\n                        group_name:'general',\n                        selector:' .ecom-product-single__variant-picker-container'\n                    },\n                    modify:{\n                        params:{\n                            alias:'align-items',\n                            options:{\n                                label:'Alignment',\n                                css:{\n                                    selector:' .ecom-product-single__variant-picker--options, .ecom-product-single__variant-picker--main',\n                                    properties:{\n                                        'align-items':'',\n                                        'justify-content':''\n                                    }\n                                }\n                            }\n                        }\n                    }\n                },\n                {\n                    group_alias: 'text:spacing',\n                    options: {\n                        group_title: 'Variant name',\n                        group_name:'variant_name',\n                        selector:\n                            ' .ecom-product-single__picker-main-label .ecom-product-variant--option-label-text, .ecom-product-single__picker-radio-label .ecom-product-variant--option-label-text, .ecom-product-single__picker-dropdown-label .ecom-product-variant--option-label-text, .selector-wrapper .ecom-product-variant--option-label-text'\n                    },\n                    modify: {\n                        remove: {\n                            index: 0, length: 1\n                        }\n                    }\n                }\n            ];\n            if (this.data.settings?.show_option_selected) {\n                style.push({\n                    group_alias: 'text:spacing',\n                    options: {\n                        group_title: 'Variant value',\n                        group_name:'variant_value',\n                        selector: ' .ecom-product-single__variant-picker--selected-value'\n                    },\n                    modify: {\n                        remove: {\n                            index: 0, length: 1\n                        }\n                    }\n                });\n            }\n\n            if (this.data.settings?.type === 'image') {\n                style.push({\n                    group_alias: 'image:active',\n                    options: {\n                        group_title: 'Variant Image',\n                        group_name:'image',\n                        selector: ' .ecom-product-single__picker-images-item'\n                    },\n                    modify:{\n                        params:{\n                            position:30,\n                            fields:[\n                                {\n                                    type:'line'\n                                },\n                                {\n                                    alias:'spacing',\n                                    options:{\n                                        css:{\n                                            selector:'root .ecom-product-single__picker-images-item'\n                                        }\n                                    }\n                                }\n                            ]\n                        }\n                    }\n                });\n                if (this.data.settings?.option_layout === 'radio') {\n                    style.push({\n                        group_alias: 'button:active',\n                        options: {\n                            group_title: 'Radio Button',\n                            group_name:'button_image_radio',\n                            selector: ' .ecom-product-single__picker-radio-list-item'\n                        }\n                    });\n                }\n            }\n            if (this.data.settings?.type === 'color') {\n                style.push({\n                    group_alias: 'box:active',\n                    options: {\n                        group_title: 'Color picker',\n                        group_name:'button',\n                        selector: ' .ecom-product-single__picker-colors-item'\n                    },\n                    modify:{\n                        params:[\n                            {\n                                position:0,\n                                fields:[\n                                    {\n                                        name: 'width',\n                                        label: 'Width',\n                                        type: 'number',\n                                        options: {\n                                            responsive: true,\n                                            units: {\n                                                px: {\n                                                    min:10,\n                                                    max: 100\n                                                }\n                                            }\n                                        },\n                                        css:{\n                                            selector:' span',\n                                            properties:{\n                                                width:''\n                                            }\n                                        }\n                                    },\n                                    {\n                                        name: 'height',\n                                        label: 'Height',\n                                        type: 'number',\n                                        options: {\n                                            responsive: true,\n                                            units: {\n                                                px: {\n                                                    min:10,\n                                                    max: 100\n                                                }\n                                            }\n                                        },\n                                        css:{\n                                            selector:' span',\n                                            properties:{\n                                                height:''\n                                            }\n                                        }\n                                    }\n                                ]\n                            },\n                            {\n                                position:30,\n                                fields:[\n                                    {\n                                        type:'line'\n                                    },\n                                    {\n                                        alias:'spacing'\n                                    }\n                                ]\n                            }\n                        ]\n                    }\n                });\n\n                if (this.data.settings?.option_layout === 'radio') {\n                    style.push({\n                        group_alias: 'button:active',\n                        options: {\n                            group_title: 'Radio Button',\n                            group_name:'button_color_radio',\n                            selector: ' .ecom-product-single__picker-radio-list-item'\n                        },\n                        modify: {\n                            params: [\n                                {\n                                    position: 3,\n                                    fields: [\n                                        {\n                                            name: 'min_width',\n                                            label: 'Min Width',\n                                            type: 'number',\n                                            options: {\n                                                responsive: true,\n                                                units: {\n                                                    px: {\n                                                        min: 0,\n                                                        max: 200\n                                                    },\n                                                }\n                                            },\n                                            css:{\n                                                properties:{\n                                                    'min-width': ''\n                                                }\n                                            }\n                                        },\n                                    ]\n                                }\n                            ]\n                        }\n                    });\n                }\n            }\n            if (this.data.settings?.type === 'radio') {\n                style.push({\n                    group_alias: 'button:active',\n                    options: {\n                        group_title: 'Radio button',\n                        group_name:'button_radio',\n                        selector: ' .ecom-product-single__picker-radio-list-item'\n                    },\n                    modify: {\n                        params: [\n                            {\n                                position: 3,\n                                fields: [\n                                    {\n                                        name: 'min_width',\n                                        label: 'Min Width',\n                                        type: 'number',\n                                        options: {\n                                            responsive: true,\n                                            units: {\n                                                px: {\n                                                    min: 0,\n                                                    max: 200\n                                                },\n                                            }\n                                        },\n                                        css:{\n                                            properties:{\n                                                'min-width': ''\n                                            }\n                                        }\n                                    },\n                                ]\n                            }\n                        ]\n                    }\n                });\n            }\n\n            if (\n                this.data.settings?.type === 'dropdown' ||\n                this.data.settings?.option_layout === 'dropdown'\n            ) {\n                style.push({\n                    group_alias: 'input',\n                    options: {\n                        group_title: 'Dropdown',\n                        group_name:'dropdown',\n                        selector: ' .ecom-product-single__swatch-select, .single-option-selector'\n                    },\n                    modify: {\n                        remove: {\n                            index: 3, length: 1\n                        }\n                    }\n                });\n            }\n\n            return style;\n        }\n    },\n};\n</script>\n"],"names":["_sfc_main","Liquid","Javascript","Element","$el","isLive","updateSelected","historyState","selector","$section","$container","pickerTimeout","json","product","updateBadge","variant","$badgeBox","element","$saleBox","discount","text","updateQuantity","$quantity","inventory_quantity","policy","max","quantity","updateFeatured","$sliderBoxs","$sliderBox","$slider","$slide","index","current","_b","_a","$featuredBox","updateProductButtons","$submit","updateSwatch","i","el","updateCountdown","$dom","updateImageLabel","$labels","$label","saleLabel","soldoutLabel","$badgeSale","saleBadgetType","sale","updatePrice","$price_regular","$prices","$prices_percent_badge","$unit_price_wrapper","$unit_price_container","$unit_price_measurement","innerPrice","$percent","salePercent","$price","$unit_price","money","updateVariantAttribute","$barcode","$sku","updateOptionSelected","dropdownTypeLabels","label","textLabel","newLabelDom","length","$doms","$selectedValue","tmp","selectCallback","variantChangeEvent","triggerSelector","mySelector","event","selectorIndex","key","initialValue","availableOptions","option","newOption","option_select","value","option_0","option_1","observer","config","_this","optionIndex","e","val","tagName","liquids","data","type","_c","style","_d","_e","_f","_g","_h","_hoisted_1","_hoisted_2","_openBlock","_createElementBlock","_createElementVNode","_normalizeClass","_ctx","$options","_createVNode","_component_Liquid"],"mappings":"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"}