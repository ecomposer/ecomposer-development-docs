import{s as me,q as Jt,r as Xt,t as Kt,_ as C,f as $t,u as He,v as q,w as te,x as Q,y as de,m as J,z as Qt,A as ei,B as ee,D as ti,k as fe,F as ii,G as ni,H as si,I as ai,K as Fe,M as oi,N as ri,O as li,Q as di,R as ui,S as ci,T as pi,U as mi,V as je,W as hi,c as fi,X as gi,Y as $,Z as bi,$ as yi,a0 as vi,a1 as ki,a2 as ge,a3 as be,a4 as _i,a5 as xi,a6 as Oe,a7 as wi,i as Ci,n as Si,a8 as Di,a9 as Mi,aa as Ti,ab as Ee,ac as Li,ad as Ii,ae as zi,af as Vi,ag as Hi,ah as Fi,ai as ji,aj as Oi,ak as Ei,al as Pi,am as Ai,an as Ni,ao as Ui,ap as Bi,aq as Ri,ar as Wi,as as Gi,at as Zi,au as Yi,av as qi,aw as Ji,ax as Xi,ay as Ki,az as $i,aA as Qi,aB as en,aC as tn,aD as nn,aE as sn}from"./preview.a124abb8.js";import{o as u,a as c,x as d,n as b,u as f,F as k,t as z,y as v,v as y,z as D,B as I,D as U,E as oe,b as an,P as T,A as M,H as O,R as ne,I as K,O as re,Q as ie,Z as on,C as X,G as B,U as Ce,q as rn,W as ln,S as dn}from"./vue.esm-bundler.7f444806.js";import{_ as un}from"./iframe.c85ce8d3.js";import"./chunk-2GDW2BFM.5cb4ba43.js";import"./index.e850844b.js";import"../sb-preview/runtime.js";const ye={data(){return{x:0,y:0,draggingClone:null,draggingEle:null,enterEl:null,isDraggingStarted:!1,hasSorted:!1,above:!1,needCheck:!1,changedPos:{before:null,after:null}}},methods:{dragDir(e,t){var a,s,n;let i={padding:{top:{c:"s-resize",d:1},right:{c:"w-resize",d:0},bottom:{c:"n-resize",d:0},left:{c:"e-resize",d:1}},margin:{top:{c:"n-resize",d:0},right:{c:"e-resize",d:1},bottom:{c:"s-resize",d:1},left:{c:"w-resize",d:0}},"border-radius":{top:{c:"n-resize",d:0},right:{c:"n-resize",d:0},bottom:{c:"s-resize",d:1},left:{c:"s-resize",d:1}}};return(n=(s=(a=i[e])==null?void 0:a[t])!=null?s:i.margin[t])!=null?n:{c:"s-resize",d:1}},getPos(e){const t=i=>{let a=0;for(;(i=i.previousElementSibling)!=null&&i.classList.contains("item");)a++;return a};if(e){let i,a=[],s;do i=t(e),s=e.dataset.id?{index:i,id:e.dataset.id}:i,a.unshift(s);while((e=e.parentNode.closest(".item"))&&this.$el.contains(e));return a}return[]},insert(e,t,i=!0){if(this.canDrop&&!this.canDrop(e,t)||!this.needCheck||e===t||e.dataset.id!==void 0&&e.dataset.id===t.dataset.id)return;t.classList.contains("item-empty")&&(t.style.display="none");let a=t.parentNode;t=i?t:t.nextElementSibling,a.insertBefore(e,t),this.hasSorted=!0},isAbove(e,t){if(!t)return;const i=e.getBoundingClientRect(),a=t.getBoundingClientRect();return i.top+i.height/2<a.top+a.height/2},mouseDownHandler(e){if(e.target.tagName=="INPUT"||e.target.tagName=="TEXTAREA"||document.activeElement.isContentEditable)return;let t=this.$el.querySelectorAll(".item");t.forEach(a=>{a.onmouseenter=s=>{let n=s.target.closest(".item");n!==this.enterEl&&!n.classList.contains("ecom-dragging--placeholder")&&(this.needCheck=!0,this.enterEl=n),t.forEach(r=>{(this.canDrop&&this.canDrop(this.draggingEle,this.enterEl)||!this.canDrop)&&r.style.removeProperty("display")})}}),this.hasSorted=!1,this.draggingEle=e.target.closest(".item");const i=this.draggingEle.getBoundingClientRect();this.x=e.pageX-i.left,this.y=e.pageY-i.top,this.changedPos.before=this.getPos(this.draggingEle),this.cbStartDrag&&this.cbStartDrag(),document.addEventListener("mousemove",this.mouseMoveHandler),document.addEventListener("mouseup",this.mouseUpHandler)},mouseMoveHandler(e){var a,s;const t=this.draggingEle.getBoundingClientRect();this.isDraggingStarted||(this.isDraggingStarted=!0,this.draggingClone=this.draggingEle.cloneNode(!0),this.draggingClone.onmouseenter=null,document.body.append(this.draggingClone),this.draggingEle.classList.add("ecom-dragging--placeholder"),this.draggingEle.onmouseenter=null),this.draggingClone.classList.add("ecom-dragging"),t.width&&(this.draggingClone.style.width=`${t.width}px`),this.draggingClone.style.top=`${e.pageY-this.y}px`,!((a=this==null?void 0:this.drag)!=null&&a.axis)||((s=this==null?void 0:this.drag)==null?void 0:s.axis)&&this.drag.axis.indexOf("y")===-1?this.draggingClone.style.left=`${e.pageX-this.x}px`:this.draggingClone.style.left=`calc(${t.x}px - `+window.getComputedStyle(this.draggingClone).marginLeft+")";let i=this.isAbove(this.draggingClone,this.enterEl);i!==this.above&&(this.needCheck=!0,this.above=i),this.enterEl&&this.needCheck&&i!==void 0&&this.insert(this.draggingEle,this.enterEl,i),this.needCheck=!1},mouseUpHandler(){document.querySelectorAll("li").forEach(e=>{e.onmouseenter=null}),this.draggingClone&&this.draggingClone.remove(),this.draggingEle.classList.remove("ecom-dragging--placeholder"),this.changedPos.after=this.getPos(this.draggingEle),typeof this.cbEndDrag=="function"&&this.cbEndDrag(this.changedPos),this.enterEl=null,this.needCheck=!1,this.x=null,this.y=null,this.isDraggingStarted=!1,document.removeEventListener("mousemove",this.mouseMoveHandler),document.removeEventListener("mouseup",this.mouseUpHandler)}}},cn={"mix-blend-mode":[{name:"",title:"None"},{name:"normal",title:"Normal"},{name:"multiply",title:"Multiply"},{name:"overlay",title:"Overlay"},{name:"darken",title:"Darken"},{name:"lighten",title:"Lighten"},{name:"color-dodge",title:"Color Dodge"},{name:"saturation",title:"Saturation"},{name:"difference",title:"Difference"},{name:"exclusion",title:"Exclusion"},{name:"hue",title:"Hue"},{name:"luminosity",title:"Luminosity"}],"entrance-animation":[{name:"fading",title:"Fading",disabled:!0},{name:"fade-in",title:"Fade In"},{name:"fade-in-down",title:"Fade In Down"},{name:"fade-in-left",title:"Fade In Left"},{name:"fade-in-right",title:"Fade In Right"},{name:"fade-in-up",title:"Fade In Up"},{name:"zooming",title:"Zooming",disabled:!0},{name:"zoom-in",title:"Zoom In"},{name:"zoom-in-down",title:"Zoom In Down"},{name:"zoom-in-left",title:"Zoom In Left"},{name:"zoom-in-right",title:"Zoom In Right"},{name:"zoom-in-up",title:"Zoom In Up"},{name:"bouncing",title:"Bouncing",disabled:!0},{name:"bounce-in",title:"Bounce In"},{name:"bounce-in-down",title:"Bounce In Down"},{name:"bounce-in-left",title:"Bounce In Left"},{name:"bounce-in-right",title:"Bounce In Right"},{name:"bounce-in-up",title:"Bounce In Up"},{name:"sliding",title:"Sliding",disabled:!0},{name:"sliding-in",title:"Sliding In"},{name:"sliding-in-down",title:"Sliding In Down"},{name:"sliding-in-left",title:"Sliding In Left"},{name:"sliding-in-right",title:"Sliding In Right"},{name:"sliding-in-up",title:"Sliding In Up"},{name:"rotate",title:"Rotate",disabled:!0},{name:"rotate-in",title:"Rotate In"},{name:"rotate-in-down",title:"Rotate In Down"},{name:"rotate-in-left",title:"Rotate In Left"},{name:"rotate-in-right",title:"Rotate In Right"},{name:"rotate-in-up",title:"Rotate In Up"},{name:"attention-seekers",title:"Attention Seekers",disabled:!0},{name:"bounce",title:"Bounce"},{name:"flash",title:"Flash"},{name:"pulse",title:"Pulse"},{name:"rubber-band",title:"Rubber Band"},{name:"shake",title:"Shake"},{name:"head-shake",title:"Head Shake"},{name:"heart-beat",title:"Heart Beat"},{name:"swing",title:"Swing"},{name:"tada",title:"Tada"},{name:"wobble",title:"Wobble"},{name:"jello",title:"Jello"},{name:"light-speed ",title:"Light Speed ",disabled:!0},{name:"light-speed-in",title:"Light Speed In"},{name:"specials",title:"Specials",disabled:!0},{name:"roll-in",title:"Roll In"},{name:"rubber-band",title:"Rubber Band"},{name:"shake-y",title:"Shake Y"},{name:"wobble",title:"Wobble"},{name:"jello",title:"Jello"},{name:"back-in-down",title:"Back In Down"},{name:"back-in-left",title:"Back In Left"},{name:"back-in-right",title:"Back In Right"},{name:"back-in-up",title:"Back In Up"},{name:"flip",title:"Flip"},{name:"flip-x",title:"Flip X"},{name:"flip-y",title:"Flip Y"},{name:"light-speed-in-right",title:"Light Speed In Right"},{name:"light-speed-in-left",title:"Light Speed In Left"},{name:"roll",title:"Roll"}],"border-style":[{name:"none",title:"None"},{name:"solid",title:"Solid"},{name:"double",title:"Double"},{name:"dotted",title:"Dotted"},{name:"dashed",title:"Dashed"},{name:"groove",title:"Groove"}],animation:[{name:"grow",title:"Grow"},{name:"shrink",title:"Shrink"},{name:"pulse",title:"Pulse"},{name:"pulse-grow",title:"Pulse Grow"},{name:"pulse-shrink",title:"Pulse Shrink"},{name:"push",title:"Push"},{name:"pop",title:"Pop"},{name:"bounce-in",title:"Bounce In"},{name:"bounce-out",title:"Bounce Out"},{name:"rotate",title:"Rotate"}],style:[{name:"line",title:"Line",disabled:!0},{name:"solid",title:"Solid"},{name:"double",title:"Double"},{name:"dotted",title:"Dotted"},{name:"dashed",title:"Dashed"},{name:"surly",title:"Curly"},{name:"curved",title:"Curved"},{name:"slashes",title:"Slashes"},{name:"squared",title:"Squared"},{name:"wavy",title:"Wavy"},{name:"zigzag",title:"Zigzag"},{name:"pattern",title:"Pattern",disabled:!0},{name:"multiple",title:"Multiple"},{name:"arrows",title:"Arrows"},{name:"pluses",title:"Pluses"},{name:"rhombus",title:"Rhombus"},{name:"parallelogram",title:"Parallelogram"},{name:"rectangles",title:"Rectangles"},{name:"tribal",title:"Tribal",disabled:!0},{name:"dots",title:"Dots"},{name:"fir-tree",title:"Fir Tree"},{name:"half-rounds",title:"Half Rounds"},{name:"leaves",title:"Leaves"},{name:"stripes",title:"Stripes"},{name:"squares",title:"Squares"},{name:"trees",title:"Trees"},{name:"tribal",title:"Tribal"},{name:"x",title:"X"},{name:"zigzag",title:"Zigzag"}],"vertical-align":[{name:"default",title:"Default"},{name:"top",title:"Top"},{name:"middle",title:"Middle"},{name:"bottom",title:"Bottom"},{name:"space-between",title:"Space Between"},{name:"space-around",title:"Space Around"},{name:"space-evenly",title:"Space Evenly"}],"font-weight":[{name:"100",title:"100"},{name:"200",title:"200"},{name:"300",title:"300"},{name:"400",title:"400"},{name:"500",title:"500"},{name:"600",title:"600"},{name:"700",title:"700"},{name:"800",title:"800"},{name:"900",title:"900"},{name:"normal",title:"Normal"},{name:"bold",title:"Bold"},{name:"bolder",title:"Bolder"}],"text-transform":[{name:"capitalize",title:"Capitalize"},{name:"uppercase",title:"Uppercase"},{name:"lowercase",title:"Lowercase"},{name:"none",title:"None"}],"font-style":[{name:"__delete__",title:"Default"},{name:"normal",title:"Normal"},{name:"italic",title:"Italic"},{name:"oblique",title:"Olique"}],"text-decoration":[{name:"__delete__",title:"Default"},{name:"underline",title:"Underline"},{name:"overline",title:"Overline"},{name:"line-through",title:"Line Through"},{name:"none",title:"None"}],"background-position":{"center center":"Center center","center right":"Center right","center left":"Center left","top left":"Top left","top center":"Top center","top right":"Top right","bottom right":"Bottom right","bottom left":"Bottom left","bottom center":"Bottom center",custom:"Custom"},"background-attachment":{fixed:"Fixed",scroll:"Scroll",local:"Local",inherit:"Inherit"},"background-repeat":{"no-repeat":"No-repeat",repeat:"Repeat","repeat-x":"Horizontally","repeat-y":"Verically"},"background-size":{cover:"Cover",auto:"Auto",contain:"Contain",inherit:"Inherit"},cursors:[{name:"auto",title:"Auto"},{name:"default",title:"Default"},{name:"none",title:"None"},{name:"pointer",title:"Pointer"},{name:"crosshair",title:"Crosshair"},{name:"help",title:"Help"}]},ue={beforeMount:function(e,t){const i=a=>{!e.contains(a.target)&&e!==a.target&&t.value(a)};e.__vueClickEventHandler__=i,document.addEventListener("click",i)},unmounted:function(e){document.removeEventListener("click",e.__vueClickEventHandler__)}},Se=e=>{let t={};Array.from(e.attributes).forEach(a=>{t[a.nodeName]=a.nodeValue});let i=e.innerText;return i&&(t.text=i),t},pn={field:{type:Object,default(){return{}}}},P={insertHtmlTag:function(e,t=!1,i=""){const a=e.action,s=e.range;if(!s)return;let n="";if(!(!e.range||!a)){switch(a){case"bold":n="b";break;case"italic":n="i";break;case"underline":n="u";break;case"h1":n="h1";break;case"h2":n="h2";break;case"h3":n="h3";break;case"h4":n="h4";break;case"h5":n="h5";break;case"h6":n="h6";break;case"code":n="code";break}if(!!n)if((e==null?void 0:e.state[a])||i){const r=s.cloneContents();i&&(n=i);let o=r.querySelectorAll(n);if(o.length===0){let l=e.selection.focusNode;for(;l&&l!=="BODY";){if((l==null?void 0:l.tagName)===n.toUpperCase()){o=l;break}l=l==null?void 0:l.parentNode}if(!l)return;if(i&&l){const p=o.parentNode,h=document.createElement(a);h.innerHTML=l.innerHTML,p.insertBefore(h,o),p.removeChild(o),t&&me.commit("builder/setTextEditor",{open:!1});return}if(r.textContent.trim()===(l==null?void 0:l.textContent.trim())){const p=o.parentNode;for(;o.firstChild;)p.insertBefore(o.firstChild,o);p.removeChild(o),s.deleteContents(),t&&me.commit("builder/setTextEditor",{open:!1})}else{const p=document.createElement("span"),h=l.innerHTML;p.appendChild(s.cloneContents());let m=h.slice(0,s.startOffset),g=h.slice(s.startOffset+p.innerHTML.length,h.length),_=`<${n}>${m}</${n}>${p.innerHTML}<${n}>${g}</${n}>`;const w=document.createElement("span");w.innerHTML=_;const L=o.parentNode;for(;w.firstChild;)L.insertBefore(w.firstChild,o);L.removeChild(o),s.deleteContents(),t&&me.commit("builder/setTextEditor",{open:!1})}}else{const l=o[0].parentNode;if(i){const p=document.createElement(a);p.innerHTML=o[0].innerHTML,l.insertBefore(p,o[0]),l.removeChild(o[0])}else o.forEach(p=>{for(;p.firstChild;)l.insertBefore(p.firstChild,p);l.removeChild(p)});s.deleteContents(),s.insertNode(l)}}else{const r=document.createElement(n);r.appendChild(s.extractContents()),s.insertNode(r)}}},inserColor:function(e,t){var n;const i=e.range;if(!i)return;let s=i.cloneContents().querySelectorAll("font");if(s.length==1&&((n=s[0])==null?void 0:n.tagName)==="FONT")s[0].setAttribute("color",t),i.deleteContents(),i.insertNode(s[0]);else{let r=e.selection.focusNode;for(;r&&r!=="BODY";){if((r==null?void 0:r.tagName)==="FONT"){s=r;break}r=r==null?void 0:r.parentNode}if(r&&(r==null?void 0:r.tagName)==="FONT")r.setAttribute("color",t);else{const o=document.createElement("font");o.setAttribute("color",t),o.appendChild(i.extractContents()),i.insertNode(o)}}},inserBackground:function(e,t){var n,r;const i=e.range;if(!i)return;let s=i.cloneContents().querySelectorAll('span[style*="background-color"]');if(s.length==1&&((n=s[0])==null?void 0:n.tagName)==="SPAN")s[0].style.backgroundColor=t,i.deleteContents(),i.insertNode(s[0]);else{let o=e.selection.focusNode;for(;o&&o!=="BODY";){if((o==null?void 0:o.tagName)==="SPAN"&&((r=o==null?void 0:o.style)==null?void 0:r.backgroundColor)){s=o;break}o=o==null?void 0:o.parentNode}if(o&&(o==null?void 0:o.tagName)==="SPAN")o.style.backgroundColor=t;else{const l=document.createElement("span");l.style.backgroundColor=t,l.appendChild(i.extractContents()),i.insertNode(l)}}},insertOrderedlist:function(e,t,i){const a=e.range;if(!a)return;const s=i==="insertorderedlist"?"ol":"ul",n=a.cloneContents();if(e!=null&&e.state[i]){let r=n.querySelector(s),o=e.selection.focusNode;if(r){let l="";const p=r.querySelectorAll("li");p.length>0&&p.forEach(g=>{l+=g.innerHTML+" "});const h=document.createElement("span");h.innerHTML=l;const m=r.parentNode;for(;h.firstChild;)m.insertBefore(h.firstChild,r);m.removeChild(r),a.deleteContents()}else{for(;o&&o!=="BODY";){if((o==null?void 0:o.tagName)===s.toUpperCase()){r=o;break}o=o==null?void 0:o.parentNode}if(o){let l="";const p=o.querySelectorAll("li");p.length>0&&p.forEach(g=>{l+=g.innerHTML+" "});const h=document.createElement("span");h.innerHTML=l;const m=o.parentNode;for(;h.firstChild;)m.insertBefore(h.firstChild,o);m.removeChild(o),a.deleteContents()}}}else{const r=document.createElement(s),o=document.createElement("li");o.appendChild(a.extractContents()),r.appendChild(o),a.insertNode(r)}},removeFormat:function(e){const t=e.range;if(!!t)if(t.startContainer.nodeName==="#text"&&t.endContainer.nodeName==="#text"){const i=t.startContainer.parentNode;if(i){const a=i.parentNode,s=document.createTextNode(i.innerText);a.insertBefore(s,i),a.removeChild(i)}}else if(t.startContainer.nodeName==="#text"||t.endContainer.nodeName==="#text"){const i=t.startContainer.nodeName==="#text"?t.startContainer:t.endContainer;if(i){const a=i.parentNode,s=document.createTextNode(i.innerText);a.insertBefore(s,i),a.removeChild(i)}}else{const i=document.createTextNode(t.extractContents().textContent);t.insertNode(i)}},insertLink:function(e,t){const i=e.range;if(!i)return;const a=e.selection.focusNode;a&&a.nodeName==="A"&&a.remove(),i.insertNode(t)},removeLink:function(e){const t=e.range;if(!t)return;const i=t.cloneContents(),a="a";let s=i.querySelector(a),n=e.selection.focusNode;if(s){const r=document.createElement("span");r.innerHTML=s.textContent;const o=s.parentNode;o.insertBefore(r.firstChild,s),o.removeChild(s),t.deleteContents()}else{for(;n&&n!=="BODY";){if((n==null?void 0:n.tagName)===a.toUpperCase()){s=n;break}n=n==null?void 0:n.parentNode}if(n){const r=document.createElement("span");r.innerHTML=n.textContent;const o=n.parentNode;o.insertBefore(r.firstChild,n),o.removeChild(n),t.deleteContents()}}},insertHTML:function(e,t){const i=e.range;!i||i.insertNode(t)},insertText:function(e,t){const i=e.range;if(!i)return;const a=document.createTextNode(t);i.deleteContents(),i.insertNode(a)}},Pe={data(){return{open:!1,id:this.$helpers.randid(),icons:{faDesktop:Jt,faMobile:Xt,faTablet:Kt}}},computed:{current(){return this.screen},classContent(){let e=Object.keys(this.screens).indexOf(this.current);return e==1?"-mt-6":e==2?"-mt-12":""},screens(){return this.$store.getters["builder/screens"]},screen(){return this.$store.getters["builder/screen"]}},methods:{choose(e){this.$store.commit("builder/setScreen",e),this.doClose()},doOpen(e){this.open=!0,document.addEventListener("click",this.doClose)},doClose(e){(e===void 0||!e.target.closest("."+this.id))&&(this.open=!1,document.removeEventListener("click",this.doClose))}}},mn=["data-tooltip"],hn=["data-tooltip","onClick"];function fn(e,t,i,a,s,n){var o;const r=y("ecom-icon");return u(),c("div",{class:f(["relative flex switchdevice",s.id])},[d("button",{class:"text-gray-600 px-1.5 hover:text-primary-600 transition dark:text-dark-color","data-tooltip":n.screens[n.current].title,"data-tooltip-location":"right",onClick:t[0]||(t[0]=(...l)=>n.doOpen&&n.doOpen(...l))},[b(r,{icon:s.icons[(o=n.screens[n.current])==null?void 0:o.icon],class:"w-4 h-4 relative z-0"},null,8,["icon"])],8,mn),s.open?(u(),c("div",{key:0,class:f(["switch__content shadow-lg ring-1 ring-black ring-opacity-10 p-1.5 absolute -top-2 right-1/2 transform translate-x-1/2 bg-white dark:bg-dark dark:text-dark-color rounded transition z-20",n.classContent])},[(u(!0),c(k,null,z(n.screens,(l,p)=>(u(),c("div",{key:p,class:"flex"},[d("button",{type:"button",class:f(["w-full px-1 py-1 text-gray-600 transition hover:text-primary-500 dark:text-dark-color",{"text-primary-600":n.current===l.name}]),"data-tooltip":l.title,"data-tooltip-location":"right",onClick:h=>n.choose(p)},[b(r,{icon:s.icons[l.icon],class:"w-4 h-4"},null,8,["icon"])],10,hn)]))),128))],2)):v("",!0)],2)}const gn=C(Pe,[["render",fn]]);Pe.__docgenInfo={exportName:"default",displayName:"DeviceOptions",description:"",tags:{},sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/molecules/DeviceOptions/DeviceOptions.vue"]};const Ae={name:"SubcomponentTabs",props:{tabs:{type:Array,default(){return[]}},title:{type:String,default:""},type:{type:String,default:""},value:[String,Object],selected:{type:String,default:""},hasDelete:{type:Boolean,default:!1}},emits:["refesh","addglobal","activecolor","update:delete"],data(){return{showInput:!1,valueInput:"",tabSelected:this.selected?this.tabs[1]:this.tabs[0],icons:{faPlus:$t,faGear:He,faArrowsRotate:q,faTrash:te,faCheck:Q,faXmark:de}}},computed:{check(){return this.value?typeof this.value=="string"?!this.value:!Object.keys(this.value).length:!0}},methods:{openSiteSettings(){this.$store.dispatch("settings/open",{category:"theme_settings",tab:"global-"+this.type})},updateValue(){this.valueInput.trim()!=""&&this.$emit("addglobal",this.valueInput),this.showInput=!1}}};const bn={class:"tab"},yn={class:"flex items-center justify-between px-4 py-2 mb-2 border-b dark:border-gray-600"},vn={class:"text-sm font-medium text-form-title capitalize dark:text-dark-color"},kn={class:"flex items-center"},_n={key:1,class:"flex w-full h-13"},xn={type:"button",class:"inline-flex h-9 items-center px-2 text-gray-600 transition border border-l-0 border-gray-300 dark:border-gray-600 rounded-r cursor-pointer w-9 hover:bg-gray-200 dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark"},wn={class:"tab__heading border-form-border-input"},Cn={class:"flex"},Sn=["onClick"],Dn={class:"mt-3"};function Mn(e,t,i,a,s,n){const r=y("ecom-icon");return u(),c("div",bn,[d("div",yn,[s.showInput?(u(),c("div",_n,[I(d("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.valueInput=o),type:"text",class:"w-full pl-2 transition border-gray-300 dark:border-gray-600 rounded rounded-r-none shadow-sm h-9 sm:text-sm focus:ring-transparent dark:bg-dark dark:focus:ring-transparent focus:border-gray-300 text-black dark:text-dark-color",placeholder:"New Item",onKeypress:[t[5]||(t[5]=oe((...o)=>n.updateValue&&n.updateValue(...o),["enter"])),t[6]||(t[6]=oe(o=>s.showInput=!1,["esc"]))]},null,544),[[U,s.valueInput]]),d("button",xn,[b(r,{icon:s.icons[s.valueInput.trim()!=""?"faCheck":"faXmark"],class:"w-5 h-5",onClick:n.updateValue},null,8,["icon","onClick"])])])):(u(),c(k,{key:0},[d("span",vn,D(i.title),1),d("span",kn,[i.hasDelete?v("",!0):(u(),c("button",{key:0,type:"button",class:"p-2 transition rounded text-form-secondary hover:bg-gray-200 hover:text-form-secondary-hover dark:text-dark-color dark:hover:bg-dark dark:hover:text-white","data-tooltip":"Reset to default","data-tooltip-location":"top-right",onClick:t[0]||(t[0]=o=>e.$emit("refesh"))},[b(r,{icon:s.icons.faArrowsRotate,class:"w-5 h-5 p-px block"},null,8,["icon"])])),s.tabSelected!=="global"?(u(),c("button",{key:1,type:"button","data-tooltip":"Add new global","data-tooltip-location":"top-right",class:f(["p-2 transition rounded text-form-secondary hover:bg-gray-200 hover:text-form-secondary-hover dark:text-dark-color dark:hover:bg-dark dark:hover:text-white",{"opacity-50 pointer-events-none":n.check||i.selected}]),onClick:t[1]||(t[1]=o=>s.showInput=!0)},[b(r,{icon:s.icons.faPlus,class:"w-5 h-5 p-px block"},null,8,["icon"])],2)):(u(),c(k,{key:2},[],64)),i.hasDelete&&s.tabSelected!=="global"?(u(),c("button",{key:3,type:"button","data-tooltip":"Delete item","data-tooltip-location":"top-right",class:"p-2 transition rounded text-form-secondary hover:bg-gray-200 hover:text-form-secondary-hover dark:text-dark-color dark:hover:bg-dark dark:hover:text-white",onClick:t[2]||(t[2]=o=>e.$emit("update:delete"))},[b(r,{icon:s.icons.faTrash,class:"w-5 h-5 p-px block"},null,8,["icon"])])):(u(),c(k,{key:4},[],64)),s.tabSelected=="global"?(u(),c("button",{key:5,type:"button",class:"flex p-2 transition rounded text-form-secondary hover:bg-gray-200 dark:hover:bg-dark dark:hover:text-white hover:text-form-secondary-hover","data-tooltip":"Manage global settings","data-tooltip-location":"top-right",onClick:t[3]||(t[3]=(...o)=>n.openSiteSettings&&n.openSiteSettings(...o))},[b(r,{icon:s.icons.faGear,class:"w-5 h-5 block"},null,8,["icon"])])):v("",!0)])],64))]),d("div",wn,[d("ul",Cn,[(u(!0),c(k,null,z(i.tabs,(o,l)=>(u(),c("li",{key:l,class:"flex-1 ecom-item-tab-hover"},[d("button",{type:"button",class:f(["flex items-center justify-center w-full px-3 py-2 text-sm font-normal text-center capitalize align-middle transition rounded h-7-5 whitespace-nowrap",s.tabSelected===o?"text-primary-600":"text-form-secondary dark:text-dark-color"]),onClick:p=>s.tabSelected=o},D(o),11,Sn),d("span",{class:f([s.tabSelected===o?" bg-primary-600":"bg-gray-200 dark:bg-gray-600","flex w-full"]),style:{height:"3px"}},null,2)]))),128))])]),d("div",Dn,[(u(!0),c(k,null,z(i.tabs,(o,l)=>(u(),c("div",{key:l},[s.tabSelected===o?an(e.$slots,o,{key:0}):v("",!0)]))),128))])])}const Ne=C(Ae,[["render",Mn]]);Ae.__docgenInfo={displayName:"SubcomponentTabs",exportName:"default",description:"",tags:{},props:[{name:"tabs",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"title",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"value",type:{name:"string|object"}},{name:"selected",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"hasDelete",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"refesh"},{name:"update:delete"},{name:"addglobal",type:{names:["undefined"]}},{name:"activecolor"}],slots:[{name:"tab",scoped:!0,bindings:[{name:"name",title:"binding"}]}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/molecules/Tabs/Tabs.vue"]};const Ue={name:"Global",props:{global:{type:Object,default(){return{}}},selected:{type:String,default:""}},emits:["update:selected"],computed:{type(){var e,t;return(t=(e=this.global)==null?void 0:e.type)!=null?t:""},icons(){return{faCheck:Q}},tooltip(){return this.type==="colors"?"Tooltip color":this.type==="typography"?"Tooltip typo":""},title(){return this.type==="colors"?"Global Colors":this.type==="typography"?"Global typo":""},...J("settings",["globalData"]),valueType(){return this.globalData(this.type)},valueTypeFiltered(){let e={};for(let t in this.valueType){let i=this.valueType[t];(typeof i.value=="string"&&i.value||typeof i.value=="object"&&Object.keys(i.value).length)&&(e[t]=i)}return e}},methods:{styleTitle(e){if(typeof e=="object"){let{"font-size":t,"line-height":i,...a}=e;return a}}}},Tn={class:"inline-block w-full bg-white dark:bg-gray-700 text-black dark:text-dark-color rounded"},Ln={key:0,class:"p-2 overflow-auto max-h-60"},In=["onClick"],zn={class:"flex items-center"},Vn={key:0,class:"text-xs text-gray-500 dark:text-dark-color font-normal py-0.5 px-1 rounded-sm ml-2"},Hn={key:1,class:"block py-5 pt-0 m-auto text-sm text-center text-gray-400"};function Fn(e,t,i,a,s,n){const r=y("ecom-icon");return u(),c("div",Tn,[Object.keys(n.valueTypeFiltered).length>0?(u(),c("ul",Ln,[(u(!0),c(k,null,z(n.valueTypeFiltered,(o,l)=>(u(),c("button",{key:l,as:"li",type:"button",class:f(["cursor-pointer w-full mb-0.5 hover:bg-gray-100 dark:hover:bg-dark rounded-sm transition cursor-default text-sm select-none relative p-2 flex items-center rounded-sm justify-between",{"bg-gray-100 dark:bg-dark":i.selected===l}]),onClick:p=>e.$emit("update:selected",l)},[d("span",zn,[b(r,{icon:n.icons.faCheck,class:f(["w-5 h-5 mr-2 bg-white dark:bg-dark border border-gray-300 rounded shadow-sm",i.selected===l?"text-primary-600":"text-white dark:text-dark"]),style:T([{"min-width":"20px"},n.type==="colors"?"background-color:"+o.value+(i.selected===l?";color:white":";color:"+o.value):""])},null,8,["icon","class","style"]),d("span",{class:"text-sm font-normal text-left truncate w-full",style:T(n.styleTitle(o.value))},D(o.title.substr(0,20)),5)]),n.type==="colors"?(u(),c("span",Vn,D(o.value),1)):v("",!0)],10,In))),128))])):(u(),c("div",Hn,"Empty"))])}const Be=C(Ue,[["render",Fn]]);Ue.__docgenInfo={displayName:"Global",exportName:"default",description:"",tags:{},props:[{name:"global",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"selected",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"update:selected"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/molecules/GlobalPanel/GlobalPanel.vue"]};const jn=/^\s+/,On=/\s+$/;function x(e,t){if(e=e||"",t=t||{},e instanceof x)return e;if(!(this instanceof x))return new x(e,t);var i=En(e);this._originalInput=e,this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||i.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=i.ok}x.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,i,a,s,n,r;return t=e.r/255,i=e.g/255,a=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),i<=.03928?n=i/12.92:n=Math.pow((i+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),.2126*s+.7152*n+.0722*r},setAlpha:function(e){return this._a=Re(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Me(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Me(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),a=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+i+"%, "+a+"%)":"hsva("+t+", "+i+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var e=De(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=De(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),a=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+i+"%, "+a+"%)":"hsla("+t+", "+i+"%, "+a+"%, "+this._roundA+")"},toHex:function(e){return Te(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Un(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(j(this._r,255)*100)+"%",g:Math.round(j(this._g,255)*100)+"%",b:Math.round(j(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(j(this._r,255)*100)+"%, "+Math.round(j(this._g,255)*100)+"%, "+Math.round(j(this._b,255)*100)+"%)":"rgba("+Math.round(j(this._r,255)*100)+"%, "+Math.round(j(this._g,255)*100)+"%, "+Math.round(j(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Qn[Te(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+Le(this._r,this._g,this._b,this._a),i=t,a=this._gradientType?"GradientType = 1, ":"";if(e){var s=x(e);i="#"+Le(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,a=this._a<1&&this._a>=0,s=!t&&a&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return x(this.toString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Gn,arguments)},brighten:function(){return this._applyModification(Zn,arguments)},darken:function(){return this._applyModification(Yn,arguments)},desaturate:function(){return this._applyModification(Bn,arguments)},saturate:function(){return this._applyModification(Rn,arguments)},greyscale:function(){return this._applyModification(Wn,arguments)},spin:function(){return this._applyModification(qn,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(Kn,arguments)},complement:function(){return this._applyCombination(Jn,arguments)},monochromatic:function(){return this._applyCombination($n,arguments)},splitcomplement:function(){return this._applyCombination(Xn,arguments)},triad:function(){return this._applyCombination(Ie,[3])},tetrad:function(){return this._applyCombination(Ie,[4])}};x.fromRatio=function(e,t){if(typeof e=="object"){var i={};for(var a in e)e.hasOwnProperty(a)&&(a==="a"?i[a]=e[a]:i[a]=ae(e[a]));e=i}return x(e,t)};function En(e){var t={r:0,g:0,b:0},i=1,a=null,s=null,n=null,r=!1,o=!1;return typeof e=="string"&&(e=ns(e)),typeof e=="object"&&(Y(e.r)&&Y(e.g)&&Y(e.b)?(t=Pn(e.r,e.g,e.b),r=!0,o=String(e.r).substr(-1)==="%"?"prgb":"rgb"):Y(e.h)&&Y(e.s)&&Y(e.v)?(a=ae(e.s),s=ae(e.v),t=Nn(e.h,a,s),r=!0,o="hsv"):Y(e.h)&&Y(e.s)&&Y(e.l)&&(a=ae(e.s),n=ae(e.l),t=An(e.h,a,n),r=!0,o="hsl"),e.hasOwnProperty("a")&&(i=e.a)),i=Re(i),{ok:r,format:e.format||o,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:i}}function Pn(e,t,i){return{r:j(e,255)*255,g:j(t,255)*255,b:j(i,255)*255}}function De(e,t,i){e=j(e,255),t=j(t,255),i=j(i,255);var a=Math.max(e,t,i),s=Math.min(e,t,i),n,r,o=(a+s)/2;if(a==s)n=r=0;else{var l=a-s;switch(r=o>.5?l/(2-a-s):l/(a+s),a){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4;break}n/=6}return{h:n,s:r,l:o}}function An(e,t,i){var a,s,n;e=j(e,360),t=j(t,100),i=j(i,100);function r(p,h,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?p+(h-p)*6*m:m<1/2?h:m<2/3?p+(h-p)*(2/3-m)*6:p}if(t===0)a=s=n=i;else{var o=i<.5?i*(1+t):i+t-i*t,l=2*i-o;a=r(l,o,e+1/3),s=r(l,o,e),n=r(l,o,e-1/3)}return{r:a*255,g:s*255,b:n*255}}function Me(e,t,i){e=j(e,255),t=j(t,255),i=j(i,255);var a=Math.max(e,t,i),s=Math.min(e,t,i),n,r,o=a,l=a-s;if(r=a===0?0:l/a,a==s)n=0;else{switch(a){case e:n=(t-i)/l+(t<i?6:0);break;case t:n=(i-e)/l+2;break;case i:n=(e-t)/l+4;break}n/=6}return{h:n,s:r,v:o}}function Nn(e,t,i){e=j(e,360)*6,t=j(t,100),i=j(i,100);var a=Math.floor(e),s=e-a,n=i*(1-t),r=i*(1-s*t),o=i*(1-(1-s)*t),l=a%6,p=[i,r,n,n,o,i][l],h=[o,i,i,r,n,n][l],m=[n,n,o,i,i,r][l];return{r:p*255,g:h*255,b:m*255}}function Te(e,t,i,a){var s=[G(Math.round(e).toString(16)),G(Math.round(t).toString(16)),G(Math.round(i).toString(16))];return a&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function Un(e,t,i,a,s){var n=[G(Math.round(e).toString(16)),G(Math.round(t).toString(16)),G(Math.round(i).toString(16)),G(We(a))];return s&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)&&n[3].charAt(0)==n[3].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0)+n[3].charAt(0):n.join("")}function Le(e,t,i,a){var s=[G(We(a)),G(Math.round(e).toString(16)),G(Math.round(t).toString(16)),G(Math.round(i).toString(16))];return s.join("")}x.equals=function(e,t){return!e||!t?!1:x(e).toRgbString()==x(t).toRgbString()};x.random=function(){return x.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Bn(e,t){t=t===0?0:t||10;var i=x(e).toHsl();return i.s-=t/100,i.s=ce(i.s),x(i)}function Rn(e,t){t=t===0?0:t||10;var i=x(e).toHsl();return i.s+=t/100,i.s=ce(i.s),x(i)}function Wn(e){return x(e).desaturate(100)}function Gn(e,t){t=t===0?0:t||10;var i=x(e).toHsl();return i.l+=t/100,i.l=ce(i.l),x(i)}function Zn(e,t){t=t===0?0:t||10;var i=x(e).toRgb();return i.r=Math.max(0,Math.min(255,i.r-Math.round(255*-(t/100)))),i.g=Math.max(0,Math.min(255,i.g-Math.round(255*-(t/100)))),i.b=Math.max(0,Math.min(255,i.b-Math.round(255*-(t/100)))),x(i)}function Yn(e,t){t=t===0?0:t||10;var i=x(e).toHsl();return i.l-=t/100,i.l=ce(i.l),x(i)}function qn(e,t){var i=x(e).toHsl(),a=(i.h+t)%360;return i.h=a<0?360+a:a,x(i)}function Jn(e){var t=x(e).toHsl();return t.h=(t.h+180)%360,x(t)}function Ie(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var i=x(e).toHsl(),a=[x(e)],s=360/t,n=1;n<t;n++)a.push(x({h:(i.h+n*s)%360,s:i.s,l:i.l}));return a}function Xn(e){var t=x(e).toHsl(),i=t.h;return[x(e),x({h:(i+72)%360,s:t.s,l:t.l}),x({h:(i+216)%360,s:t.s,l:t.l})]}function Kn(e,t,i){t=t||6,i=i||30;var a=x(e).toHsl(),s=360/i,n=[x(e)];for(a.h=(a.h-(s*t>>1)+720)%360;--t;)a.h=(a.h+s)%360,n.push(x(a));return n}function $n(e,t){t=t||6;for(var i=x(e).toHsv(),a=i.h,s=i.s,n=i.v,r=[],o=1/t;t--;)r.push(x({h:a,s,v:n})),n=(n+o)%1;return r}x.mix=function(e,t,i){i=i===0?0:i||50;var a=x(e).toRgb(),s=x(t).toRgb(),n=i/100,r={r:(s.r-a.r)*n+a.r,g:(s.g-a.g)*n+a.g,b:(s.b-a.b)*n+a.b,a:(s.a-a.a)*n+a.a};return x(r)};x.readability=function(e,t){var i=x(e),a=x(t);return(Math.max(i.getLuminance(),a.getLuminance())+.05)/(Math.min(i.getLuminance(),a.getLuminance())+.05)};x.isReadable=function(e,t,i){var a=x.readability(e,t),s,n;switch(n=!1,s=ss(i),s.level+s.size){case"AAsmall":case"AAAlarge":n=a>=4.5;break;case"AAlarge":n=a>=3;break;case"AAAsmall":n=a>=7;break}return n};x.mostReadable=function(e,t,i){var a=null,s=0,n,r,o,l;i=i||{},r=i.includeFallbackColors,o=i.level,l=i.size;for(var p=0;p<t.length;p++)n=x.readability(e,t[p]),n>s&&(s=n,a=x(t[p]));return x.isReadable(e,a,{level:o,size:l})||!r?a:(i.includeFallbackColors=!1,x.mostReadable(e,["#fff","#000"],i))};var he=x.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Qn=x.hexNames=es(he);function es(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[e[i]]=i);return t}function Re(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function j(e,t){ts(e)&&(e="100%");var i=is(e);return e=Math.min(t,Math.max(0,parseFloat(e))),i&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function ce(e){return Math.min(1,Math.max(0,e))}function N(e){return parseInt(e,16)}function ts(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function is(e){return typeof e=="string"&&e.indexOf("%")!=-1}function G(e){return e.length==1?"0"+e:""+e}function ae(e){return e<=1&&(e=e*100+"%"),e}function We(e){return Math.round(parseFloat(e)*255).toString(16)}function ze(e){return N(e)/255}var W=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",i="(?:"+t+")|(?:"+e+")",a="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?",s="[\\s|\\(]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")[,|\\s]+("+i+")\\s*\\)?";return{CSS_UNIT:new RegExp(i),rgb:new RegExp("rgb"+a),rgba:new RegExp("rgba"+s),hsl:new RegExp("hsl"+a),hsla:new RegExp("hsla"+s),hsv:new RegExp("hsv"+a),hsva:new RegExp("hsva"+s),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Y(e){return!!W.CSS_UNIT.exec(e)}function ns(e){e=e.replace(jn,"").replace(On,"").toLowerCase();var t=!1;if(he[e])e=he[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var i;return(i=W.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=W.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=W.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=W.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=W.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=W.hsva.exec(e))?{h:i[1],s:i[2],v:i[3],a:i[4]}:(i=W.hex8.exec(e))?{r:N(i[1]),g:N(i[2]),b:N(i[3]),a:ze(i[4]),format:t?"name":"hex8"}:(i=W.hex6.exec(e))?{r:N(i[1]),g:N(i[2]),b:N(i[3]),format:t?"name":"hex"}:(i=W.hex4.exec(e))?{r:N(i[1]+""+i[1]),g:N(i[2]+""+i[2]),b:N(i[3]+""+i[3]),a:ze(i[4]+""+i[4]),format:t?"name":"hex8"}:(i=W.hex3.exec(e))?{r:N(i[1]+""+i[1]),g:N(i[2]+""+i[2]),b:N(i[3]+""+i[3]),format:t?"name":"hex"}:!1}function ss(e){var t,i;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),i=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),i!=="small"&&i!=="large"&&(i="small"),{level:t,size:i}}const se=e=>{const t=x(e);if(t.isValid()){let{h:a,s,v:n}=t.toHsv();const{r,g:o,b:l}=t.toRgb();return a=Math.round(a),s=Math.round(s*100),n=Math.round(n*100),{rgb:{r,g:o,b:l},hsv:{h:a,s,v:n},hex:t.toHexString(),alpha:t.getAlpha()}}else return console.warn("WARN: value is not valid"),{rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:100,v:100,a:1},hex:"#f00",alpha:1}},Ge=e=>{if(e)return{width:e.clientWidth,height:e.clientHeight,left:e.getBoundingClientRect().left+document.body.scrollLeft,top:e.getBoundingClientRect().top+document.body.scrollTop}},le=(e,t,i)=>typeof e=="number"?e<t?t:e>i?i:e:t,as=(e,t,i)=>(t||(t=250),(...a)=>{let s,n;const r=i,o=Date.now();s&&o<s+t?(clearTimeout(n),n=setTimeout(()=>{s=o,e.apply(r,a)},t)):(s=o,e.apply(r,a))}),Ze={props:{step:{type:Number,default:0},value:{type:Number,default:0}},emits:["change"],data(){return{val:le(this.value,0,100),elSizePostion:{}}},computed:{pointStyle(){let e={},t="top";return e[t]="calc("+144*this.val/100+"px)",e},sliderClass(){return"color-slider-horizontal"}},watch:{value(e){this.val=le(e,0,100)}},methods:{resetOffset(){let e=this.$refs.vslider,{width:t,height:i,left:a,top:s}=Ge(e);this.elSizePostion={width:t,height:i,left:a,top:s}},onDragStart(e){this.isDragging=!0,this.resetOffset(),this.onDragging(e),this.bindGlobalEvent()},onDragging(e){let{pageY:t}=e,{height:i,top:a}=this.elSizePostion;a=t-a;let s=a/i*100;s=s<0?0:s>100?100:parseFloat(s.toFixed(4)),s=this.handleStep(s),this.val=s,this.$emit("change",this.val)},handleStep(e){let t=e,i=this.step;return i&&(t=Math.floor(e/i)*i),t},onDragEnd(){this.isDragging=!1,this.unbindGlobalEvent()},change(e){},bindGlobalEvent(){window.addEventListener("mousemove",this.onDragging),window.addEventListener("mouseup",this.onDragEnd)},unbindGlobalEvent(){window.removeEventListener("mousemove",this.onDragging),window.removeEventListener("mouseup",this.onDragEnd)}}};function os(e,t,i,a,s,n){return u(),c("div",{ref:"vslider",class:f(["color-slider",n.sliderClass]),onMousedown:t[0]||(t[0]=(...r)=>n.onDragStart&&n.onDragStart(...r))},[d("div",{class:"ecom-picker-slider h-3 w-3 rounded-lg absolute pointer-events-none left-0.5 mt-px",style:T(n.pointStyle)},null,4)],34)}const rs=C(Ze,[["render",os]]);Ze.__docgenInfo={exportName:"default",displayName:"ColorSlider",description:"",tags:{},props:[{name:"step",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"value",type:{name:"number"},defaultValue:{func:!1,value:"0"}}],events:[{name:"change",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/molecules/ColorPicker/ColorSlider.vue"]};const Ye={name:"colorPicker",data(){const e=se(this.value),{h:t,s:i,v:a}=e.hsv;return{itv:null,colorMode:{type:["hex","rgb"],idx:0},sizeInfo:{},color:{hue:t,saturation:i,value:a},origin:e}},components:{Slider:rs},props:{value:{type:String,default:"#f00"},mode:{type:String,default:"all"}},emits:["update:data"],computed:{rgbString(){const{alpha:e,rgb:{r:t,g:i,b:a}}=this.origin;return`rgba(${t}, ${i}, ${a}, ${e})`},hsvString(){const{alpha:e,hsv:{h:t,s:i,v:a}}=this.origin;return`hsva(${t}, ${i}%, ${a}%, ${e})`},hexString(){return this.rgbString==="rgba(255, 255, 255, 0)"?"transparent":this.origin.hex},hueString(){const e=this.color.hue,{hex:t}=se(`hsv(${e}, 100%, 100%)`);return t},hueSlideValue(){const e=this.color.hue;return Math.round(e/360*100)},opacitySlideValue(){return this.origin.alpha!==1&&this.colorMode.idx===0&&this.colorMode.idx++,this.origin.alpha*100},pointerPosition(){const{saturation:e,value:t}=this.color,i=`${e}%`,a=`${100-t}%`;return{left:i,top:a}},opacityStyle(){const{rgb:{r:e,g:t,b:i}}=this.origin;return{background:`linear-gradient(to bottom, transparent 0%, rgba(${e}, ${t}, ${i}, 1) 100%)`}},colorType(){return this.colorMode.type[this.colorMode.idx]},isHex(){return this.colorType==="hex"},isRgb(){return this.colorType==="rgb"},isHsv(){return this.colorType==="hsv"}},watch:{value(e){this.resetOrigin(e),this.isDragging||this.resetColor()}},methods:{resetOrigin(e){this.origin=se(e)},resetColor(){const{h:e,s:t,v:i}=this.origin.hsv;this.color.hue=e,this.color.saturation=t,this.color.value=i},change(){this.resetOrigin(this[`${this.colorType}String`]),this.resetColor(),this.emitChange()},setColor(e){this.resetOrigin(e),this.resetColor(),this.emitChange()},toggleMode(){this.colorMode.idx++,this.colorMode.idx>=this.colorMode.type.length&&(this.colorMode.idx=0),this.origin.alpha=1,this.emitChange()},emitChange(){this.$nextTick(()=>{this.$emit("update:data",this.origin.alpha==1?this.hexString:this.rgbString)})},hueSlide(e){const t=Math.round(e/100*360),{alpha:i,hsv:{s:a,v:s}}=this.origin,n=se(`hsva(${t}, ${a}%, ${s}%, ${i})`);this.color.hue=t,this.origin=n,this.emitChange()},opacitySlide(e){this.origin.alpha=Math.round(e)/100,this.emitChange()},choose(e){this.onDragStart(e)},onDragStart(e){this.isDragging=!0,this.sizeInfo=Ge(this.$refs.vcolors),this.onDragging(e),this.registerGlobalEvent("bind")},onDragging(e){if(!this.isDragging&&e)return;const{pageX:t,pageY:i}=e,{width:a,height:s,left:n,top:r}=this.sizeInfo,o=t-n-window.scrollX,l=i-r-window.scrollY,{alpha:p}=this.origin;let h=o/a*100,m=(s-l)/s*100;const g=this.color.hue;h=Math.round(le(h,0,100)),m=Math.round(le(m,0,100)),this.color.saturation=h,this.color.value=m,this.origin=se(`hsva(${g}, ${h}%, ${m}%, ${p})`),clearTimeout(this.itv),this.itv=setTimeout(this.emitChange,300)},onDragEnd(){this.isDragging=!1,this.registerGlobalEvent("unbind")},registerGlobalEvent(e){e=e==="bind"?"addEventListener":"removeEventListener",window[e]("mousemove",as(this.onDragging,16.7)),window[e]("mouseup",this.onDragEnd),window[e]("contextmenu",this.onDragEnd)},inputColor(e){this.$emit("update:data",e.target.value)}}};const ls={class:"flex w-full px-4"},ds=d("div",{class:"absolute top-0 bottom-0 left-0 right-0 ecom-brightness-light"},null,-1),us=d("div",{class:"absolute top-0 bottom-0 left-0 right-0 ecom-brightness-dark"},null,-1),cs={class:"relative w-4 h-40 ml-2 overflow-hidden border dark:border-gray-600 cursor-pointer rounded-2xl ecom-color-hue"},ps={class:"relative w-4 h-40 ml-2 overflow-hidden border dark:border-gray-600 cursor-pointer rounded-2xl ecom-color-opacity"},ms={class:"p-4"},hs=["value"];function fs(e,t,i,a,s,n){const r=y("slider");return u(),c(k,null,[d("div",ls,[d("div",{ref:"vcolors",class:"relative flex flex-1 h-40 overflow-hidden border dark:border-gray-600 rounded ecom-color-palette",onMousedown:t[0]||(t[0]=(...o)=>e.choose&&e.choose(...o))},[e.value?(u(),c("div",{key:0,class:"absolute w-3 h-3 rounded-lg pointer-events-none ecom-picker-color z-1",style:T(e.pointerPosition)},null,4)):v("",!0),d("div",{class:"relative flex-1 h-40 border dark:border-gray-600 rounded ecom-color-palette",style:T({background:e.hueString})},null,4),ds,us],544),d("div",cs,[b(r,{value:e.hueSlideValue,onChange:e.hueSlide},null,8,["value","onChange"])]),d("div",ps,[b(r,{style:T(e.opacityStyle),value:e.opacitySlideValue,onChange:e.opacitySlide},null,8,["style","value","onChange"])])]),d("div",ms,[d("input",{class:"block w-full px-2 transition rounded shadow-sm h-9 sm:text-sm focus:ring-inset focus:ring-1 focus:ring-primary-400 dark:focus:ring-transparent focus:border-primary-400 border-form-border dark:border-gray-600 text-black dark:bg-dark dark:text-dark-color",type:"text",name:"inputColor",placeholder:"Color code here",value:e.value,onInput:t[1]||(t[1]=(...o)=>e.inputColor&&e.inputColor(...o))},null,40,hs)])],64)}const qe=C(Ye,[["render",fs]]);Ye.__docgenInfo={displayName:"colorPicker",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"string"},defaultValue:{func:!1,value:"'#f00'"}},{name:"mode",type:{name:"string"},defaultValue:{func:!1,value:"'all'"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/molecules/ColorPicker/ColorPicker.vue","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/molecules/ColorPicker/main.ts"]};const Je={name:"ColorComponent",components:{Tabs:Ne,Global:Be,ColorPicker:qe},props:{value:{type:String,default:""},field:{type:Object,default(){return{}}},globalSelected:{type:String,default:""},global:{type:Object,default(){return{}}},posArrow:{type:String,default:""},hasDelete:{type:Boolean,default:!1}},data(){return{icons:{faArrowsRotate:q}}},emits:["refeshColor","update:value","update:global-selected","update:delete"],methods:{addNewGlobalColor(e){var i,a;let t=this.$helpers.makeId(8);this.$store.dispatch("settings/addDataGlobal",{key:t,type:(i=this.global)==null?void 0:i.type,data:{title:e,value:this.$helpers.copy(this.value)}}),this.$emit("update:global-selected",t),this.$store.commit("global/flash",{open:!0,message:"Add Global "+(((a=this.global)==null?void 0:a.type)==="colors"?"Color":"Font")+" Success",type:"success"},{root:!0})}}},gs={class:"inline-block bg-white text-white rounded w-68 shadow-popup dark:bg-gray-700 dark:text-gray-700"},bs=d("polygon",{class:"shadow-xxl",points:"0,53.333 106.667,160 213.333,53.333"},null,-1),ys=[bs],vs={key:1},ks={class:"flex items-center justify-between px-4 py mb-2 border-b dark:border-gray-600 dark:text-dark-color"},_s={class:"text-sm font-medium text-form-title dark:text-dark-color"},xs={class:"flex items-center"};function ws(e,t,i,a,s,n){var h,m;const r=y("Global"),o=y("ColorPicker"),l=y("Tabs"),p=y("ecom-icon");return u(),c("div",gs,[(u(),c("svg",{viewBox:"0 0 213.3 213.3",class:f(["absolute top-0 w-4 h-4 -mt-3 transform rotate-180 fill-current",i.posArrow?"-translate-x-1/2":"mr-1 left-8"]),style:T(i.posArrow?{left:i.posArrow}:null)},ys,6)),i.global&&i.global.type?(u(),M(l,{key:0,title:"Color picker",tabs:["customize","global"],"has-delete":i.hasDelete,value:i.value,type:(h=i.global)==null?void 0:h.type,selected:i.globalSelected,onAddglobal:n.addNewGlobalColor,"onUpdate:delete":t[2]||(t[2]=g=>e.$emit("update:delete")),onRefesh:t[3]||(t[3]=g=>e.$emit("refeshColor"))},{global:O(()=>[b(r,{global:i.global,selected:i.globalSelected,"onUpdate:selected":t[0]||(t[0]=g=>e.$emit("update:global-selected",g))},null,8,["global","selected"])]),customize:O(()=>[b(o,{value:i.value,"onUpdate:data":t[1]||(t[1]=g=>e.$emit("update:value",g))},null,8,["value"])]),_:1},8,["has-delete","value","type","selected","onAddglobal"])):(u(),c("div",vs,[d("div",ks,[d("span",_s,D((m=i.field)==null?void 0:m.label),1),d("span",xs,[d("button",{class:"p-2 transition rounded text-form-secondary hover:bg-gray-200 hover:text-form-secondary-hover dark:text-dark-color dark:hover:bg-dark dark:hover:text-primary-600","data-tooltip":"Reset to default","data-tooltip-location":"top-right",type:"button",onClick:t[4]||(t[4]=g=>e.$emit("refeshColor"))},[b(p,{icon:s.icons.faArrowsRotate,class:"w-5 h-5"},null,8,["icon"])])])]),b(o,{value:i.value,"onUpdate:data":t[5]||(t[5]=g=>e.$emit("update:value",g))},null,8,["value"])]))])}const Xe=C(Je,[["render",ws]]);Je.__docgenInfo={displayName:"ColorComponent",exportName:"default",description:"",tags:{},props:[{name:"value",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"globalSelected",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"global",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"posArrow",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"hasDelete",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"update:delete"},{name:"refeshColor"},{name:"update:global-selected",type:{names:["undefined"]}},{name:"update:value"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/molecules/ColorPicker/ColorPanel.vue"]};const Ke={name:"Gradient",components:{ColorPicker:Xe},directives:{clickOutside:ue},props:{data:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{icons:{faArrowsRotate:q,faQuestionSquare:Qt},selected:null,value:{positions:[{index:0,color:""}]},inputRange:null,isMove:!1,x:0,max:10,showPicker:!1}},computed:{fields(){return[{name:"type",label:"Type",type:"popup",value:"linear",options:{type:"dropdown",default:!1,values:{linear:"Linear",radial:"Radial"},oneline:!0}},{name:"angle",label:"Angle",type:"number",value:180,options:{min:0,max:360,visible:{keep_data:!0,condition:e=>e.type=="linear"}}},{name:"position",label:"Position",type:"popup",value:"center center",options:{type:"dropdown",default:!1,values:{"center center":"Center center","center right":"Center right","center left":"Center left","top left":"Top left","top center":"Top center","top right":"Top right","bottom right":"Bottom right","bottom left":"Bottom left","bottom center":"Bottom center"},oneline:!0,visible:{keep_data:!0,condition:e=>e.type=="radial"}}}]},positionsSorted(){let e=this.$helpers.copy(this.value.positions);return e.sort((t,i)=>t.index-i.index),e},positionsValidSorted(){return this.$helpers.copy(this.positionsSorted).filter(t=>t.color)},hasRefresh(){return this.positionsSorted.length},hasAdd(){return this.positionsSorted.length<10},output(){var e;if(((e=this.positionsValidSorted)==null?void 0:e.length)>0){let{positions:t,...i}=this.value;return{positions:this.positionsValidSorted,...i}}return{}},globalColors(){return this.$store.getters["settings/globalDatas"]},posArrow(){if(this.selected){if(this.inputRange||(this.inputRange=this.$refs.range),!this.inputRange)return"0px";let e=this.inputRange.offsetWidth;return this.intBetween(this.selected.index*e/100+10,10,e+10)+"px"}return""}},watch:{data:{deep:!0,immediate:!0,handler(e){var t,i;e&&JSON.stringify(e)!==JSON.stringify(this.output)?(this.value=this.validValue(e),this.selected=(t=this.value.positions)==null?void 0:t[0]):this.selected||(this.selected=(i=this.value.positions)==null?void 0:i[0])}},output:{deep:!0,handler(e){this.$emit("update:data",e)}}},mounted(){this.inputRange=this.$refs.range,window.EComposerBuilder.contentDocument.onclick=()=>{this.showPicker=!1}},methods:{preview(e="linear"){let t=this.$helpers.copy(this.output);return e==="linear"&&(t.type="linear",t.angle=90),ei(t)},color(e){var t,i,a,s;return typeof e=="string"?e:e!=null&&e["global-colors"]&&(s=(a=(i=(t=this.globalColors)==null?void 0:t.colors)==null?void 0:i[e["global-colors"]])==null?void 0:a.value)!=null?s:""},validValue(e){let t={positions:[]};return["first","second"].forEach(i=>{var a;e[i+"-color"]&&t.positions.push({index:(a=e[i+"-location"])!=null?a:0,color:e[i+"-color"]})}),["type","angle","position","positions"].forEach(i=>{e[i]&&(t[i]=e[i])}),t},intBetween(e,t,i){return e===void 0?e:Math.max(t,Math.min(i,e))},updateColor(e){if(this.selected)this.selected.color=e;else{let t={index:0,color:e};this.selected=t,this.value.positions.push(t)}},onAddNewColor(e){if(e.target.closest(".item:not(.ecom-group-item)"))return;let{x:t}=e,i=e.target,a=i.getBoundingClientRect(),s=i.offsetWidth,n=Math.round((t-a.x)/s*100);this.addNewColor(n)},addNewColor(e,t=""){if(!!this.hasAdd&&this.value.positions.length<10){let i={index:e,color:t};this.selected=i,this.value.positions=this.value.positions.filter(a=>a.color!=""),this.value.positions.push(i),this.showPicker=!0}},mouseDownItem(e,t){this.isMove=!1,this.selected=e,this.x=t.x,document.onmousemove=this.mouseMove,document.onmouseup=this.mouseUp},mouseMove(e){if(Math.abs(this.x-e.x)>3){this.showPicker=!1,this.isMove=!0;let{x:t}=e,i=this.inputRange.offsetWidth,a=this.inputRange.getBoundingClientRect(),s=Math.round((t-a.x)/i*100);this.selected&&(this.selected.index=this.intBetween(s,0,100))}},mouseUp(){this.isMove||(this.showPicker=!0),document.onmousemove=null,document.onmouseup=null,this.isMove=!1,this.x=null,this.y=null},deleteColor(){let e=this.value.positions.findIndex(t=>t===this.selected);this.value.positions.splice(e,1),this.showPicker=!1},closePopup(e){!e.target.closest(".item")&&!e.target.closest(".range")&&(this.showPicker=!1)}}};const Cs={class:"relative p-3 bg-white dark:bg-gray-700 dark:text-dark-color focus:outline-none focus:ring-0"},Ss={class:"relative mb-4",style:{"z-index":"11"}},Ds={ref:"range",class:"relative mx-2.5"},Ms=["onMousedown"],Ts={key:0,class:"absolute -bottom-3 left-1/2 transform -translate-x-1/2 p-0.5 rounded-full bg-primary-500"},Ls={class:"flex items-center justify-between mb-4"},Is=d("span",{class:"text-xs font-semibold text-form-title dark:text-dark-color"},"COLOR STOP",-1),zs={class:"flex items-center"},Vs={class:"flex justify-center my-2"},Hs={href:"https://help.ecomposer.io/docs/faqs/how-to-create-gradient-backgrounds-for-buttons-or-section/",class:"flex items-center text-primary-600 text-sm hover:underline",target:"_blank"},Fs=d("span",null,"See guide",-1);function js(e,t,i,a,s,n){var h,m,g,_,w,L;const r=y("ColorPicker"),o=y("ecom-icon"),l=y("Fields"),p=ne("clickOutside");return u(),c("div",Cs,[d("div",{class:f(["w-full h-24 mb-4 rounded shadow-gradient-preview",{"bg-white dark:bg-gray-600 dark:text-dark-color":!n.positionsValidSorted.length}]),style:T(n.preview(""))},null,6),d("div",Ss,[d("div",{class:"relative",onClick:t[0]||(t[0]=(...S)=>n.onAddNewColor&&n.onAddNewColor(...S)),"data-tooltip":"Click to add color stop"},[d("div",{class:f(["relative h-5 rounded-full range shadow-range",[{"bg-gray-50 dark:bg-gray-600":!n.positionsValidSorted.length},n.hasAdd?"cursor-crosshair":"cursor-default"]]),style:T(n.preview())},[d("div",Ds,[(u(!0),c(k,null,z(s.value.positions,S=>(u(),c("div",{key:S.index,style:T({left:S.index+"%"}),class:f(["item absolute top-0.5 transform -translate-x-1/2 block w-4 h-4 border-2 border-white bg-transparent flex items-center justify-center rounded-full",[s.selected==S?(s.isMove?"cursor-grabbing ":"cursor-pointer ")+"ring-2 ring-primary-500 z-1":"cursor-pointer",{"bg-empty":!S.color}]]),"data-tooltip":"Click to select color",onMousedown:V=>n.mouseDownItem(S,V)},[s.selected==S?(u(),c("span",Ts)):(u(),c(k,{key:1},[],64))],46,Ms))),128))],512)],6)]),s.selected&&s.showPicker?I((u(),M(r,{key:0,class:"absolute z-10 w-full color-picker top-8","pos-arrow":n.posArrow,"has-delete":!0,value:n.color((h=s.selected)==null?void 0:h.color),global:{type:"colors"},"global-selected":(g=(m=s.selected)==null?void 0:m.color)==null?void 0:g["global-colors"],onRefeshColor:t[1]||(t[1]=S=>n.updateColor("")),"onUpdate:value":t[2]||(t[2]=S=>n.updateColor(S)),"onUpdate:globalSelected":t[3]||(t[3]=S=>n.updateColor({"global-colors":S})),"onUpdate:delete":n.deleteColor},null,8,["pos-arrow","value","global-selected","onUpdate:delete"])),[[p,n.closePopup]]):(u(),c(k,{key:1},[],64))]),d("div",Ls,[Is,d("span",zs,[b(o,{icon:s.icons.faArrowsRotate,class:f(["w-5 h-5 text-gray-400 transition",(_=s.value.positions)!=null&&_.length?"text-primary-600 hover:text-primary-700 cursor-pointer":"text-gray-400"]),onClick:t[4]||(t[4]=S=>n.hasRefresh&&(s.value.positions=[]))},null,8,["icon","class"])])]),(L=(w=s.value)==null?void 0:w.positions)!=null&&L.length?(u(),M(l,{key:0,data:s.value,fields:n.fields,freeform:!0},null,8,["data","fields"])):(u(),c(k,{key:1},[],64)),d("div",Vs,[d("a",Hs,[Fs,b(o,{icon:s.icons.faQuestionSquare,class:"h-4 w-4 ml-1"},null,8,["icon"])])])])}const $e=C(Ke,[["render",js]]);Ke.__docgenInfo={displayName:"Gradient",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/background/Gradient.vue"]};const Os=Object.freeze(Object.defineProperty({__proto__:null,default:$e},Symbol.toStringTag,{value:"Module"})),Qe={name:"Background",components:{GradientComponent:$e},mixins:[ee],provide:{teleport_id:".ecom-fields__background"},props:{field:{type:Object,default(){return{}}},data:{type:Object,default(){return{}}}},emits:["update:data"],data(){var e,t,i,a,s,n,r,o;return{type:(e=this.field.options)!=null&&e.types?(t=this.field.options)==null?void 0:t.types[0]:"classic",values:this.$helpers.copy(this.data),types:(a=(i=this.field.options)==null?void 0:i.types)!=null?a:["classic","gradient"],refresh:0,image:(n=(s=this.field.options)==null?void 0:s.image)!=null?n:!0,classicColor:(o=(r=this.field.options)==null?void 0:r.classicColor)!=null?o:!1,status:!0,emit:!1}},computed:{fields(){return this.type==="classic"?this.classicColor?[{name:"background-color",label:"Color",type:"color",options:{oneline:!0,global:{type:"colors"}}}]:[{name:"background-color",label:"Color",type:"color",options:{oneline:!0,global:{type:"colors"}}},this.image?{name:"background-image",label:"Image",type:"picker",options:{type:"image",multiple:!1,output:"value",position:"fixed",formatValue:'url("%value%")'}}:{},{type:"size",label:"Image size",name:"image-size",options:{reset:!0,visible:{keep_data:!0,condition:e=>e["background-image"]}}},this.image?{name:"background-position",label:"Position",type:"popup",value:"center center",options:{default:!1,values:{"center center":"Center center","center right":"Center right","center left":"Center left","top left":"Top left","top center":"Top center","top right":"Top right","bottom right":"Bottom right","bottom left":"Bottom left","bottom center":"Bottom center",custom:"Custom"},type:"dropdown",oneline:!0,visible:{keep_data:!0,condition:e=>e["background-image"]}}}:{name:"background-position",label:"Position",type:"popup",value:"center center",options:{default:!1,values:{"center center":"Center center","center right":"Center right","center left":"Center left","top left":"Top left","top center":"Top center","top right":"Top right","bottom right":"Bottom right","bottom left":"Bottom left","bottom center":"Bottom center",custom:"Custom"},type:"dropdown",oneline:!0}},{name:"background-position-x",label:"X Position",type:"number",options:{units:{px:{min:-800,max:800,step:1},em:{min:-100,max:100,step:.1},"%":{min:-100,max:100,step:1},vw:{min:-100,max:100,step:1}},visible:{keep_data:!0,condition:e=>e["background-position"]==="custom"}}},{name:"background-position-y",label:"Y Position",type:"number",options:{units:{px:{min:-800,max:800,step:1},em:{min:-100,max:100,step:.1},"%":{min:-100,max:100,step:1},vw:{min:-100,max:100,step:1}},visible:{keep_data:!0,condition:e=>e["background-position"]==="custom"}}},this.image?{name:"background-attachment",label:"Attachment",type:"popup",options:{default:!1,values:{fixed:"Fixed",scroll:"Scroll",local:"Local",inherit:"Inherit"},type:"dropdown",oneline:!0,visible:{keep_data:!0,condition:e=>e["background-image"]}}}:{name:"background-attachment",label:"Attachment",type:"popup",options:{default:!1,values:{fixed:"Fixed",scroll:"Scroll",local:"Local",inherit:"Inherit"},type:"dropdown",oneline:!0}},this.image?{name:"background-repeat",label:"Repeat",type:"popup",options:{default:!1,values:{"no-repeat":"No-repeat",repeat:"Repeat","repeat-x":"Horizontally","repeat-y":"Verically"},type:"dropdown",oneline:!0,visible:{keep_data:!0,condition:e=>e["background-image"]}}}:{name:"background-repeat",label:"Repeat",type:"popup",options:{default:!1,type:"dropdown",values:{"no-repeat":"No-repeat",repeat:"Repeat","repeat-x":"Horizontally","repeat-y":"Verically"},oneline:!0}},this.image?{name:"background-size",label:"Size",type:"popup",options:{type:"dropdown",default:!1,values:{cover:"Cover",auto:"Auto",contain:"Contain",inherit:"Inherit"},oneline:!0,visible:{keep_data:!0,condition:e=>e["background-image"]}}}:{name:"background-size",label:"Size",type:"popup",options:{type:"dropdown",default:!1,values:{cover:"Cover",auto:"Auto",contain:"Contain",inherit:"Inherit"},oneline:!0}}]:this.type==="gradient"?[{name:"first-color",label:"Color",type:"color",options:{oneline:!0,global:{type:"colors"}}},{name:"first-location",label:"Location",type:"number",value:0,options:{min:0,max:100}},{name:"second-color",label:"Second Color",type:"color",options:{oneline:!0,global:{type:"colors"}}},{name:"second-location",label:"Location",type:"number",value:100,options:{min:0,max:100}},{name:"type",label:"Type",type:"popup",value:"linear",options:{type:"dropdown",default:!1,values:{linear:"Linear",radial:"Radial"},oneline:!0}},{name:"angle",label:"Angle",type:"number",value:180,options:{min:0,max:360,visible:{keep_data:!0,condition:e=>e.type=="linear"}}},{name:"position",label:"Position",type:"popup",value:"center center",options:{type:"dropdown",default:!1,values:{"center center":"Center center","center right":"Center right","center left":"Center left","top left":"Top left","top center":"Top center","top right":"Top right","bottom right":"Bottom right","bottom left":"Bottom left","bottom center":"Bottom center"},oneline:!0,visible:{keep_data:!0,condition:e=>e.type=="radial"}}}]:[]},isNone(){return this.preview.length===0||!Object.keys(this.data).length},curValue(){var t,i;let e=(i=(t=this.values)==null?void 0:t[this.type])!=null?i:{};return!e||e.constructor===Array?{}:e},preview(){const e=Object.keys(this.curValue).length?ti({[this.type]:this.curValue}):"";return e&&(e==null?void 0:e.length)?[e[0].replace("background-color","background")]:""}},watch:{data:{deep:!0,immediate:!0,handler:function(e){this.status&&(this.emit=!1,this.values=this.$helpers.copy(e!=null?e:{}),e&&!this.type&&this.changeType("gradient"in e?"gradient":"classic")),this.status=!0}},"values.classic":{deep:!0,handler:function(e){(e==null?void 0:e["background-image"])&&this.type=="classic"&&(e["background-size"]||(this.values.classic["background-size"]="cover"),e["background-repeat"]||(this.values.classic["background-repeat"]="no-repeat"),e["background-position"]||(this.values.classic["background-position"]="center center"),e["background-attachment"]||(this.values.classic["background-attachment"]="scroll"))}},values:{deep:!0,immediate:!0,handler:function(e){var t,i;if(this.emit)if(this.status=!1,this.type.length>0){let a=this.$helpers.copy({[this.type]:e[this.type]});(i=(t=this.field)==null?void 0:t.options)!=null&&i.toNative&&(a.native=typeof this.preview=="object"?this.$helpers.copy(this.preview):this.preview),this.$emit("update:data",a)}else this.$emit("update:data",{});this.emit=!0}},fields:{deep:!0,handler:function(){this.refresh=this.$helpers.makeId(8)}},type(e){e.length>0?this.$emit("update:data",this.$helpers.copy({[e]:this.values[e]})):this.$emit("update:data",{}),this.status=!1}},created(){var e,t;((e=this==null?void 0:this.values)==null?void 0:e.gradient)&&!((t=this==null?void 0:this.values)!=null&&t.classic)&&(this.type="gradient")},methods:{backToDefault(){this.values={}},changeType(e){this.type=e,this.values[e]===void 0&&(this.values[e]={})},updateData(e){e&&this.type&&(this.values[this.type]=e)}}};const Es={key:0,style:{"z-index":"23"},class:"absolute pb-10 mt-3 top-full -left-4 ecom-fields__background"},Ps={class:"text-white inline-block bg-white dark:bg-gray-700 dark:text-gray-700 rounded w-68 shadow-popup"},As=d("svg",{viewBox:"0 0 213.3 213.3",class:"absolute top-0 w-4 h-4 mr-1 -mt-3 transform rotate-180 left-8 fill-current"},[d("polygon",{class:"shadow-xxl",points:"0,53.333 106.667,160 213.333,53.333"})],-1),Ns={key:0,class:"flex flex-wrap gap-2 px-4 pt-2 pb-0 border-b border-form-border-input dark:border-transparent"},Us=["onClick"],Bs={key:1,class:"w-full mt-5"};function Rs(e,t,i,a,s,n){const r=y("Fields"),o=y("GradientComponent");return u(),c("div",{class:f(["relative flex",e.id])},[d("button",{type:"button",class:f(["w-7 h-7 rounded border border-gray-100 dark:border-gray-600",{"ecom-bg__none":n.isNone}]),style:T(n.preview),onClick:t[0]||(t[0]=(...l)=>e.open&&e.open(...l))},null,6),b(K,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-90 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-90 opacity-0"},{default:O(()=>[e.isopen?(u(),c("div",Es,[d("div",Ps,[As,s.types&&s.types.length>1?(u(),c("ul",Ns,[(u(!0),c(k,null,z(s.types,(l,p)=>(u(),c("li",{key:p,class:"flex-1 ecom-item-tab-bg-hover"},[d("button",{type:"button",class:f(["flex items-center justify-center w-full px-3 py-2 text-sm font-normal text-center capitalize align-middle transition rounded h-7-5 whitespace-nowrap",s.type===l?"text-form-title dark:text-primary-600":"text-form-secondary dark:text-dark-color"]),onClick:h=>n.changeType(l)},D(l),11,Us),d("span",{class:f([s.type===l?"opacity-100 bg-primary-600":"bg-gray-400","flex w-full rounded-t opacity-0"]),style:{height:"3px"}},null,2)]))),128))])):(u(),c("div",Bs)),s.type==="classic"?(u(),M(r,{key:s.refresh,fields:n.fields,deep:1,ispop:!0,data:n.curValue,class:"p-3 mt-3 -mx-2","onUpdate:data":n.updateData},null,8,["fields","data","onUpdate:data"])):(u(),M(o,{key:3,data:n.curValue,"onUpdate:data":n.updateData},null,8,["data","onUpdate:data"]))])])):v("",!0)]),_:1})],2)}const Ws=C(Qe,[["render",Rs]]);Qe.__docgenInfo={exportName:"default",displayName:"Background",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/mixins/popmenu.ts","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/background/Background.vue"]};const Gs=Object.freeze(Object.defineProperty({__proto__:null,default:Ws},Symbol.toStringTag,{value:"Module"})),et={name:"Button",props:{...pn},emits:["update:clicked"]},Zs={class:"text-center"};function Ys(e,t,i,a,s,n){var o,l;const r=y("Button");return u(),c("div",Zs,[b(r,{type:"primary",size:"small",onClick:t[0]||(t[0]=p=>e.$emit("update:clicked",e.field.name)),innerHTML:(l=(o=e.field.options)==null?void 0:o.text)!=null?l:"Button"},null,8,["innerHTML"])])}const qs=C(et,[["render",Ys]]);et.__docgenInfo={displayName:"Button",exportName:"default",description:"",tags:{},events:[{name:"update:clicked"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/button/index.vue"]};const Js=Object.freeze(Object.defineProperty({__proto__:null,default:qs},Symbol.toStringTag,{value:"Module"})),tt={props:{field:{type:Object,default(){return{}}},data:[Array]},emits:["update:data"],data(){var e,t,i,a;return{value:(i=(t=this.data)!=null?t:(e=this.field)==null?void 0:e.value)!=null?i:[],list:(a=this.field.options)==null?void 0:a.values,status:!0,emit:!1}},watch:{data:{immediate:!0,handler:function(e){this.status&&(this.emit=!1,typeof e<"u"&&(this.value=e)),this.status=!0}},value:{immediate:!0,handler:function(e){this.emit&&(this.status=!1,this.$emit("update:data",e)),this.emit=!0}}}},Xs={class:"relative flex flex-col items-start"},Ks=["id","value"],$s=["for"];function Qs(e,t,i,a,s,n){return u(),c("div",Xs,[(u(!0),c(k,null,z(Object.keys(s.list),(r,o)=>(u(),c("div",{key:o,class:"flex items-center w-full mb-2"},[I(d("input",{id:r,"onUpdate:modelValue":t[0]||(t[0]=l=>s.value=l),type:"checkbox",value:r,class:"w-5 h-5 p-px mr-2 border-2 border-gray-400 rounded cursor-pointer focus:ring-0 focus:ring-transparent text-primary-600"},null,8,Ks),[[re,s.value]]),d("label",{class:"text-sm font-normal leading-5 cursor-pointer text-form-title dark:text-dark-color",for:r},D(s.list[r]),9,$s)]))),128))])}const ea=C(tt,[["render",Qs]]);tt.__docgenInfo={exportName:"default",displayName:"Checkbox",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"data",type:{name:"array"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/checkbox/Checkbox.vue"]};const ta=Object.freeze(Object.defineProperty({__proto__:null,default:ea},Symbol.toStringTag,{value:"Module"})),it={name:"ChooseField",mixins:[ee],props:{data:[String,Number],field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{selectedIndex:-1,isWatch:!0,isEmit:!1,icons:{faPen:fe,faArrowRightArrowLeft:ii,faAlignLeft:ni,faAlignRight:si,faAlignCenter:ai,faAlignJustify:Fe,faArrowLeftToLine:oi,faArrowRightToLine:ri,faArrowDownToLine:li,faArrowUpToLine:di,faArrowsFromLine:ui,faArrowDownArrowUp:ci,faListUl:pi,faEllipsis:mi,faTableLayout:je,faHeading:hi,faStars:fi}}},computed:{keep(){return!1},type(){var e,t,i;return(i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.type)!=null?i:"align"},types(){return{"align-x":[{icon:"faArrowLeftToLine",tooltip:"Left"},{icon:"faArrowRightToLine",tooltip:"Right"}],"align-x-full":[{icon:"faArrowLeftToLine",tooltip:"Left"},{icon:"faAlignCenter",tooltip:"Center"},{icon:"faArrowRightToLine",tooltip:"Right"}],"align-y":[{icon:"faArrowLeftToLine",tooltip:"Top"},{icon:"faArrowRightToLine",tooltip:"Bottom"}],"align-y-full":[{icon:"faArrowUpToLine",tooltip:"Top"},{icon:"faArrowsFromLine",tooltip:"Center"},{icon:"faArrowDownToLine",tooltip:"Bottom"}],"align-position":[{icon:"faArrowLeftToLine",tooltip:"Left"},{icon:"faArrowUpToLine",tooltip:"Top"},{icon:"faArrowDownToLine",tooltip:"Bottom"},{icon:"faArrowRightToLine",tooltip:"Right"}],"align-full":[{icon:"faAlignLeft",tooltip:"Left"},{icon:"faAlignCenter",tooltip:"Center"},{icon:"faAlignRight",tooltip:"Right"},{icon:"faAlignJustify",tooltip:"Justify"}],"text-align":[{icon:"faAlignLeft",tooltip:"Left"},{icon:"faAlignCenter",tooltip:"Center"},{icon:"faAlignRight",tooltip:"Right"}],"vertical-align":[{icon:"faArrowUpToLine",tooltip:"Top"},{icon:"faArrowsFromLine",tooltip:"Center"},{icon:"faArrowDownToLine",tooltip:"Bottom"}],layout:[{icon:"faListUl",tooltip:"Default"},{icon:"faEllipsis",tooltip:"Inline"}],heading:[{text:"H1",value:"h1"},{text:"H2",value:"h2"},{text:"H3",value:"h3"},{text:"H4",value:"h4"},{text:"H5",value:"h5"},{text:"H6",value:"h6"},{text:"LINK",value:"a"}],rating:[{text:"0",value:"0"},{text:"1",value:"1"},{text:"2",value:"2"},{text:"3",value:"3"},{text:"4",value:"4"},{text:"5",value:"5"}]}},values(){var t,i,a,s;if((i=(t=this.field)==null?void 0:t.options)!=null&&i.values)return this.field.options.values;let e=[];return(a=this.types)!=null&&a[this.type]&&((s=this.types)==null||s[this.type].forEach(n=>{var r;e.push((r=n==null?void 0:n.value)!=null?r:"")})),e},value(){var e;return(e=this.values)==null?void 0:e[this.selectedIndex]},itemActive(){let e=this.types[this.type];return e==null?void 0:e[this.selectedIndex]},typeIcon(){let e=this.field.options,t="";switch(e==null?void 0:e.type){case"align-y-full":case"align-y":{t="faArrowDownArrowUp";break}case"layout":{t="faTableLayout";break}case"heading":{t="faHeading";break}case"rating":{t="faStars";break}default:t="faArrowRightArrowLeft"}return t},preview(){var e,t;return(e=this.itemActive)!=null&&e.icon?{type:"icon",icon:this.itemActive.icon}:(t=this.itemActive)!=null&&t.text?{type:"text",text:this.itemActive.text}:{type:"icon",icon:this.typeIcon}}},watch:{data:{immediate:!0,handler:function(e){this.isWatch&&(this.isEmit=!1,this.selectedIndex=this.values.indexOf(e!=null?e:"")),this.isWatch=!0}},value:{immediate:!0,handler:function(e){this.isEmit&&(this.isWatch=!1,this.$emit("update:data",e)),this.isEmit=!0}}},methods:{classButton(e){let t=this.types[this.type].length,i="";return e===t-1?i+="rounded-r ":e===0&&(i+="rounded-l  "),this.selectedIndex===e?i+="hover:bg-form-bg-active bg-form-bg-active text-white border-form-bg-active ":i+="bg-white dark:bg-dark dark:text-dark-color border-form-border text-form-secondary ",i}}},ia=["data-tooltip"],na=["innerHTML"],sa={key:0,class:"absolute z-50 mt-3 top-full -left-4 ecom-fields__popup"},aa={class:"inline-block p-1 bg-white text-white dark:bg-dark dark:text-dark rounded shadow-popup"},oa=d("svg",{viewBox:"0 0 213.3 213.3",class:"absolute top-0 w-4 h-4 mr-1 -mt-3 transform rotate-180 left-8 fill-current"},[d("polygon",{class:"shadow-xxl",points:"0,53.333 106.667,160 213.333,53.333"})],-1),ra={class:"inline-flex rounded"},la=["data-tooltip","onClick"],da=["innerHTML"];function ua(e,t,i,a,s,n){var o,l,p,h,m;const r=y("ecom-icon");return u(),c("div",{class:f(["relative",[(l=(o=i.field)==null?void 0:o.options)!=null&&l.oneline?"ml-auto":"",e.id]])},[d("button",{type:"button",class:"relative flex items-center justify-center w-8 h-8 text-gray-600 dark:text-dark-color dark:bg-gray-600 bg-coolGray-100 rounded","data-tooltip":(h=(p=n.itemActive)==null?void 0:p.tooltip)!=null?h:null,onClick:t[0]||(t[0]=(...g)=>e.open&&e.open(...g))},[n.preview.type==="icon"?(u(),M(r,{key:0,icon:s.icons[n.preview.icon],class:f(["w-4 h-4",n.type==="align-y"&&((m=n.itemActive)==null?void 0:m.icon)?"transform rotate-90":""])},null,8,["icon","class"])):(u(),c("p",{key:1,class:"text-xs font-medium",innerHTML:n.preview.text},null,8,na))],8,ia),b(K,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-90 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-90 opacity-0"},{default:O(()=>[e.isopen?(u(),c("div",sa,[d("div",aa,[oa,d("div",ra,[(u(!0),c(k,null,z(n.types[n.type],(g,_)=>(u(),c("a",{key:_,href:"#",class:f(["flex items-center justify-center px-2 text-center transition-all duration-300 h-7-5 border-form-border hover:bg-form-bg-hover",n.classButton(_)]),"data-tooltip":g.tooltip,onClick:ie(w=>s.selectedIndex=_,["prevent"])},[g.icon?(u(),M(r,{key:0,icon:s.icons[g.icon],class:f(["w-4 h-4 m-auto",[n.type==="align-y"?"transform rotate-90":""]])},null,8,["icon","class"])):(u(),c("span",{key:1,class:"text-xs font-medium",innerHTML:g.text},null,8,da))],10,la))),128))])])])):v("",!0)]),_:1})],2)}const ca=C(it,[["render",ua]]);it.__docgenInfo={exportName:"default",displayName:"ChooseField",description:"",tags:{},props:[{name:"data",type:{name:"string|number"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/mixins/popmenu.ts","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/choose/Choose.vue"]};const pa=Object.freeze(Object.defineProperty({__proto__:null,default:ca},Symbol.toStringTag,{value:"Module"})),nt={name:"Color",components:{ColorComponent:Xe},mixins:[ee],props:{field:{type:Object,default(){return{}}},data:[Object,String],size:{type:String,default:"normal"}},emits:["update:data"],data(){var e,t;return{value:(t=(e=this.data)!=null?e:this.field.value)!=null?t:"",dGlobal:{selected:""}}},computed:{bg(){return{background:this.value?this.value:`linear-gradient(to top left,
                        rgba(0,0,0,0) 0%,
                        rgba(0,0,0,0) calc(50% - 0.8px),
                        red 50%,
                        rgba(0,0,0,0) calc(50% + 0.8px),
                        rgba(0,0,0,0) 100%)`}},globalTitle(){return this.dGlobal?this.$store.getters["settings/globalTitle"]("colors",this.dGlobal.selected):""},global(){var e,t;return(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.global}},watch:{"dGlobal.selected"(e){e&&this.global&&this.$emit("update:data",{["global-"+this.global.type]:e})},data:{immediate:!0,handler:function(e){var t,i;this.isWatch&&(this.isEmit=!1,this.value=e),this.isWatch=!0,this.dGlobal.selected=(i=(t=this.global)==null?void 0:t.value)!=null?i:""}},value:{immediate:!0,handler:function(e){this.isEmit&&(this.isWatch=!1,this.$emit("update:data",e)),this.isEmit=!0}}},methods:{update(e){},refeshColor(){this.value=""}}};const ma={class:"relative inline-flex justify-end"},ha=["data-tooltip"],fa={key:0,style:{"z-index":"22"},class:"absolute mt-3 top-full -left-4 ecom-fields__popup dark:bg-gray-700"};function ga(e,t,i,a,s,n){var o,l;const r=y("ColorComponent");return u(),c("div",{class:f(["flex justify-end",e.id])},[d("div",ma,[d("button",{type:"button",class:f(["relative flex items-center popup__button",i.size==="normal"?"w-7 h-7 rounded border border-gray-300":"w-3 h-3 rounded-xs"]),style:T(n.bg),"data-tooltip":(l=(o=n.globalTitle)!=null?o:s.value)!=null?l:null,"data-tooltip-location":"top-left",onClick:t[0]||(t[0]=(...p)=>e.open&&e.open(...p))},null,14,ha),b(K,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:O(()=>[e.isopen?(u(),c("div",fa,[b(r,{"global-selected":s.dGlobal.selected,global:n.global,value:s.value,field:i.field,onRefeshColor:n.refeshColor,"onUpdate:value":t[1]||(t[1]=p=>s.value=p),"onUpdate:globalSelected":t[2]||(t[2]=p=>s.dGlobal.selected=p)},null,8,["global-selected","global","value","field","onRefeshColor"])])):v("",!0)]),_:1})])],2)}const ba=C(nt,[["render",ga]]);nt.__docgenInfo={exportName:"default",displayName:"Color",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"data",type:{name:"object|string"}},{name:"size",type:{name:"string"},defaultValue:{func:!1,value:"'normal'"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/mixins/popmenu.ts","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/color/Color.vue"]};const ya=Object.freeze(Object.defineProperty({__proto__:null,default:ba},Symbol.toStringTag,{value:"Module"})),st={"blend-mode":[{name:"",title:"None"},{name:"normal",title:"Normal"},{name:"multiply",title:"Multiply"},{name:"overlay",title:"Overlay"},{name:"darken",title:"Darken"},{name:"lighten",title:"Lighten"},{name:"color-dodge",title:"Color Dodge"},{name:"saturation",title:"Saturation"},{name:"difference",title:"Difference"},{name:"exclusion",title:"Exclusion"},{name:"hue",title:"Hue"},{name:"luminosity",title:"Luminosity"}],"entrance-animation":[{name:"shake",title:"Shake"},{name:"shake-y",title:"Shake Y"},{name:"rubber-band",title:"Rubber Band"},{name:"heart-beat",title:"Heart Beat"},{name:"flash",title:"Flash"},{name:"swing",title:"Swing"},{name:"tada",title:"Tada"},{name:"wobble",title:"Wobble"},{name:"jello",title:"Jello"},{name:"fade-in",title:"Fade In"},{name:"fade-in-down",title:"Fade In Down"},{name:"fade-in-left",title:"Fade In Left"},{name:"fade-in-right",title:"Fade In Right"},{name:"fade-in-up",title:"Fade In Up"},{name:"zoom-in",title:"Zoom In"},{name:"zoom-in-down",title:"Zoom In Down"},{name:"zoom-in-left",title:"Zoom In Left"},{name:"zoom-in-right",title:"Zoom In Right"},{name:"zoom-in-up",title:"Zoom In Up"},{name:"bounce-in",title:"Bounce In"},{name:"bounce-in-down",title:"Bounce In Down"},{name:"bounce-in-left",title:"Bounce In Left"},{name:"bounce-in-right",title:"Bounce In Right"},{name:"bounce-in-up",title:"Bounce In Up"},{name:"back-in-down",title:"Back In down"},{name:"back-in-left",title:"Back In Left"},{name:"back-in-right",title:"Back In Right"},{name:"back-in-up",title:"Back In Up"},{name:"flip",title:"Flip"},{name:"flip-x",title:"Flip X"},{name:"flip-y",title:"Flip Y"},{name:"light-speed-in-right",title:"Light Speed In Right"},{name:"light-speed-in-left",title:"Light Speed In Left"},{name:"roll",title:"Roll"}],overlay_animation:[{name:"none",title:"None",disabled:!0},{name:"",title:"None"},{name:"entrance",title:"Entrance",disabled:!0},{name:"slide-in-right",title:"Slide In Right"},{name:"slide-in-left",title:"Slide In Left"},{name:"slide-in-up",title:"Slide In Up"},{name:"slide-in-down",title:"Slide In Down"},{name:"zoom-in",title:"Zoom In"},{name:"zoom-out",title:"Zoom Out"},{name:"fade-in",title:"Fade In"},{name:"exit",title:"Exit",disabled:!0},{name:"slide-out-right",title:"Slide Out Right"},{name:"slide-out-left",title:"Slide Out Left"},{name:"slide-out-up",title:"Slide Out Up"},{name:"slide-out-down",title:"Slide Out Down"},{name:"zoom-in",title:"Zoom In"},{name:"zoom-out",title:"Zoom Out"},{name:"fade-out",title:"Fade Out"}],"border-style":[{name:"none",title:"None"},{name:"solid",title:"Solid"},{name:"double",title:"Double"},{name:"dotted",title:"Dotted"},{name:"dashed",title:"Dashed"},{name:"groove",title:"Groove"}],"outline-style":[{name:"none",title:"None"},{name:"solid",title:"Solid"},{name:"double",title:"Double"},{name:"dotted",title:"Dotted"},{name:"dashed",title:"Dashed"},{name:"groove",title:"Groove"}],animation:[{name:"grow",title:"Grow"},{name:"shrink",title:"Shrink"},{name:"pulse",title:"Pulse"},{name:"pulse-grow",title:"Pulse Grow"},{name:"pulse-shrink",title:"Pulse Shrink"},{name:"push",title:"Push"},{name:"pop",title:"Pop"},{name:"bounce-in",title:"Bounce In"},{name:"bounce-out",title:"Bounce Out"},{name:"rotate",title:"Rotate"}],style:[{name:"line",title:"Line",disabled:!0},{name:"solid",title:"Solid"},{name:"double",title:"Double"},{name:"dotted",title:"Dotted"},{name:"dashed",title:"Dashed"},{name:"surly",title:"Curly"},{name:"curved",title:"Curved"},{name:"slashes",title:"Slashes"},{name:"squared",title:"Squared"},{name:"wavy",title:"Wavy"},{name:"zigzag",title:"Zigzag"},{name:"pattern",title:"Pattern",disabled:!0},{name:"multiple",title:"Multiple"},{name:"arrows",title:"Arrows"},{name:"pluses",title:"Pluses"},{name:"rhombus",title:"Rhombus"},{name:"parallelogram",title:"Parallelogram"},{name:"rectangles",title:"Rectangles"},{name:"tribal",title:"Tribal",disabled:!0},{name:"dots",title:"Dots"},{name:"fir-tree",title:"Fir Tree"},{name:"half-rounds",title:"Half Rounds"},{name:"leaves",title:"Leaves"},{name:"stripes",title:"Stripes"},{name:"squares",title:"Squares"},{name:"trees",title:"Trees"},{name:"tribal",title:"Tribal"},{name:"x",title:"X"},{name:"zigzag",title:"Zigzag"}],"vertical-align":[{name:"default",title:"Default"},{name:"top",title:"Top"},{name:"middle",title:"Middle"},{name:"bottom",title:"Bottom"},{name:"space-between",title:"Space Between"},{name:"space-around",title:"Space Around"},{name:"space-evenly",title:"Space Evenly"}],"horizontal-align":[{name:"default",title:"Default"},{name:"start",title:"Start"},{name:"center",title:"Center"},{name:"end",title:"End"},{name:"space-between",title:"Space Between"},{name:"space-around",title:"Space Around"},{name:"space-evenly",title:"Space Evenly"}],"HTML-tags":[{name:"default",title:"Default"},{name:"div",title:"Div"},{name:"header",title:"Header"},{name:"footer",title:"Footer"},{name:"main",title:"Main"},{name:"article",title:"Article"},{name:"section",title:"Section"},{name:"aside",title:"Aside"},{name:"nav",title:"Nav"}],"font-weight":[{name:"100",title:"100"},{name:"200",title:"200"},{name:"300",title:"300"},{name:"400",title:"400"},{name:"500",title:"500"},{name:"600",title:"600"},{name:"700",title:"700"},{name:"800",title:"800"},{name:"900",title:"900"},{name:"normal",title:"Normal"},{name:"bold",title:"Bold"},{name:"bolder",title:"Bolder"}],"text-transform":[{name:"capitalize",title:"Capitalize"},{name:"uppercase",title:"Uppercase"},{name:"lowercase",title:"Lowercase"},{name:"none",title:"None"}],font_style:[{name:"xx-small",title:"XX-Small"},{name:"x-small",title:"X-Small"},{name:"small",title:"Small"},{name:"medium",title:"Medium"},{name:"large",title:"Large"},{name:"x-large",title:"X-Large"},{name:"large",title:"Large"},{name:"smaller",title:"Smaller"},{name:"length",title:"Length"},{name:"percentage",title:"Percentage"}],"font-style":[{name:"__delete__",title:"Default"},{name:"normal",title:"Normal"},{name:"italic",title:"Italic"},{name:"oblique",title:"Olique"}],"text-decoration":[{name:"__delete__",title:"Default"},{name:"underline",title:"Underline"},{name:"overline",title:"Overline"},{name:"line-through",title:"Line Through"},{name:"none",title:"None"}],"bg-position":[{title:"Center center",name:"center center"},{title:"Top left",name:"top left"},{title:"Top center",name:"top center"},{title:"Top right",name:"top right"},{title:"Bottom right",name:"bottom right"},{title:"Bottom left",name:"bottom left"},{title:"Bottom center",name:"bottom center"}],"bg-repeat":[{title:"No-repeat",name:"no-repeat"},{title:"Repeat",name:"repeat"},{title:"Horizontally",name:"horizontally"},{title:"Verically",name:"verically"}],"bg-size":[{title:"Cover",name:"/cover"},{title:"Auto",name:"/auto"},{title:"Contain",name:"/contain"},{title:"Inherit",name:"/inherit"}],"bg-attachment":[{title:"Fixed",name:"fixed"},{title:"Scroll",name:"scroll"},{title:"Local",name:"local"},{title:"Inherit",name:"inherit"}],"aspect ratio":[{name:"1:1",title:"1:1"},{name:"3:2",title:"4:3"},{name:"16:9",title:"16:9"},{name:"21:9",title:"21:9"},{name:"9:16",title:"9:16"}],cursors:[{name:"auto",title:"Auto"},{name:"default",title:"Default"},{name:"none",title:"None"},{name:"pointer",title:"Pointer"},{name:"crosshair",title:"Crosshair"},{name:"help",title:"Help"}]},va={"scrolling-animation-opacity":[{name:"start",label:"Start",type:"number",options:{min:0,max:1,step:.1}},{name:"middle",label:"Middle",type:"number",options:{min:0,max:1,step:.1}},{name:"end",label:"End",type:"number",options:{min:0,max:1,step:.1}},{type:"line"},{name:"trigger_start",label:"Start from",type:"number",options:{min:0,max:100}},{name:"trigger_end",label:"End from",type:"number",options:{min:0,max:100}}],"scrolling-animation-scale":[{name:"start",label:"Start",type:"number",options:{min:0,max:5,step:.1}},{name:"middle",label:"Middle",type:"number",options:{min:0,max:5,step:.1}},{name:"end",label:"End",type:"number",options:{min:0,max:5,step:.1}},{type:"line"},{name:"trigger_start",label:"Start from",type:"number",options:{min:0,max:100}},{name:"trigger_end",label:"End from",type:"number",options:{min:0,max:100}}],"scrolling-animation-px":[{name:"start",label:"Start",type:"number",options:{units:{px:{min:-500,max:500}}}},{name:"middle",label:"Middle",type:"number",options:{units:{px:{min:-500,max:500}}}},{name:"end",label:"End",type:"number",options:{units:{px:{min:-500,max:500}}}},{type:"line"},{name:"trigger_start",label:"Start from",type:"number",options:{min:0,max:100}},{name:"trigger_end",label:"End from",type:"number",options:{min:0,max:100}}],"scrolling-animation-blur":[{name:"start",label:"Start",type:"number",options:{units:{px:{min:0,max:50}}}},{name:"middle",label:"Middle",type:"number",options:{units:{px:{min:0,max:50}}}},{name:"end",label:"End",type:"number",options:{units:{px:{min:0,max:50}}}},{type:"line"},{name:"trigger_start",label:"Start from",type:"number",options:{min:0,max:100}},{name:"trigger_end",label:"End from",type:"number",options:{min:0,max:100}}],"scrolling-animation-deg":[{name:"start",label:"Start",type:"number",options:{units:{deg:{min:-360,max:360}}}},{name:"middle",label:"Middle",type:"number",options:{units:{deg:{min:-360,max:360}}}},{name:"end",label:"End",type:"number",options:{units:{deg:{min:-360,max:360}}}},{type:"line"},{name:"trigger_start",label:"Start from",type:"number",options:{min:0,max:100}},{name:"trigger_end",label:"End from",type:"number",options:{min:0,max:100}}]},ka={typography:[{type:"picker",label:"Family",name:"font-family",options:{oneline:!0,simple:!0,type:"font",reset:!0}},{name:"font-size",type:"number",label:"Size",options:{slider:!1,units:{px:{min:1,max:100,step:1},em:{min:.1,max:10,step:.1},rem:{min:.1,max:10,step:.1},vw:{min:.1,max:10,step:.1}}}},{name:"font-weight",type:"popup",label:"Weight",options:{type:"dropdown",values:"font-weight",size:"small",oneline:!0}},{name:"text-transform",type:"popup",label:"Transform",options:{type:"dropdown",values:"text-transform",size:"small",oneline:!0}},{name:"font-style",type:"popup",label:"Style",options:{type:"dropdown",values:"font-style",size:"small",oneline:!0}},{name:"text-decoration",type:"popup",label:"Decoration",options:{type:"dropdown",values:"text-decoration",size:"small",oneline:!0}},{name:"line-height",type:"number",label:"Line Height",options:{units:{px:{min:1,max:250,step:1},em:{min:.1,max:3,step:.1}}}},{name:"letter-spacing",type:"number",label:"Letter Spacing",options:{units:{px:{min:0,max:5,step:.1}},default:0}},{type:"line"},{type:"paragraph",content:"How to use Google Fonts that is GDPR compliant? Get our extension  [extension](#extensions/746)"}],"box-shadow":[{name:"color",type:"color",label:"Color",options:{global:{type:"colors"},oneline:!0}},{name:"horizontal",type:"number",label:"Horizontal",options:{units:{px:{min:-100,max:100}},default:0}},{name:"vertical",type:"number",label:"Vertical",options:{units:{px:{min:-100,max:100}},default:0}},{name:"blur",type:"number",label:"Blur",options:{units:{px:{min:0,max:100}}}},{name:"spread",type:"number",label:"Spread",options:{units:{px:{min:-100,max:100}},default:0}},{name:"position",type:"popup",label:"Position",options:{type:"dropdown",default:!1,values:{outline:"Outline",inset:"Inset"},size:"small",oneline:!0}}],"text-shadow":[{name:"color",type:"color",label:"Color",options:{global:{type:"colors"},oneline:!0}},{name:"blur",type:"number",label:"Blur",options:{units:{px:{min:0,max:100}}}},{name:"horizontal",type:"number",label:"Horizontal",options:{units:{px:{min:0,max:100}}}},{name:"vertical",type:"number",label:"Vertical",options:{units:{px:{min:-100,max:100}},default:0}}],filter:[{name:"blur",type:"number",label:"Blur",options:{units:{px:{min:0,max:10,step:.1}}}},{name:"brightness",type:"number",label:"Brightness",options:{units:{"%":{min:0,max:200}}}},{name:"contrast",type:"number",label:"Contrast",options:{units:{"%":{min:0,max:200}}}},{name:"saturate",type:"number",label:"Saturation",options:{units:{"%":{min:0,max:200}}}},{name:"hue",type:"number",label:"Hue",options:{units:{deg:{min:0,max:360,step:1}}}}],"transform-origin":[{name:"offsetX",type:"number",label:"Offset X",options:{units:{px:{min:-300,max:300,step:1},"%":{min:0,max:100,step:1}}}},{name:"offsetY",type:"number",label:"Offset Y",options:{units:{px:{min:-300,max:300,step:1},"%":{min:0,max:100,step:1}}}},{name:"offsetZ",type:"number",label:"Offset Z",options:{units:{px:{min:-300,max:300,step:1},"%":{min:0,max:100,step:1}}}}],"transform-advanced":[{name:"rotate",type:"number",label:"Rotate",options:{units:{deg:{min:-360,max:360,step:1}}}},{name:"translateX",type:"number",label:"Offset X",options:{units:{px:{min:-1e3,max:1e3,step:1}}}},{name:"translateY",type:"number",label:"Offset Y",options:{units:{px:{min:-1e3,max:1e3,step:1}}}},{name:"translateZ",type:"number",label:"Offset Z",options:{units:{px:{min:-1e3,max:1e3,step:1}}}},{name:"perspective",type:"number",label:"Perspective",options:{units:{px:{min:0,max:300,step:1}}}},{type:"line"},{type:"paragraph",content:"Scale"},{type:"toggle",label:"Keep Proportions",name:"keepPropertions",value:!0,options:{oneline:!0,values:{on:{label:"Yes",value:!0},off:{label:"No",value:!1}}}},{name:"scale",type:"number",label:"Scale",options:{min:0,max:2,step:.1,visible:{keep_data:!1,condition:e=>e.keepPropertions}}},{name:"scaleX",type:"number",label:"Scale X",options:{min:-2,max:2,step:.1,visible:{keep_data:!1,condition:e=>!e.keepPropertions}}},{name:"scaleY",type:"number",label:"Scale Y",options:{min:-2,max:2,step:.1,visible:{keep_data:!1,condition:e=>!e.keepPropertions}}},{type:"line"},{type:"paragraph",content:"Skew"},{name:"skewX",type:"number",label:"Skew X",options:{units:{deg:{min:-360,max:360,step:1}}}},{name:"skewY",type:"number",label:"Skew Y",options:{units:{deg:{min:-360,max:360,step:1}}}}],border:[{name:"border-style",label:"Border Style",type:"popup",options:{type:"dropdown",search:!1,values:"border-style",size:"small",oneline:!0}},{name:"border-width",label:"Width",type:"dimension",options:{simple:!0,units:{px:{min:0,max:30}},visible:{keep_data:!1,condition:e=>e["border-style"]&&e["border-style"]!=="none"}}},{name:"border-color",label:"Color",type:"color",options:{global:{type:"colors"},classicColor:!0,oneline:!0,visible:{keep_data:!1,condition:e=>e["border-style"]&&e["border-style"]!=="none"}}}],outline:[{name:"outline-style",label:"Outline Style",type:"popup",options:{type:"dropdown",search:!1,values:"outline-style",size:"small",oneline:!0}},{name:"outline-width",label:"Width",type:"number",options:{units:{px:{min:0,max:30}},visible:{keep_data:!1,condition:e=>e["outline-style"]&&e["outline-style"]!=="none"}}},{name:"outline-color",label:"Color",type:"color",options:{global:{type:"colors"},oneline:!0,visible:{keep_data:!1,condition:e=>e["outline-style"]&&e["outline-style"]!=="none"}}}],transitions:[{name:"duration",type:"number",label:"Duration",options:{units:{ms:{min:0,max:5e3,step:100}}}},{name:"delay",type:"number",label:"Delay",options:{units:{ms:{min:0,max:5e3,step:100}}}},{name:"timing",label:"Timing function",type:"popup",options:{type:"dropdown",default:!1,values:{ease:"Ease","ease-in":"Ease-in","ease-out":"Ease-out","ease-in-out":"Ease-in-out",linear:"Linear","step-start":"Step-start","step-end":"Step-end"}}}],"border-offset":[{name:"border-style",label:"Border Style",type:"popup",options:{type:"dropdown",search:!1,values:"border-style",size:"small",oneline:!0}},{name:"border-width",label:"Width",type:"dimension",options:{simple:!0,units:{px:{min:0,max:30}},visible:{keep_data:!1,condition:e=>e["border-style"]&&e["border-style"]!=="none"}}},{name:"border-color",label:"Color",type:"color",options:{global:{type:"colors"},oneline:!0,visible:{keep_data:!1,condition:e=>e["border-style"]&&e["border-style"]!=="none"}}},{name:"inset",label:"Offset",type:"number",options:{units:{px:{min:-20,max:20}},visible:{keep_data:!1,condition:e=>e["border-style"]&&e["border-style"]!=="none"}}}],...va},at={name:"DropdownField",components:{},props:{data:{type:[String,Number],default(e){return typeof e=="number"?0:"__delete__"}},cl:{type:String,default:""},field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{value:"__delete__",search:"",isWatch:!0,isEmit:!1}},computed:{options(){var e,t;return(t=(e=this.field)==null?void 0:e.options)!=null?t:{}},type(){var e;return(e=this.options)==null?void 0:e.type},optionsValue(){var e,t;return(t=(e=this==null?void 0:this.options)==null?void 0:e.values)!=null?t:{}},types(){var s;if(this.type){let n=(s=st[this.type])!=null?s:[];return n.findIndex(r=>r.name==="__delete__")===-1&&n.findIndex(r=>r.title==="Default")===-1&&this.options.default!==!1&&n.splice(0,0,{name:"__delete__",title:"Default"}),n}const e=(n,r)=>{if(r.constructor===Object){let o;for(o in r)n.push({name:o,title:r[o]})}};let t=[],i,a;if(this.optionsValue.constructor===Object)e(t,this.optionsValue);else if(this.optionsValue.constructor===Array)for(i in this.optionsValue)a=this.optionsValue[i],a.constructor===Object?t.push({...a}):t.push({name:a,title:a});return this.options.default!==!1&&t.findIndex(n=>n.name==="__delete__")===-1&&t.findIndex(n=>n.title==="Default")===-1&&t.splice(0,0,{name:"__delete__",title:"Default"}),t},hasDisabled(){return this.types.some(e=>e.disabled)},typesFiltered(){return this.types.filter(e=>e.disabled||e.name.indexOf(this.search)>-1)}},watch:{data:{immediate:!0,handler:function(){this.isWatch&&(this.isEmit=!1,this.setValue()),this.isWatch=!0}},value:{immediate:!0,handler:function(e){this.isEmit&&(this.isWatch=!1,this.$emit("update:data",e)),this.isEmit=!0}}},created(){this.setValue()},methods:{classItem(e,t,i){let a="";return i?a+="text-gray-400 font-medium":e?a+=(this.hasDisabled?"px-4 ":"")+"bg-gray-300 ":(t&&(a+="text-gray-700 "),a+=(this.hasDisabled?"px-4 ":"")+"cursor-pointer text-gray-600 bg-white hover:text-white hover:bg-primary-600 dark:hover:text-primary-600 dark:text-dark-color dark:bg-dark"),a},setValue(){var e,t,i,a;if(this.value=(i=this.data)!=null?i:(t=(e=this.field)==null?void 0:e.value)!=null?t:!1,this.value===!1){let s=(a=this.options)==null?void 0:a.default;s?(this.value=s,this.isEmit=!1):this.value=""}},textOfValue(e){return this.types.reduce((t,i)=>(i.name===e&&(t=i.title),t),"Default")}}};const _a=["value","disabled","innerHTML"],xa=d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 12L0 8H8L4 12ZM4 0L8 4H0L4 0Z",fill:"currentColor"},null,-1),wa=[xa];function Ca(e,t,i,a,s,n){var r,o,l,p,h,m,g,_,w,L;return u(),c("div",{class:"relative",style:T((r=i.field.options)!=null&&r.control_width?"width:"+((o=i.field.options)==null?void 0:o.control_width):"")},[I(d("select",{"onUpdate:modelValue":t[0]||(t[0]=S=>s.value=S),class:f(["w-full px-2 py-0 text-sm transition border rounded border-form-border dark:border-gray-600 text-form-input focus:outline-none focus:ring-offset-1 focus:border-gray-300 focus:ring-2 focus:ring-primary-400 dark:focus:ring-transparent dark:focus:ring-offset-transparent pr-7 select-hide-arrow cursor-pointer dark:bg-dark dark:text-dark-color",[((l=n.options)==null?void 0:l.oneline)||((p=n.options)==null?void 0:p.half)||((h=i.field.options)==null?void 0:h.control_width)?"h-8":"h-9",i.cl]]),style:T((m=n.options)!=null&&m.oneline?"min-width:"+((_=(g=n.options)==null?void 0:g.minWidth)!=null?_:"135px;"):"")},[(u(!0),c(k,null,z(n.types,S=>(u(),c("option",{key:S.name,value:S.name,disabled:S.disabled,innerHTML:S.title},null,8,_a))),128))],6),[[on,s.value]]),(u(),c("svg",{class:f(["absolute w-2 text-gray-500 dark:text-dark-color transform -translate-y-1/2 top-1/2",((w=n.options)==null?void 0:w.oneline)||((L=n.options)==null?void 0:L.half)?"h-2.5 right-2":"h-3 right-3"]),viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wa,2))],4)}const ve=C(at,[["render",Ca]]);at.__docgenInfo={displayName:"DropdownField",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"string|number"},defaultValue:{func:!0,value:`function(param) {
    return typeof param === 'number' ? 0 : '__delete__';
}`}},{name:"cl",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dropdown/Dropdown.vue"]};const Sa=Object.freeze(Object.defineProperty({__proto__:null,default:ve},Symbol.toStringTag,{value:"Module"})),ke={computed:{options(){var e;return(e=this.field)==null?void 0:e.options},format(){var t,i,a,s;let e=(i=(t=this.field)==null?void 0:t.options)==null?void 0:i.format;if(!e)switch((s=(a=this.field)==null?void 0:a.options)==null?void 0:s.type){case"datetime":e="MM DD, YYYY hh:mmZ";break;case"time":e="hh:mm";break;default:e="MM DD, YYYY";break}return e},min(){return this.options.min||""},max(){return this.options.max||""},range(){return[this.min,this.max]},minDate(){var t;let e=new Date((t=this.options)==null?void 0:t.min);return e instanceof Date&&!isNaN(e)?e:new Date("January 1, 2020")},maxDate(){var t;let e=new Date((t=this.options)==null?void 0:t.max);return e instanceof Date&&!isNaN(e)?e:new Date("January 1, 2050")}},methods:{getValueFormat(e){const t=(s,n)=>{if(n===void 0){if(s==="hour"&&e.minute!==void 0)return"12";if(s==="minute"&&e.hour!==void 0)return"0"}return this.num2digits(n)};let i={day:/DD/,month:/MM/,year:/YYYY/,hour:/hh/,minute:/mm/,gmt:/Z/},a=this.format;for(let s in i){let n=t(s,e[s]);n&&(s==="month"?a=a.replace(i[s],parseInt(n)):s==="gmt"?a=a.replace(i[s],` GMT${n}`):a=a.replace(i[s],n))}return a},num2digits(e){return typeof e!="number"?e:(e<10?"0":"")+e}}},ot={name:"ContentDate",components:{Dropdown:ve},mixins:[ke],props:{field:{type:Object,default(){return{}}},time:{type:Object,default(){return{}}},timeTemp:{type:Object,default(){return{}}},tab:{type:String,default:""}},computed:{icons(){return{faArrowLeft:gi}},timeComp(){return this.time},timeTempComp(){return this.timeTemp},names(){return $.names},now(){let e=new Date;return{date:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}},isPrev(){let{month:e,year:t}=this.timeTempComp;return!(e<=this.minDate.getMonth()+1&&t<=this.minDate.getFullYear())},isNext(){let{month:e,year:t}=this.timeTempComp;return!(e>=this.maxDate.getMonth()+1&&t>=this.maxDate.getFullYear())},months(){let e=this.$helpers.copy(this.names.month),{year:t}=this.timeTempComp,i=this.minDate.getMonth()+1,a=this.maxDate.getMonth()+1,s=this.minDate.getFullYear(),n=this.maxDate.getFullYear();return e.forEach(r=>{(t<=s&&r.name<i||t>=n&&r.name>a)&&(r.disabled=!0)}),e},years(){var a,s;let e=(a=this.minDate)==null?void 0:a.getFullYear(),t=(s=this.maxDate)==null?void 0:s.getFullYear(),i={};for(let n=e;n<=t;n++)i[n]=n;return i},days(){var o,l;let e=$.days((o=this.timeTemp.month)!=null?o:this.now.month,(l=this.timeTemp.year)!=null?l:this.now.year),{month:t,year:i}=this.timeTempComp,a=i<=this.minDate.getFullYear()&&t<=this.minDate.getMonth()+1,s=i>=this.maxDate.getFullYear()&&t>=this.maxDate.getMonth()+1,n=this.minDate.getDate(),r=this.maxDate.getDate();return e=e.map(p=>({day:p,disabled:a&&n>p||s&&r<p})),e}},methods:{setToday(){let e=new Date;this.time.day=e.getDate(),this.time.month=e.getMonth()+1,this.time.year=e.getFullYear()},state(e,t){var i;if(t<14){if(e>14)return-1}else if(t>21&&e<((i=this.days)==null?void 0:i[t-14]))return 1;return 0},updateObject(e,t){for(let i in t)e[i]=t[i]},changePreview(e){let{month:t,year:i}=this.timeTempComp;e==-1?this.updateObject(this.timeTempComp,{month:t===1?12:t-1,year:t===1?i-1:i}):e==1&&this.updateObject(this.timeTempComp,{month:t===12?1:t+1,year:t===12?i+1:i})},getTimeZone(){var e=new Date().getTimezoneOffset(),t=Math.abs(e);return(e<0?"+":"-")+("00"+Math.floor(t/60)).slice(-2)+("00"+t%60).slice(-2)},selectDay(e,t){var a,s,n;let i=this.state(e,t);this.timeComp.day=e,this.timeComp.hour=(a=this.timeComp.hour)!=null?a:12,this.timeComp.minute=(s=this.timeComp.minute)!=null?s:0,this.timeComp.gmt=(n=this.timeComp.gmt)!=null?n:this.getTimeZone(),i!==0&&this.changePreview(i,!0),this.updateObject(this.timeComp,this.timeTempComp)}}};const Da={class:"relative"},Ma={class:"flex items-center justify-between pb-2"},Ta={class:"flex items-center pl-3"},La={class:"flex items-center"},Ia={class:"flex flex-wrap px-1 text-sm text-gray-600 dark:text-dark-color"},za=["onClick","data-tooltip"],Va={class:"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 dark:text-dark-color"},Ha={class:"relative flex align-middle justify-center"};function Fa(e,t,i,a,s,n){const r=y("ecom-icon"),o=y("Dropdown");return u(),c("div",Da,[d("div",Ma,[d("button",{type:"button",class:f(["text-gray-600 transition border-0 focus:outline-0 focus:ring-0 hover:text-gray-700 dark:text-dark-color dark:hover:text-primary-600",{"opacity-50 pointer-events-none":!n.isPrev}]),onClick:t[0]||(t[0]=l=>n.changePreview(-1))},[b(r,{icon:n.icons.faArrowLeft,class:"w-5 h-5"},null,8,["icon"])],2),d("div",Ta,[b(o,{data:n.timeTempComp.month,"onUpdate:data":t[1]||(t[1]=l=>n.timeTempComp.month=l),dataModifiers:{number:!0},field:{options:{values:n.months,default:!1}},cl:"relative flex-1 max-h-full pr-6 focus:z-10 rounded-r-none"},null,8,["data","field"]),b(o,{data:n.timeTempComp.year,"onUpdate:data":t[2]||(t[2]=l=>n.timeTempComp.year=l),dataModifiers:{number:!0},field:{options:{values:n.years,default:!1}},cl:"relative flex-1 max-h-full pr-6 w-auto focus:z-10 -ml-0.5 rounded-l-none"},null,8,["data","field","cl"])]),d("button",{type:"button",class:f(["ml-4 text-gray-600 transition border-0 focus:outline-0 focus:ring-0 hover:text-gray-700 dark:text-dark-color dark:hover:text-primary-600",{"opacity-50 pointer-events-none":!n.isNext}]),onClick:t[3]||(t[3]=l=>n.changePreview(1))},[b(r,{icon:n.icons.faArrowLeft,class:"w-5 h-5 transform rotate-180"},null,8,["icon"])],2)]),d("ul",La,[(u(!0),c(k,null,z(n.names.day,l=>(u(),c("li",{key:l,class:"flex-1 py-2 text-xs text-center w-1/7 text-form-secondary"},D(l.slice(0,3)),1))),128))]),d("ul",Ia,[(u(!0),c(k,null,z(n.days,(l,p)=>(u(),c("li",{key:p,class:f(["mb-1 text-center cursor-pointer select-none w-1/7",[n.state(l.day,p)!==0?"opacity-0 pointer-events-none":l.disabled?"pointer-events-none opacity-50":""]]),onClick:h=>n.selectDay(l.day,p),"data-tooltip":n.now.date===l.day&&n.now.month===i.timeTemp.month&&n.now.year===i.timeTemp.year?"Today":null,"data-tooltip-location":"bottom"},[d("span",{class:f(["relative block transition rounded pb-100p ring-2 ring-transparent",[(Object.keys(i.time).length&&i.time.day===l.day&&i.time.month===i.timeTemp.month&&i.time.year===i.timeTemp.year||!Object.keys(i.time).length&&n.now.date===l.day&&n.now.month===i.timeTemp.month&&n.now.year===i.timeTemp.year)&&n.state(l.day,p)===0?"bg-primary-600 text-white":"text-form-input hover:ring-primary-600",n.now.date===l.day&&n.now.month===i.timeTemp.month&&n.now.year===i.timeTemp.year?"bg-primary-100 font-bold":""]])},[d("span",Va,D(l.day),1)],2)],10,za))),128))]),d("div",Ha,[d("button",{type:"button",class:"text-primary-500 font-light hover:font-bold hover:text-primary-700",onClick:t[4]||(t[4]=(...l)=>n.setToday&&n.setToday(...l))},"Today")])])}const rt=C(ot,[["render",Fa]]);ot.__docgenInfo={exportName:"default",displayName:"ContentDate",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"time",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"timeTemp",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"tab",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dateTime/Content/Date.vue","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dateTime/mixin.js"]};const ja=Object.freeze(Object.defineProperty({__proto__:null,default:rt},Symbol.toStringTag,{value:"Module"})),lt={name:"ContentTime",components:{Dropdown:ve},mixins:[ke],props:{data:{type:Object,default(){return{}}},field:{type:Object,default(){return{}}},type:{type:String,default:"datetime"}},emits:["update:time"],computed:{_data(){return this.data},time(){if(this.data.hour!==void 0){let{hour:e,minute:t}=this.data;const i=a=>a<10?"0"+a:a;return i(e)+":"+i(t)}return"12:00"},times(){let e=$.names.times,{month:t,year:i,day:a}=this.data,s=i<=this.minDate.getFullYear()&&t<=this.minDate.getMonth()+1&&a<=this.minDate.getDate(),n=i>=this.maxDate.getFullYear()&&t>=this.maxDate.getMonth()+1&&a>=this.maxDate.getDate(),r=this.minDate.getHours(),o=this.maxDate.getHours(),l=this.maxDate.getMinutes(),p=this.maxDate.getMinutes();return e=e.map(h=>{let m=parseInt(h.split(":")[0]),g=parseInt(h.split(":")[1]);return{name:h,title:h,disabled:s&&(r>m||r===m&&l>g)||n&&(o<m||o===m&&p<g)}}),e},gmts(){return $.names.gmts}},methods:{now(){let e=new Date;return{date:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}},updateTime(e){var a,s,n;if(!e)return;let i=/(\d{1,2}):(\d{1,2})/g.exec(e);if(i){let[,r,o]=i;this._data.hour=parseInt(r),this._data.minute=parseInt(o),this._data.day=(a=this._data.day)!=null?a:this.now().date,this._data.month=(s=this._data.month)!=null?s:this.now().month,this._data.year=(n=this._data.year)!=null?n:this.now().year}}}},Oa={class:"flex items-center -mx-2"},Ea={class:"flex-1 px-2"},Pa=d("p",{class:"mb-2 text-sm text-form-input dark:text-dark-color"}," Time ",-1),Aa={class:"flex-1"},Na={class:"flex-1 px-2"},Ua=d("p",{class:"mb-2 text-sm text-form-input dark:text-dark-color"}," GMT ",-1);function Ba(e,t,i,a,s,n){var o;const r=y("Dropdown");return u(),c("div",{class:f({"pt-4 mt-4 border-t border-form-border":i.type!=="time"})},[d("div",Oa,[d("div",Ea,[Pa,d("div",Aa,[b(r,{cl:"w-full",data:n.time,field:{options:{values:n.times,default:!1}},"onUpdate:data":n.updateTime},null,8,["data","field","onUpdate:data"])])]),d("div",Na,[Ua,b(r,{data:(o=n._data.gmt)!=null?o:"+07.00",field:{options:{values:n.gmts,default:!1}},"onUpdate:data":t[0]||(t[0]=l=>n._data.gmt=l)},null,8,["data","field"])])])],2)}const dt=C(lt,[["render",Ba]]);lt.__docgenInfo={exportName:"default",displayName:"ContentTime",description:"",tags:{},props:[{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"'datetime'"}}],events:[{name:"update:time"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dateTime/Content/Time.vue","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dateTime/mixin.js"]};const Ra=Object.freeze(Object.defineProperty({__proto__:null,default:dt},Symbol.toStringTag,{value:"Module"})),ut={name:"DateTimePicker",components:{ContentDate:rt,ContentTime:dt},props:{field:{type:Object,default(){return{}}},data:{type:Object,default(){return{}}}},data(){return{timeTemp:{},selected:{tab:"date",time:"hour"}}},computed:{time(){return this.data},options(){var e;return(e=this.field)==null?void 0:e.options},type(){var e,t;return(t=(e=this.options)==null?void 0:e.type)!=null?t:"date"},min(){return this.options.min||""},max(){return this.options.max||""},names(){return $.names},now(){let e=new Date;return{day:this.names.day[e.getDay()],date:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}},nameDay(){let e=this.now,{day:t=e.date,month:i=e.month,year:a=e.year}=this.time,s=$.startIndex(t,i,a);return this.names.day[s]}},watch:{data:{deep:!0,immediate:!0,handler:function(e){let{month:t=this.now.month,year:i=this.now.year}=e;this.timeTemp={month:t,year:i}}}},created(){this.type==="time"&&(this.selected.tab="time")},methods:{ordinalSuffix(e){let t=["th","st","nd","rd"],i=e%100;return e+(t[(i-20)%10]||t[i]||t[0])},num2Didits(e){return(e<10?"0":"")+e}}},Wa=d("svg",{viewBox:"0 0 213.3 213.3",class:"absolute top-0 w-4 h-4 mr-1 -mt-3 transform rotate-180 left-4 fill-current"},[d("polygon",{class:"shadow-xxl",points:"0,53.333 106.667,160 213.333,53.333"})],-1);function Ga(e,t,i,a,s,n){const r=y("ContentDate"),o=y("ContentTime");return u(),c("div",{class:f(["relative p-4 bg-white dark:bg-dark dark:text-dark-color border border-gray-300 rounded shadow-popup",(n.type!=="time","text-primary-600")])},[Wa,I(b(r,{time:n.time,"time-temp":s.timeTemp,tab:s.selected.tab,field:i.field},null,8,["time","time-temp","tab","field"]),[[X,n.type!=="time"]]),I(b(o,{data:n.time,"onUpdate:data":t[0]||(t[0]=l=>n.time=l),type:n.options.type,field:i.field},null,8,["data","type","field"]),[[X,n.type!=="date"]])],2)}const ct=C(ut,[["render",Ga]]);ut.__docgenInfo={displayName:"DateTimePicker",exportName:"default",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dateTime/Picker.vue"]};const Za=Object.freeze(Object.defineProperty({__proto__:null,default:ct},Symbol.toStringTag,{value:"Module"})),pt={name:"DateField",components:{DatePicker:ct},mixins:[ee,ke],props:{field:{type:Object,default(){return{}}},data:[Object,String]},emits:["update:data"],data(){return{isWatch:!0,isEmit:!1,value:null}},computed:{months(){return $.names.month},valueFormat(){return this.validDate(),this.getValueFormat(this.value)}},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.isWatch&&(this.isEmit=!1,this.value=this.exportData(e)),this.isWatch=!0}},valueFormat:{immediate:!0,deep:!0,handler:function(e){this.isEmit&&(this.isWatch=!1,this.$emit("update:data",e)),this.isEmit=!0}},range:{deep:!0,handler(){this.validDate()}}},methods:{getTimeZone(){var e=new Date().getTimezoneOffset(),t=Math.abs(e);return(e<0?"+":"-")+("00"+Math.floor(t/60)).slice(-2)+("00"+t%60).slice(-2)},exportData(e){let t={},i=new Date(e);if(i!="Invalid Date"){let a={year:"getFullYear",month:"getMonth",day:"getDate",hour:"getHours",minute:"getMinutes",second:"getSeconds"};for(let s in a)t[s]=i[a[s]](),s==="month"&&t[s]++;t.gmt=this.getTimeZone()}return t},validDate(){let e=new Date(this.getValueFormat(this.value));e instanceof Date&&!isNaN(e)&&(e<this.minDate?(this.isEmit=!0,this.value=this.exportData(this.minDate)):e>this.maxDate&&(this.isEmit=!0,this.value=this.exportData(this.maxDate)))}}};const Ya=d("svg",{class:"w-4 h-4 mr-2 text-gray-600 dark:text-dark-color",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{d:"M1.23077 14.8571H4V12.2857H1.23077V14.8571ZM4.61538 14.8571H7.69231V12.2857H4.61538V14.8571ZM1.23077 11.7143H4V8.85714H1.23077V11.7143ZM4.61538 11.7143H7.69231V8.85714H4.61538V11.7143ZM1.23077 8.28572H4V5.71429H1.23077V8.28572ZM8.30769 14.8571H11.3846V12.2857H8.30769V14.8571ZM4.61538 8.28572H7.69231V5.71429H4.61538V8.28572ZM12 14.8571H14.7692V12.2857H12V14.8571ZM8.30769 11.7143H11.3846V8.85714H8.30769V11.7143ZM4.92308 4V1.42857C4.92308 1.35119 4.89103 1.28572 4.82692 1.23214C4.76923 1.17262 4.69872 1.14286 4.61538 1.14286H4C3.91667 1.14286 3.84295 1.17262 3.77885 1.23214C3.72115 1.28572 3.69231 1.35119 3.69231 1.42857V4C3.69231 4.07738 3.72115 4.14583 3.77885 4.20536C3.84295 4.25893 3.91667 4.28572 4 4.28572H4.61538C4.69872 4.28572 4.76923 4.25893 4.82692 4.20536C4.89103 4.14583 4.92308 4.07738 4.92308 4ZM12 11.7143H14.7692V8.85714H12V11.7143ZM8.30769 8.28572H11.3846V5.71429H8.30769V8.28572ZM12 8.28572H14.7692V5.71429H12V8.28572ZM12.3077 4V1.42857C12.3077 1.35119 12.2756 1.28572 12.2115 1.23214C12.1538 1.17262 12.0833 1.14286 12 1.14286H11.3846C11.3013 1.14286 11.2276 1.17262 11.1635 1.23214C11.1058 1.28572 11.0769 1.35119 11.0769 1.42857V4C11.0769 4.07738 11.1058 4.14583 11.1635 4.20536C11.2276 4.25893 11.3013 4.28572 11.3846 4.28572H12C12.0833 4.28572 12.1538 4.25893 12.2115 4.20536C12.2756 4.14583 12.3077 4.07738 12.3077 4ZM16 3.42857V14.8571C16 15.1667 15.8782 15.4345 15.6346 15.6607C15.391 15.8869 15.1026 16 14.7692 16H1.23077C0.897436 16 0.608974 15.8869 0.365385 15.6607C0.121795 15.4345 0 15.1667 0 14.8571V3.42857C0 3.11905 0.121795 2.85119 0.365385 2.625C0.608974 2.39881 0.897436 2.28572 1.23077 2.28572H2.46154V1.42857C2.46154 1.03571 2.61218 0.699405 2.91346 0.419643C3.21474 0.139881 3.57692 0 4 0H4.61538C5.03846 0 5.40064 0.139881 5.70192 0.419643C6.0032 0.699405 6.15385 1.03571 6.15385 1.42857V2.28572H9.84615V1.42857C9.84615 1.03571 9.99679 0.699405 10.2981 0.419643C10.5994 0.139881 10.9615 0 11.3846 0H12C12.4231 0 12.7853 0.139881 13.0865 0.419643C13.3878 0.699405 13.5385 1.03571 13.5385 1.42857V2.28572H14.7692C15.1026 2.28572 15.391 2.39881 15.6346 2.625C15.8782 2.85119 16 3.11905 16 3.42857Z",fill:"#4B5563"}),d("path",{d:"M1.23077 14.8571H4V12.2857H1.23077V14.8571ZM4.61538 14.8571H7.69231V12.2857H4.61538V14.8571ZM1.23077 11.7143H4V8.85714H1.23077V11.7143ZM4.61538 11.7143H7.69231V8.85714H4.61538V11.7143ZM1.23077 8.28572H4V5.71429H1.23077V8.28572ZM8.30769 14.8571H11.3846V12.2857H8.30769V14.8571ZM4.61538 8.28572H7.69231V5.71429H4.61538V8.28572ZM12 14.8571H14.7692V12.2857H12V14.8571ZM8.30769 11.7143H11.3846V8.85714H8.30769V11.7143ZM4.92308 4V1.42857C4.92308 1.35119 4.89103 1.28572 4.82692 1.23214C4.76923 1.17262 4.69872 1.14286 4.61538 1.14286H4C3.91667 1.14286 3.84295 1.17262 3.77885 1.23214C3.72115 1.28572 3.69231 1.35119 3.69231 1.42857V4C3.69231 4.07738 3.72115 4.14583 3.77885 4.20536C3.84295 4.25893 3.91667 4.28572 4 4.28572H4.61538C4.69872 4.28572 4.76923 4.25893 4.82692 4.20536C4.89103 4.14583 4.92308 4.07738 4.92308 4ZM12 11.7143H14.7692V8.85714H12V11.7143ZM8.30769 8.28572H11.3846V5.71429H8.30769V8.28572ZM12 8.28572H14.7692V5.71429H12V8.28572ZM12.3077 4V1.42857C12.3077 1.35119 12.2756 1.28572 12.2115 1.23214C12.1538 1.17262 12.0833 1.14286 12 1.14286H11.3846C11.3013 1.14286 11.2276 1.17262 11.1635 1.23214C11.1058 1.28572 11.0769 1.35119 11.0769 1.42857V4C11.0769 4.07738 11.1058 4.14583 11.1635 4.20536C11.2276 4.25893 11.3013 4.28572 11.3846 4.28572H12C12.0833 4.28572 12.1538 4.25893 12.2115 4.20536C12.2756 4.14583 12.3077 4.07738 12.3077 4ZM16 3.42857V14.8571C16 15.1667 15.8782 15.4345 15.6346 15.6607C15.391 15.8869 15.1026 16 14.7692 16H1.23077C0.897436 16 0.608974 15.8869 0.365385 15.6607C0.121795 15.4345 0 15.1667 0 14.8571V3.42857C0 3.11905 0.121795 2.85119 0.365385 2.625C0.608974 2.39881 0.897436 2.28572 1.23077 2.28572H2.46154V1.42857C2.46154 1.03571 2.61218 0.699405 2.91346 0.419643C3.21474 0.139881 3.57692 0 4 0H4.61538C5.03846 0 5.40064 0.139881 5.70192 0.419643C6.0032 0.699405 6.15385 1.03571 6.15385 1.42857V2.28572H9.84615V1.42857C9.84615 1.03571 9.99679 0.699405 10.2981 0.419643C10.5994 0.139881 10.9615 0 11.3846 0H12C12.4231 0 12.7853 0.139881 13.0865 0.419643C13.3878 0.699405 13.5385 1.03571 13.5385 1.42857V2.28572H14.7692C15.1026 2.28572 15.391 2.39881 15.6346 2.625C15.8782 2.85119 16 3.11905 16 3.42857Z",fill:"#4B5563"})],-1),qa={class:"absolute z-10 w-full mt-2 transition duration-300"};function Ja(e,t,i,a,s,n){var o;const r=y("DatePicker");return u(),c("div",{class:f(["relative",e.id])},[d("button",{type:"button",class:f(["flex items-center w-full px-4 text-sm text-left transition bg-white dark:bg-dark dark:text-dark-color border rounded text-form-input dark:focus:ring-offset-transparent focus:ring-primary-500 border-form-border",(o=i.field.options)!=null&&o.oneline?"h-7-5":"h-9"]),onClick:t[0]||(t[0]=(...l)=>e.open&&e.open(...l))},[Ya,B(" "+D(n.valueFormat),1)],2),b(K,{name:"slide-up-tiny"},{default:O(()=>[I(d("div",qa,[b(r,{field:i.field,data:s.value},null,8,["field","data"])],512),[[X,e.isopen]])]),_:1})],2)}const Xa=C(pt,[["render",Ja]]);pt.__docgenInfo={exportName:"default",displayName:"DateField",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"data",type:{name:"object|string"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/mixins/popmenu.ts","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dateTime/DateTime.vue","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dateTime/mixin.js"]};const Ka=Object.freeze(Object.defineProperty({__proto__:null,default:Xa},Symbol.toStringTag,{value:"Module"})),$a={methods:{dragDir(e,t){var a,s,n;let i={padding:{top:{c:"s-resize",d:1},right:{c:"w-resize",d:0},bottom:{c:"n-resize",d:0},left:{c:"e-resize",d:1}},margin:{top:{c:"n-resize",d:0},right:{c:"e-resize",d:1},bottom:{c:"s-resize",d:1},left:{c:"w-resize",d:0}},"border-radius":{top:{c:"n-resize",d:0},right:{c:"n-resize",d:0},bottom:{c:"s-resize",d:1},left:{c:"s-resize",d:1}}};return(n=(s=(a=i[e])==null?void 0:a[t])!=null?s:i.margin[t])!=null?n:{c:"s-resize",d:1}}}},mt={name:"Box",mixins:[$a],props:{type:{type:String,default:""},current:{type:Object,default(){return{}}},unit:{type:String,default:""},size:{type:String,default:"large"},data:{type:Object,default(){return{}}},unitConfigs:Object,linked:Boolean,field:{type:Object,default(){return{}}}},emits:["update:data","update:current","click-input","close-input"],data(){return{el:null,isDrag:!1,p:0,s:0,oriValue:0,values:{},isWatch:!0,isEmit:!1,itv:null}},computed:{names(){return["top","left","bottom","right"]},_current:{get(){return this.current},set(e){this.$emit("update:current",e)}},options(){var e;return(e=this.field.options)!=null?e:{}},isRadius(){return this.options.type==="radius"},isSimple(){return this.isRadius||this.options.simple},dragDirection(){var e;return((e=this._current)==null?void 0:e.name)==="top"||this._current.name==="bottom"||this.isRadius?"clientY":"clientX"},fieldName(){var e,t,i;return(i=Object.keys((t=(e=this.field.css)==null?void 0:e.properties)!=null?t:{})[0])!=null?i:this.field.name}},watch:{data:{deep:!0,immediate:!0,handler(e){var t;this.isWatch&&(this.isEmit=!1,this.values=(t=this.$helpers.copy(e))!=null?t:{}),this.isWatch=!0}},values:{deep:!0,handler(e){this.isEmit&&(this.isWatch=!1,this.$emit("update:data",this.$helpers.copy(e))),this.isEmit=!0}},linked(){this.toggleLink()}},created(){this.names.forEach(e=>{let t=this;t.$watch("values."+e,function(i){clearTimeout(t.itv),t.itv=setTimeout(function(){t.linked&&t.setValueLinked(i,!0),t.$emit("update:data",t.$helpers.copy(t.values))},10)})})},methods:{classDir(e){if(this._current.name===e&&this._current.type===this.type)return"bg-coolGray-50 dark:bg-gray-700";switch(e){case"top":case"bottom":return"bg-coolGray-50 dark:bg-gray-500 dark:text-dark-color hover:bg-coolGray-50";default:return"bg-white dark:bg-gray-600 dark:text-dark-color hover:bg-coolGray-50"}},classDirSpacing(e){if(this._current.name===e&&this._current.type===this.type)return"bg-coolGray-50 dark:bg-gray-700";switch(e){case"top":case"bottom":return"bg-coolGray-50 dark:bg-gray-500 hover:bg-coolGray-50";default:return"bg-white dark:bg-gray-600 dark:text-dark-color hover:bg-coolGray-50"}},styleBgInput(e){switch(e){case"top":return this.isRadius?{"clip-path":"polygon(0 0, 50% 0, 50% 50%, 0 50%)",cursor:"n-resize"}:{"clip-path":"polygon(0 0, 100% 0, 50% 50%)",cursor:this.dragDir(this.type||this.fieldName,"top").c};case"left":return this.isRadius?{"clip-path":"polygon(0 50%, 50% 50%, 50% 100%, 0 100%)",cursor:"s-resize"}:{"clip-path":"polygon(0 0, 50% 50%, 0% 100%)",cursor:this.dragDir(this.type||this.fieldName,"left").c};case"bottom":return this.isRadius?{"clip-path":"polygon(50% 50%, 100% 50%, 100% 100%, 50% 100%)",cursor:"s-resize"}:{"clip-path":"polygon(0 100%, 50% 50%, 100% 100%)",cursor:this.dragDir(this.type||this.fieldName,"bottom").c};case"right":return this.isRadius?{"clip-path":"polygon(50% 0, 100% 0, 100% 50%, 50% 50%)",cursor:"n-resize"}:{"clip-path":"polygon(100% 0, 50% 50%, 100% 100%)",cursor:this.dragDir(this.type||this.fieldName,"right").c}}},classInput(e){var t,i;switch(e){case"top":return this.isRadius?"top-1/4 left-12 -translate-x-1/2 -translate-y-1/2":(this.type==="margin"?"top-1.5":"top-1")+" left-1/2 -translate-x-1/2";case"left":return this.isRadius?"top-3/4 left-12 -translate-x-1/2 -translate-y-1/2":((t=this.options)!=null&&t.simple?"left-12":"left-7")+" top-1/2 -translate-y-1/2 -translate-x-1/2";case"bottom":return this.isRadius?"top-3/4 right-12 translate-x-1/2 -translate-y-1/2":(this.type==="margin"?"bottom-1.5":"bottom-1")+" left-1/2 -translate-x-1/2";case"right":return this.isRadius?"top-1/4 right-12 translate-x-1/2 -translate-y-1/2":((i=this.options)!=null&&i.simple?"right-12":"right-7")+" top-1/2 -translate-y-1/2 translate-x-1/2"}},mouseDown(e,t){this.isDrag=!1,this.el=e.target,this._current={name:t,type:this.type},this.oriValue=this.values[t]!==void 0&&this.values[t]!==null&&this.values[t]!=="auto"?this.values[t]:0,this.p=e[t==="top"||t==="bottom"||this.isRadius?"clientY":"clientX"],document.onmouseup=this.onMouseUp,document.onmousemove=this.onMouseMove},onMouseMove(e){let t=e[this.dragDirection];if(this.s+=Math.abs(t-this.p),this.s>3){this.isDrag=!0,this.el=null;let i=this.dragDir(this._current.type||this.fieldName,this._current.name).d?(t-this.p)*this.unitConfigs.step:(this.p-t)*this.unitConfigs.step;i=Math.round(i*.8),this.values[this._current.name]=this.oriValue+Math.round(i*100)/100,this.values[this._current.name]=Math.max(this.unitConfigs.min,Math.min(this.unitConfigs.max,this.values[this._current.name]))}},onMouseUp(){!this.isDrag&&this.el&&this.el.classList.contains("input-number")?this.$emit("click-input",{value:this.values[this._current.name],el:this.el}):(this._current={},this.$emit("close-input")),this.s=0,this.el=null,document.onmouseup=null,document.onmousemove=null},setValueLinked(e,t=!1){let i;this.names.forEach(a=>{i=this.values[a],(t||!t&&i===void 0)&&(this.values[a]=e)})},toggleLink(){if(this.linked){const e=(()=>{let t;for(let i in this.names){let a=this.values[this.names[i]];if(a!=null&&a!==""){t=a;break}}return t})();this.isEmit=!0,this.setValueLinked(e,!0)}}}},Qa={key:0,class:"absolute inset-1 border border-primary-600 -m-1 rounded"},eo={key:1,class:"absolute border border-primary-600 transform top-1/2 -translate-y-1/2 w-3 h-3 z-10 bg-white dark:bg-dark dark:text-dark-color -left-1.5"},to={key:2,class:"absolute border border-primary-600 transform top-1/2 -translate-y-1/2 w-3 h-3 z-10 bg-white dark:bg-dark dark:text-dark-color -right-1.5"},io={key:3,class:"absolute border border-primary-600 transform -top-1.5 -translate-x-1/2 w-3 h-3 z-10 bg-white dark:bg-dark dark:text-dark-color left-1/2"},no={key:4,class:"absolute border border-primary-600 transform -bottom-1.5 -translate-x-1/2 w-3 h-3 z-10 bg-white dark:bg-dark dark:text-dark-color left-1/2"},so=["innerHTML"],ao={key:6},oo=["onMousedown"],ro=["innerHTML"],lo={key:7},uo=["onMousedown"],co=["innerHTML"];function po(e,t,i,a,s,n){var r,o,l,p,h,m;return u(),c("div",{class:f(["absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-white dark:bg-dark dark:text-dark-color diagonal rounded h-45 text-gray-100 select-none",i.size==="large"?"h-40 w-full":"h-22"])},[i.size==="small"&&!((r=n.options)!=null&&r.simple)&&n.options.type!=="radius"?(u(),c("div",Qa)):v("",!0),i.size==="small"&&!((o=n.options)!=null&&o.simple)&&n.options.type!=="radius"?(u(),c("div",eo)):v("",!0),i.size==="small"&&!((l=n.options)!=null&&l.simple)&&n.options.type!=="radius"?(u(),c("div",to)):v("",!0),i.size==="small"&&!((p=n.options)!=null&&p.simple)&&n.options.type!=="radius"?(u(),c("div",io)):v("",!0),i.size==="small"&&!((h=n.options)!=null&&h.simple)&&n.options.type!=="radius"?(u(),c("div",no)):v("",!0),i.type?(u(),c("span",{key:5,class:f(["absolute text-xxs text-gray-500 dark:text-dark-color z-2 uppercase",i.type=="padding"?"bottom-1 right-3":"top-3 left-4"]),innerHTML:i.type},null,10,so)):v("",!0),!((m=n.options)!=null&&m.simple)&&n.options.type!=="radius"?(u(),c("div",ao,[(u(!0),c(k,null,z(n.names,g=>{var _;return u(),c("div",{key:g,class:f(["absolute rounded border inset-0 transition z-1",[i.size==="small"?"border-primary-600":"border-dashed border-gray-400",n.classDirSpacing(g)]]),style:T(n.styleBgInput(g)),onMousedown:ie(w=>n.mouseDown(w,g),["stop"])},[d("span",{"data-tooltip":"Click to enter number","data-tooltip-location":"top",class:f(["input-number absolute transform dark:text-white z-5 p-2 cursor-pointer text-center focus:outline-none bg-transparent focus:ring-0 text-xs leading-none text-form-secondary",[n.classInput(g),(_=n.options)!=null&&_.simple?"w-8":""]]),innerHTML:s.values[g]==null||s.values[g]=="none"?"-":s.values[g]},null,10,ro)],46,oo)}),128))])):(u(),c("div",lo,[(u(!0),c(k,null,z(n.names,g=>{var _;return u(),c("div",{key:g,class:f(["absolute rounded border border-gray-300 dark:border-gray-600 inset-0 transition z-1",n.classDir(g)]),style:T(n.styleBgInput(g)),onMousedown:ie(w=>n.mouseDown(w,g),["stop"])},[d("span",{"data-tooltip":"Click to enter number","data-tooltip-location":"top",class:f(["input-number absolute transform dark:text-white z-5 p-2 cursor-pointer text-center focus:outline-none bg-transparent focus:ring-0 text-xs leading-none text-form-secondary",[n.classInput(g),(_=n.options)!=null&&_.simple?"w-8":""]]),innerHTML:s.values[g]==null||s.values[g]=="none"?"-":s.values[g]},null,10,co)],46,uo)}),128))]))],2)}const ht=C(mt,[["render",po]]);mt.__docgenInfo={exportName:"default",displayName:"Box",description:"",tags:{},props:[{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"current",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"unit",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"size",type:{name:"string"},defaultValue:{func:!1,value:"'large'"}},{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"unitConfigs",type:{name:"object"}},{name:"linked",type:{name:"boolean"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}},{name:"update:current",type:{names:["undefined"]}},{name:"click-input",type:{names:["undefined"]}},{name:"close-input"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dimension/Box.vue","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dimension/mixin.js"]};const mo=Object.freeze(Object.defineProperty({__proto__:null,default:ht},Symbol.toStringTag,{value:"Module"})),ft={name:"Number",props:{field:{type:Object,default(){return{}}},data:[String,Number]},emits:["update:data"],data(){var e,t,i,a,s,n,r,o,l,p,h,m,g;return{value:(r=(n=(t=this.data)!=null?t:(e=this.field)==null?void 0:e.value)!=null?n:(s=(a=(i=this.field.options)==null?void 0:i.units)==null?void 0:a[this.unit])==null?void 0:s.min)!=null?r:"none",units:(l=(o=this.field.options)==null?void 0:o.units)!=null?l:{},focus:!!((p=this.field)!=null&&p.focus),useSlide:(m=(h=this.field.options)==null?void 0:h.slider)!=null?m:!0,status:!0,emit:!1,unit:"",showinput:!!((g=this.field)!=null&&g.focus),time:null}},computed:{step(){var e,t,i,a;return Object.keys(this.units).length>0?(t=(e=this.units[this.unit])==null?void 0:e.step)!=null?t:1:(a=(i=this.field.options)==null?void 0:i.step)!=null?a:1},dt(){return this.value==""?"none":this.value=="auto"||this.value=="none"?this.value:this.unit?this.max!==""?this.value>this.max?this.max+this.unit:this.value+this.unit:this.value+this.unit:parseFloat(this.value)},defaultNum(){var e;return(e=this.field.options)==null?void 0:e.default},min(){var e,t,i,a;return Object.keys(this.units).length>0?(t=(e=this.units[this.unit])==null?void 0:e.min)!=null?t:this.useSlide?1:"":(a=(i=this.field.options)==null?void 0:i.min)!=null?a:this.useSlide?1:""},max(){var e,t,i,a;return Object.keys(this.units).length>0?(t=(e=this.units[this.unit])==null?void 0:e.max)!=null?t:this.useSlide?100:"":(a=(i=this.field.options)==null?void 0:i.max)!=null?a:this.useSlide?100:""},percentProgressbar(){let e=Math.abs(this.value-this.min);return{width:this.value==""||this.value=="auto"||this.value=="none"?"0%":Math.round(e/(this.max-this.min)*100)+"%"}}},watch:{unit:function(){this.value!=="auto"&&(this.min&&this.value<this.min&&(this.value=this.min),this.max&&this.value>this.max&&(this.value=this.max))},units:{immediate:!0,handler:function(e){e&&(this.unit=Object.keys(e)[0])}},data:{immediate:!0,handler:function(e){var i,a,s;if(this.status)if(this.emit=!1,typeof e<"u")if(e.length>0&&typeof e=="string"&&e!=="auto"){let n=(i=e.match(/[.-\d]/g))!=null?i:[];this.value=(a=parseFloat(n.join("")))!=null?a:0;for(var t=0;t<n.length;t++)e=e.replace(n[t],"");let r=e.replace(/\s/g,"");this.units[r]?this.unit=r:this.unit=Object.keys(this.units)[0]}else e!=="auto"&&(this.unit=""),this.value=e;else this.value=(s=this.defaultNum)!=null?s:"none";this.status=!0}},dt:{immediate:!0,handler:function(e){this.emit&&(this.status=!1,this.$emit("update:data",e)),this.emit=!0}}},mounted(){this.$refs.input_slider&&this.$refs.input_slider.select()},methods:{showInput(){this.showinput=!0,this.focus=!0,this.$nextTick(function(){this.$refs.input_slider.select()}.bind(this))},debounceInput(e){let t=e.target.value.trim();const i=()=>{this.min!==""&&this.max!==""&&t.length>0?this.value=this.minMax(t,this.min,this.max):this.value=t};let a=parseFloat(t);!isNaN(a)&&(a<this.min||a>this.max)?this.time=setTimeout(()=>{var s;i(),(s=this.$refs)!=null&&s.input_default&&(this.$refs.input_default.value=this.value)},500):(this.time&&clearTimeout(this.time),i())},debounceInputSlider(e){let t=e.target.value.trim();(()=>{this.min!==""&&this.max!==""&&t.length>0?this.value=this.minMax(t,this.min,this.max):this.value=t})(),this.showinput=!1},minMax(e,t,i){return parseFloat(e)<t||isNaN(parseFloat(e))?t:parseFloat(e)>i?i:e},chooseType(e){this.unit=e}}};const ho={class:"relative"},fo={class:"absolute right-0 flex items-center justify-center mb-1 heading-number bottom-full"},go={key:0,class:"flex justify-end w-full"},bo=["onClick"],yo={class:"flex items-center w-full slider-number-wrp"},vo={class:"relative flex flex-1"},ko=["value","min","max","step","placeholder"],_o=["value","min","max","step","placeholder"],xo=["value","min","max","step","placeholder"];function wo(e,t,i,a,s,n){var o,l,p,h,m,g,_,w,L,S,V,E,F,A,R;const r=ne("focus");return u(),c("div",ho,[d("div",fo,[d("div",null,[Object.keys(s.units).length>1?(u(),c("ul",go,[(u(!0),c(k,null,z(Object.keys(s.units),(H,Z)=>(u(),c("li",{key:Z},[d("button",{type:"button",class:f(["border-0 focus:outline-none focus:ring-0 px-1 min-w-5 py-0.5 text-tiny uppercase",s.unit==H?"text-form-input dark:text-primary-600 underline":"text-form-secondary dark:text-dark-color dark:hover:text-primary-600 hover:text-form-secondary-hover"]),onClick:pe=>n.chooseType(H)},D(H),11,bo)]))),128))])):v("",!0)])]),d("div",yo,[s.useSlide?(u(),c(k,{key:0},[d("div",vo,[d("input",{value:s.value&&s.value!="none"?s.value=="auto"?n.min:(o=s.value)!=null?o:n.defaultNum:n.min,type:"range",min:n.min,max:n.max,step:n.step,class:"relative w-full h-5 ecom-slider-number focus:outline-none input-slider text-primary-600 dark:bg-gray-700",style:{cursor:"grab"},placeholder:(l=i.field)==null?void 0:l.placeholder,onInput:t[0]||(t[0]=H=>s.value=H.target.value)},null,40,ko),d("div",{class:"absolute h-0.5 transform rounded pointer-events-none number-slide-per top-2/4 -translate-y-2/4 bg-primary-600",style:T([n.percentProgressbar,{"z-index":"0"}])},null,4)]),I(d("span",{class:"ml-2 px-2 text-sm text-right cursor-pointer text-form-secondary dark:text-dark-color dark:hover:text-primary-600 focus:outline-none uppfirst sitooltip relative","data-tooltip":"Click to edit",onClick:t[1]||(t[1]=(...H)=>n.showInput&&n.showInput(...H))},D((h=i.data)!=null?h:(p=n.dt)!=null?p:"none"),513),[[X,!s.showinput]]),s.showinput?I((u(),c("input",{key:0,class:"relative min-w-10 pl-2 pr-1 ml-2 text-center transition border-gray-300 rounded shadow-sm h-7-5 sm:text-sm focus:ring-inset focus:ring-1 focus:ring-primary-400 dark:focus:ring-transparent focus:border-primary-400 dark:bg-dark dark:text-dark-color",type:"number",value:i.data!==void 0?s.value:"",min:n.min,max:n.max,step:n.step,placeholder:(m=i.field)==null?void 0:m.placeholder,onBlur:t[2]||(t[2]=(...H)=>n.debounceInputSlider&&n.debounceInputSlider(...H)),onKeydown:t[3]||(t[3]=oe((...H)=>n.debounceInputSlider&&n.debounceInputSlider(...H),["enter","esc"])),ref:"input_slider"},null,40,_o)),[[r,s.focus]]):(u(),c(k,{key:1},[],64))],64)):(u(),c("div",{key:1,class:f(["flex justify-center",{"pl-2 ml-2":s.useSlide,"w-20 number-input-container":!(((g=i.field.options)==null?void 0:g.half)&&((_=i.field.options)==null?void 0:_.half)==!0||((w=i.field.options)==null?void 0:w.control_width)),"w-full":((L=i.field.options)==null?void 0:L.half)&&((S=i.field.options)==null?void 0:S.half)==!0||((V=i.field.options)==null?void 0:V.control_width)}]),style:T((E=i.field.options)!=null&&E.control_width?"width:"+((F=i.field.options)==null?void 0:F.control_width):(A=i.field.options)!=null&&A.oneline?"max-width:60%":"")},[d("input",{value:i.data!==void 0?s.value:"",class:"relative w-full pl-2 pr-1 transition border-gray-300 rounded shadow-sm h-7-5 sm:text-sm focus:ring-inset focus:ring-1 focus:ring-primary-400 focus:border-primary-400 text-black dark:text-dark-color dark:focus:ring-transparent dark:bg-dark dark:border-gray-600",type:"number",min:n.min,max:n.max,step:n.step,placeholder:(R=i.field)==null?void 0:R.placeholder,onInput:t[4]||(t[4]=(...H)=>n.debounceInput&&n.debounceInput(...H)),ref:"input_default"},null,40,xo)],6))])])}const _e=C(ft,[["render",wo]]);ft.__docgenInfo={displayName:"Number",exportName:"default",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"data",type:{name:"string|number"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/number/Number.vue"]};const Co=Object.freeze(Object.defineProperty({__proto__:null,default:_e},Symbol.toStringTag,{value:"Module"})),gt={name:"Input",components:{Number:_e},props:{payload:{type:Object,default(){return{}}},unitConfigs:{type:Object,default(){return{}}},type:{type:String,default:""}},emits:["update:number"],data(){return{acceptClose:!0,faArrowsRotate:q}},computed:{samples(){let e=[];if(this.type==="margin"&&e.push("auto"),this.unitConfigs.max<=0)return[];let t=8,i=(this.unitConfigs.max-(this.unitConfigs.min<0?0:this.unitConfigs.min))/t;return e.push(...Array.from({length:t},(a,s)=>Math.round(s*i*2)/10)),e},_payload(){return this.payload},value:{get(){return this.payload.value},set(e){this.$emit("update:number",e)}}},methods:{closePopup(){this.acceptClose||(this.$parent.input={},this.$parent.current={}),this.acceptClose=!0,document.removeEventListener("click",this.doClose)},doClose(e){(e===void 0||!e.target.closest(".ecom-popup-dimension"))&&this.closePopup()}},watch:{"payload.show":{deep:!0,immediate:!0,handler:function(e){e?setTimeout(()=>document.addEventListener("click",this.doClose),500):document.removeEventListener("click",this.doClose)}}}},So=d("span",{class:"text-white dark:text-gray-700"},[d("svg",{viewBox:"0 0 213.3 213.3",class:"absolute top-0 w-4 h-4 -mt-3 transform rotate-180 -translate-x-1/2 left-1/2 fill-current"},[d("polygon",{class:"shadow-xxl",points:"0,53.333 106.667,160 213.333,53.333"})])],-1),Do={class:"flex items-center flex-wrap -mx-0.5 -mb-1"},Mo=["onClick"];function To(e,t,i,a,s,n){const r=y("Number"),o=y("ecom-icon");return i.payload.show?(u(),c("div",{key:0,class:"absolute z-50 p-4 bg-white dark:bg-gray-700 dark:text-dark-color rounded left-2 right-2 shadow-popup ecom-popup-dimension",style:T({top:i.payload.pos.top+"px"})},[So,b(r,{data:n.value,"onUpdate:data":t[0]||(t[0]=l=>n.value=l),field:{options:i.unitConfigs,focus:!0},class:"mb-4"},null,8,["data","field"]),d("ul",Do,[(u(!0),c(k,null,z(n.samples,l=>(u(),c("li",{key:l,class:"px-2 capitalize py-1 mx-0.5 mb-1 bg-white dark:bg-dark dark:text-dark-color dark:hover:bg-dark border border-gray-300 dark:border-gray-600 rounded text-xs text-form-input hover:bg-gray-100 cursor-pointer transition",onClick:p=>n.value=l==="auto"?l:parseFloat(l)},D(l),9,Mo))),128))]),n.value!==""&&n.value!==void 0?(u(),c("button",{key:0,type:"button",class:"flex items-center mt-4 text-xs transition group text-form-input hover:text-primary-600 dark:text-dark-color",onClick:t[1]||(t[1]=l=>n.value="")},[b(o,{icon:s.faArrowsRotate,class:"w-3 h-3 text-gray-600 dark:text-dark-color mr-1.5 group-hover:text-primary-600 transition"},null,8,["icon"]),B(" Reset ")])):v("",!0)],4)):v("",!0)}const bt=C(gt,[["render",To]]);gt.__docgenInfo={displayName:"Input",exportName:"default",description:"",tags:{},props:[{name:"payload",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"unitConfigs",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"update:number",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dimension/Input.vue"]};const Lo=Object.freeze(Object.defineProperty({__proto__:null,default:bt},Symbol.toStringTag,{value:"Module"})),yt={name:"Dimension",components:{Box:ht,InputComponent:bt},mixins:[ye],props:{data:Object,field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{icons:{faLink:bi},linked:!1,isWatch:!0,isEmit:!1,current:{},unit:null,input:{value:null,show:!1,pos:{}},valueInput:{}}},computed:{bindAttr(){return{unit:this.unit,linked:this.linked,field:this.field,unitConfigs:this.unitConfigs}},options(){var e;return(e=this.field.options)!=null?e:{}},units(){var i;let e={margin:{px:{min:-500,max:500},"%":{min:-100,max:100},em:{min:-100,max:100},rem:{min:-100,max:100}},padding:{px:{min:0,max:500},"%":{min:0,max:100},em:{min:0,max:100},rem:{min:0,max:100}},radius:{px:{min:0,max:400},"%":{min:0,max:100}}},t=this.options.units;return t==="default"?this.isSimple?this.isRadius?e.radius:e[(i=this.fieldName)!=null?i:"padding"]:{margin:e.margin,padding:e.padding}:t!=null?t:{}},unitsKey(){var e;return this.isSimple?Object.keys(this.units):Object.keys((e=this.units.margin)!=null?e:{})},unitsLength(){return this.unitsKey.length},unitConfigs(){let e={},{type:t}=this.current,i={min:t==="margin"?-1e3:0,max:1e3,step:1};return["min","max","step"].forEach(a=>{var n,r,o,l,p,h,m,g;let s=this.isSimple?this.units:(n=this.units)==null?void 0:n[t];e[a]=(g=(m=(p=(o=(r=s==null?void 0:s[this.unit])==null?void 0:r[t])==null?void 0:o[a])!=null?p:(l=s==null?void 0:s[this.unit])==null?void 0:l[a])!=null?m:(h=this.options)==null?void 0:h[a])!=null?g:i[a]}),e},isSimple(){return this.options.simple||this.options.type==="radius"},isRadius(){return this.options.type==="radius"},values(){var i;let e={};const t=(a,s)=>{for(let n in s){let r=s[n];r!=null&&r!==""&&(isNaN(r)&&typeof r!="number"||!isNaN(r)&&typeof r=="number")&&(this.unit?a[n]=typeof r=="number"?r+this.unit.replace("NaN",""):r:a[n]=r)}};if(this.isSimple)t(e,this.valueInput);else for(let a in this.valueInput)e[a]=(i=e[a])!=null?i:{},t(e[a],this.valueInput[a]);return e},cursor(){var e;return(e=this.dragDir(this.current.type||this.fieldName,this.current.name))==null?void 0:e.c},fieldName(){var e,t,i;return(i=Object.keys((t=(e=this.field.css)==null?void 0:e.properties)!=null?t:{})[0])!=null?i:this.field.name}},watch:{values:{immediate:!0,handler:function(e){this.isEmit&&(this.isWatch=!1,this.$emit("update:data",e)),this.isEmit=!0}},data:{deep:!0,immediate:!0,handler:function(e){this.isWatch&&(this.isEmit=!1,this.extractData(e!=null?e:{})),this.isWatch=!0}},"input.value":function(e){var a,s,n,r;let{type:t,name:i}=this.current;if(i)if(e!==""){let o;t?(this.valueInput[t]=(a=this.valueInput[t])!=null?a:{},o=this.valueInput[t]):o=this.valueInput,o[i]=e}else t?((n=(s=this.valueInput)==null?void 0:s[t])==null||delete n[i],Object.keys(this.valueInput[t]).length===0&&delete this.valueInput[t]):(r=this.valueInput)==null||delete r[i]}},methods:{getUnit(e){var i,a;let t="";return typeof e=="string"&&(t=(a=(i=/\D+$/g.exec(e))==null?void 0:i[0])!=null?a:""),t},extractData(e){var t,i,a,s;if(Object.keys(e).length){this.link=!1;let n={},r="";const o=(l,p)=>{for(let h in p)p[h]!==void 0&&(l[h]=p[h]==="auto"?p[h]:parseFloat(p[h])),r=this.getUnit(p[h])};if(this.isSimple)o(n,e);else for(let l in e)n[l]=(t=n[l])!=null?t:{},o(n[l],e[l]);this.unit=r||((i=this.unitsKey[0])!=null?i:""),this.valueInput=n}else this.unit=(s=(a=this.unitsKey)==null?void 0:a[0])!=null?s:"",this.valueInput={};this.linked=this.isLinked(this.valueInput)},isLinked(e){const t=a=>{if(a!==null&&typeof a=="object"){let s=Object.values(a);if(s.length===4)return s[0]===s[1]&&s[1]===s[2]&&s[2]===s[3]}return!1};let i=!0;if(typeof Object.values(e)[0]=="object")for(const a in e)i=t(e[a]);else i=t(e);return!!i},clickInput({value:e,el:t}){if(!t){this.input={};return}if(this.input.show)this.current={},this.input={};else{this.$refs.input.acceptClose=!1;let i=this.$el.getBoundingClientRect(),a=t.getBoundingClientRect();this.input={value:e,show:!0,pos:{top:a.y-i.y+t.offsetHeight+10,left:a.x-i.x}}}},closeInput(){this.input={}}}};const Io={key:1,class:"absolute right-0 flex flex-wrap mb-1 bottom-full"},zo=["onClick"],Vo=["data-tooltip"];function Ho(e,t,i,a,s,n){const r=y("Box"),o=y("ecom-icon"),l=y("InputComponent");return u(),c("div",{class:f(["relative",n.isSimple?"h-22":"h-40"])},[s.current.name&&!s.input.show?(u(),c("div",{key:0,class:"fixed top-0 left-0 z-50 w-full h-full",style:T({cursor:n.cursor})},null,4)):v("",!0),n.unitsLength>1?(u(),c("div",Io,[(u(!0),c(k,null,z(n.unitsKey,p=>(u(),c("button",{key:p,type:"button",class:f(["px-1 uppercase border-0 focus:outline-none focus:ring-0 min-w-5 text-tiny",s.unit===p?"underline text-primary-600":"dark:text-dark-color text-form-secondary-hover"]),onClick:h=>s.unit=p},D(p),11,zo))),128))])):v("",!0),n.isSimple?(u(),M(r,Ce({key:2,data:s.valueInput,"onUpdate:data":t[0]||(t[0]=p=>s.valueInput=p),current:s.current,"onUpdate:current":t[1]||(t[1]=p=>s.current=p),size:"small",class:"w-full"},n.bindAttr,{onClickInput:n.clickInput,onCloseInput:n.closeInput}),null,16,["data","current","onClickInput","onCloseInput"])):(u(),c(k,{key:3},[b(r,Ce({data:s.valueInput.margin,"onUpdate:data":t[2]||(t[2]=p=>s.valueInput.margin=p),current:s.current,"onUpdate:current":t[3]||(t[3]=p=>s.current=p),type:"margin"},n.bindAttr,{onClickInput:n.clickInput,onCloseInput:n.closeInput}),null,16,["data","current","onClickInput","onCloseInput"]),b(r,{data:s.valueInput.padding,"onUpdate:data":t[4]||(t[4]=p=>s.valueInput.padding=p),current:s.current,"onUpdate:current":t[5]||(t[5]=p=>s.current=p),type:"padding",size:"small",class:"w-57",linked:s.linked,"unit-configs":n.unitConfigs,"v-bind":n.bindAttr,onClickInput:n.clickInput,onCloseInput:n.closeInput},null,8,["data","current","linked","unit-configs","v-bind","onClickInput","onCloseInput"])],64)),d("button",{class:f(["absolute flex items-center justify-center transition transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2 ring-gray-300 dark:ring-gray-600 z-1 box-sizing",[s.linked?"bg-primary-600 ring-0 text-white hover:bg-primary-500":"bg-white dark:bg-dark dark:text-dark-color ring-1 hover:bg-primary-600 hover:text-white",n.isSimple?"rounded w-9 h-7":"rounded-sm w-10 h-6"]]),type:"button","data-tooltip":s.linked?"Unlink":"Link",onClick:t[6]||(t[6]=p=>s.linked=!s.linked)},[b(o,{icon:s.icons.faLink,class:"w-4 h-4"},null,8,["icon"])],10,Vo),b(l,{ref:"input",number:s.input.value,"onUpdate:number":t[7]||(t[7]=p=>s.input.value=p),payload:s.input,"unit-configs":n.unitConfigs,type:s.current.type},null,8,["number","payload","unit-configs","type"])],2)}const Fo=C(yt,[["render",Ho]]);yt.__docgenInfo={exportName:"default",displayName:"Dimension",description:"",tags:{},props:[{name:"data",type:{name:"object"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/dimension/Dimension.vue","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/mixins/drag.ts"]};const jo=Object.freeze(Object.defineProperty({__proto__:null,default:Fo},Symbol.toStringTag,{value:"Module"})),vt={name:"ToolBar",props:{state:{type:Object,default(){return{}}},type:{type:Number,default:0},field:{type:Object,default(){return{}}}},emits:["select","updateColor"],data(){return{faClose:yi,colors:{},showing:""}},components:{ColorPicker:qe},computed:{toolbars(){var t,i,a,s;const e=[{name:"Bold",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M321.1 242.4C340.1 220.1 352 191.6 352 160c0-70.59-57.42-128-128-128L32 32.01c-17.67 0-32 14.31-32 32s14.33 32 32 32h16v320H32c-17.67 0-32 14.31-32 32s14.33 32 32 32h224c70.58 0 128-57.41 128-128C384 305.3 358.6 264.8 321.1 242.4zM112 96.01H224c35.3 0 64 28.72 64 64s-28.7 64-64 64H112V96.01zM256 416H112v-128H256c35.3 0 64 28.71 64 63.1S291.3 416 256 416z"/></svg>',action:"bold"},{name:"Italic",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M384 64.01c0 17.69-14.31 32-32 32h-58.67l-133.3 320H224c17.69 0 32 14.31 32 32s-14.31 32-32 32H32c-17.69 0-32-14.31-32-32s14.31-32 32-32h58.67l133.3-320H160c-17.69 0-32-14.31-32-32s14.31-32 32-32h192C369.7 32.01 384 46.33 384 64.01z"/></svg>',action:"italic"},{name:"Underline",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M416 448H32c-17.69 0-32 14.31-32 32s14.31 32 32 32h384c17.69 0 32-14.31 32-32S433.7 448 416 448zM48 64.01H64v160c0 88.22 71.78 159.1 160 159.1s160-71.78 160-159.1v-160h16c17.69 0 32-14.32 32-32s-14.31-31.1-32-31.1l-96-.0049c-17.69 0-32 14.32-32 32s14.31 32 32 32H320v160c0 52.94-43.06 95.1-96 95.1S128 276.1 128 224v-160h16c17.69 0 32-14.31 32-32s-14.31-32-32-32l-96 .0049c-17.69 0-32 14.31-32 31.1S30.31 64.01 48 64.01z"/></svg>',action:"underline"},{name:"Strikethrough",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M332.2 319.9c17.22 12.17 22.33 26.51 18.61 48.21c-3.031 17.59-10.88 29.34-24.72 36.99c-35.44 19.75-108.5 11.96-186-19.68c-16.34-6.686-35.03 1.156-41.72 17.53s1.188 35.05 17.53 41.71c31.75 12.93 95.69 35.37 157.6 35.37c29.62 0 58.81-5.156 83.72-18.96c30.81-17.09 50.44-45.46 56.72-82.11c3.998-23.27 2.168-42.58-3.488-59.05H332.2zM488 239.9l-176.5-.0309c-15.85-5.613-31.83-10.34-46.7-14.62c-85.47-24.62-110.9-39.05-103.7-81.33c2.5-14.53 10.16-25.96 22.72-34.03c20.47-13.15 64.06-23.84 155.4 .3438c17.09 4.531 34.59-5.654 39.13-22.74c4.531-17.09-5.656-34.59-22.75-39.12c-91.31-24.18-160.7-21.62-206.3 7.654C121.8 73.72 103.6 101.1 98.09 133.1C89.26 184.5 107.9 217.3 137.2 239.9L24 239.9c-13.25 0-24 10.75-24 23.1c0 13.25 10.75 23.1 24 23.1h464c13.25 0 24-10.75 24-23.1C512 250.7 501.3 239.9 488 239.9z"/></svg>',action:"strikeThrough"},{name:"Color",icon:'<svg class="h-4 w-4"  fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M160 255.1C160 273.7 145.7 287.1 128 287.1C110.3 287.1 96 273.7 96 255.1C96 238.3 110.3 223.1 128 223.1C145.7 223.1 160 238.3 160 255.1zM128 159.1C128 142.3 142.3 127.1 160 127.1C177.7 127.1 192 142.3 192 159.1C192 177.7 177.7 191.1 160 191.1C142.3 191.1 128 177.7 128 159.1zM288 127.1C288 145.7 273.7 159.1 256 159.1C238.3 159.1 224 145.7 224 127.1C224 110.3 238.3 95.1 256 95.1C273.7 95.1 288 110.3 288 127.1zM320 159.1C320 142.3 334.3 127.1 352 127.1C369.7 127.1 384 142.3 384 159.1C384 177.7 369.7 191.1 352 191.1C334.3 191.1 320 177.7 320 159.1zM441.9 319.1H344C317.5 319.1 296 341.5 296 368C296 371.4 296.4 374.7 297 377.9C299.2 388.1 303.5 397.1 307.9 407.8C313.9 421.6 320 435.3 320 449.8C320 481.7 298.4 510.5 266.6 511.8C263.1 511.9 259.5 512 256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 256.9 511.1 257.8 511.1 258.7C511.6 295.2 478.4 320 441.9 320V319.1zM463.1 258.2C463.1 257.4 464 256.7 464 255.1C464 141.1 370.9 47.1 256 47.1C141.1 47.1 48 141.1 48 255.1C48 370.9 141.1 464 256 464C258.9 464 261.8 463.9 264.6 463.8C265.4 463.8 265.9 463.6 266.2 463.5C266.6 463.2 267.3 462.8 268.2 461.7C270.1 459.4 272 455.2 272 449.8C272 448.1 271.4 444.3 266.4 432.7C265.8 431.5 265.2 430.1 264.5 428.5C260.2 418.9 253.4 403.5 250.1 387.8C248.7 381.4 248 374.8 248 368C248 314.1 290.1 271.1 344 271.1H441.9C449.6 271.1 455.1 269.3 459.7 266.2C463 263.4 463.1 260.9 463.1 258.2V258.2z"/></svg>',action:"foreColor"},{name:"Background",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M168 90.74L221.1 37.66C249.2 9.539 294.8 9.539 322.9 37.66L474.3 189.1C502.5 217.2 502.5 262.8 474.3 290.9L283.9 481.4C246.4 518.9 185.6 518.9 148.1 481.4L30.63 363.9C-6.863 326.4-6.863 265.6 30.63 228.1L122.7 135.1L41.37 54.63C28.88 42.13 28.88 21.87 41.37 9.372C53.87-3.124 74.13-3.124 86.63 9.372L168 90.74zM75.88 273.4C71.69 277.6 68.9 282.6 67.52 287.1H386.7L429.1 245.7C432.2 242.5 432.2 237.5 429.1 234.3L277.7 82.91C274.5 79.79 269.5 79.79 266.3 82.91L213.3 136L262.6 185.4C275.1 197.9 275.1 218.1 262.6 230.6C250.1 243.1 229.9 243.1 217.4 230.6L168 181.3L75.88 273.4z"/></svg>',action:"backColor"},{name:"Ordered List",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M55.1 56.04C55.1 42.78 66.74 32.04 79.1 32.04H111.1C125.3 32.04 135.1 42.78 135.1 56.04V176H151.1C165.3 176 175.1 186.8 175.1 200C175.1 213.3 165.3 224 151.1 224H71.1C58.74 224 47.1 213.3 47.1 200C47.1 186.8 58.74 176 71.1 176H87.1V80.04H79.1C66.74 80.04 55.1 69.29 55.1 56.04V56.04zM118.7 341.2C112.1 333.8 100.4 334.3 94.65 342.4L83.53 357.9C75.83 368.7 60.84 371.2 50.05 363.5C39.26 355.8 36.77 340.8 44.47 330.1L55.59 314.5C79.33 281.2 127.9 278.8 154.8 309.6C176.1 333.1 175.6 370.5 153.7 394.3L118.8 432H152C165.3 432 176 442.7 176 456C176 469.3 165.3 480 152 480H64C54.47 480 45.84 474.4 42.02 465.6C38.19 456.9 39.9 446.7 46.36 439.7L118.4 361.7C123.7 355.9 123.8 347.1 118.7 341.2L118.7 341.2zM512 64C529.7 64 544 78.33 544 96C544 113.7 529.7 128 512 128H256C238.3 128 224 113.7 224 96C224 78.33 238.3 64 256 64H512zM512 224C529.7 224 544 238.3 544 256C544 273.7 529.7 288 512 288H256C238.3 288 224 273.7 224 256C224 238.3 238.3 224 256 224H512zM512 384C529.7 384 544 398.3 544 416C544 433.7 529.7 448 512 448H256C238.3 448 224 433.7 224 416C224 398.3 238.3 384 256 384H512z"/></svg>',action:"insertorderedlist"},{name:"Unordered List",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M16 96C16 69.49 37.49 48 64 48C90.51 48 112 69.49 112 96C112 122.5 90.51 144 64 144C37.49 144 16 122.5 16 96zM480 64C497.7 64 512 78.33 512 96C512 113.7 497.7 128 480 128H192C174.3 128 160 113.7 160 96C160 78.33 174.3 64 192 64H480zM480 224C497.7 224 512 238.3 512 256C512 273.7 497.7 288 480 288H192C174.3 288 160 273.7 160 256C160 238.3 174.3 224 192 224H480zM480 384C497.7 384 512 398.3 512 416C512 433.7 497.7 448 480 448H192C174.3 448 160 433.7 160 416C160 398.3 174.3 384 192 384H480zM16 416C16 389.5 37.49 368 64 368C90.51 368 112 389.5 112 416C112 442.5 90.51 464 64 464C37.49 464 16 442.5 16 416zM112 256C112 282.5 90.51 304 64 304C37.49 304 16 282.5 16 256C16 229.5 37.49 208 64 208C90.51 208 112 229.5 112 256z"/></svg>',action:"insertunorderedlist"},{name:"Insert Link",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M172.5 131.1C228.1 75.51 320.5 75.51 376.1 131.1C426.1 181.1 433.5 260.8 392.4 318.3L391.3 319.9C381 334.2 361 337.6 346.7 327.3C332.3 317 328.9 297 339.2 282.7L340.3 281.1C363.2 249 359.6 205.1 331.7 177.2C300.3 145.8 249.2 145.8 217.7 177.2L105.5 289.5C73.99 320.1 73.99 372 105.5 403.5C133.3 431.4 177.3 435 209.3 412.1L210.9 410.1C225.3 400.7 245.3 404 255.5 418.4C265.8 432.8 262.5 452.8 248.1 463.1L246.5 464.2C188.1 505.3 110.2 498.7 60.21 448.8C3.741 392.3 3.741 300.7 60.21 244.3L172.5 131.1zM467.5 380C411 436.5 319.5 436.5 263 380C213 330 206.5 251.2 247.6 193.7L248.7 192.1C258.1 177.8 278.1 174.4 293.3 184.7C307.7 194.1 311.1 214.1 300.8 229.3L299.7 230.9C276.8 262.1 280.4 306.9 308.3 334.8C339.7 366.2 390.8 366.2 422.3 334.8L534.5 222.5C566 191 566 139.1 534.5 108.5C506.7 80.63 462.7 76.99 430.7 99.9L429.1 101C414.7 111.3 394.7 107.1 384.5 93.58C374.2 79.2 377.5 59.21 391.9 48.94L393.5 47.82C451 6.731 529.8 13.25 579.8 63.24C636.3 119.7 636.3 211.3 579.8 267.7L467.5 380z"/></svg>',action:"insertLink"},{name:"Insert Image",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M447.1 32h-384C28.64 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM111.1 96c26.51 0 48 21.49 48 48S138.5 192 111.1 192s-48-21.49-48-48S85.48 96 111.1 96zM446.1 407.6C443.3 412.8 437.9 416 432 416H82.01c-6.021 0-11.53-3.379-14.26-8.75c-2.73-5.367-2.215-11.81 1.334-16.68l70-96C142.1 290.4 146.9 288 152 288s9.916 2.441 12.93 6.574l32.46 44.51l93.3-139.1C293.7 194.7 298.7 192 304 192s10.35 2.672 13.31 7.125l128 192C448.6 396 448.9 402.3 446.1 407.6z"/></svg>',action:"insertImage"},{name:"Insert Video",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M384 112v288c0 26.51-21.49 48-48 48h-288c-26.51 0-48-21.49-48-48v-288c0-26.51 21.49-48 48-48h288C362.5 64 384 85.49 384 112zM576 127.5v256.9c0 25.5-29.17 40.39-50.39 25.79L416 334.7V177.3l109.6-75.56C546.9 87.13 576 102.1 576 127.5z"/></svg>',action:"insertVideo"},{name:"Clear Format",icon:'<svg class="h-4 w-4"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"/></svg>',action:"removeFormat"},{name:"Code",icon:'<svg class="h-4 w-4"  fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>',action:"codeFormat"}];return(i=(t=this.field)==null?void 0:t.options)!=null&&i.dynamic&&e.push({name:"Insert Dynamic Sources",icon:'<svg class="h-4 w-4"  fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224 512C100.3 512 0 476.2 0 432V80C0 35.82 100.3 0 224 0C347.7 0 448 35.82 448 80V432C448 476.2 347.7 512 224 512zM416 80.45C415.7 79.69 414.4 77.27 409.8 73.31C402.4 67.11 389.9 60.09 371.6 53.57C335.4 40.62 283.2 32 224 32C164.8 32 112.6 40.62 76.37 53.57C58.1 60.09 45.59 67.11 38.25 73.31C33.55 77.27 32.29 79.69 32 80.45V182.1C46.47 192.7 69.9 202.8 100.9 210.4C135.5 218.9 177.1 224 224 224C270 224 312.5 218.9 347.1 210.4C378.1 202.8 401.5 192.7 416 182.1V80.45zM416 219.5C398.8 228.4 377.9 235.8 354.8 241.5C317.3 250.7 272.2 256 224 256C175.8 256 130.7 250.7 93.22 241.5C70.11 235.8 49.18 228.4 32 219.5V310.1C46.47 320.7 69.9 330.8 100.9 338.4C135.5 346.9 177.1 352 224 352C270 352 312.5 346.9 347.1 338.4C378.1 330.8 401.5 320.7 416 310.1V219.5zM38.25 438.7C45.59 444.9 58.1 451.9 76.37 458.4C112.6 471.4 164.8 480 224 480C283.2 480 335.4 471.4 371.6 458.4C389.9 451.9 402.4 444.9 409.8 438.7C414.4 434.7 415.7 432.3 416 431.6V347.5C398.8 356.4 377.9 363.8 354.8 369.5C317.3 378.7 272.2 384 224 384C175.8 384 130.7 378.7 93.22 369.5C70.11 363.8 49.18 356.4 32 347.5V431.6C32.29 432.3 33.55 434.7 38.25 438.7zM416 431.4C416.1 431.3 416.1 431.3 416.1 431.3L416 431.4zM31.96 431.4C31.94 431.3 31.93 431.3 31.92 431.3L31.96 431.4zM31.96 80.56C31.93 80.65 31.92 80.7 31.92 80.7L31.96 80.56zM416.1 80.7C416.1 80.7 416.1 80.65 416 80.56z"/></svg>',action:"dynamicSources"}),(s=(a=this.field)==null?void 0:a.options)!=null&&s.generator&&e.push({name:"AI Content Generator",icon:'<svg class="h-5 w-5"  fill="currentColor"  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Pro 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M448 96h-112V16C336 7.156 328.8 0 320 0S304 7.156 304 16V96H192C138.1 96 96 138.1 96 192v224c0 53.02 42.98 96 96 96h256c53.02 0 96-42.98 96-96V192C544 138.1 501 96 448 96zM512 384h-16c-8.844 0-16 7.156-16 16s7.156 16 16 16H512c0 35.29-28.71 64-64 64H192c-35.29 0-64-28.71-64-64h16C152.8 416 160 408.8 160 400S152.8 384 144 384H128V192c0-35.29 28.71-64 64-64h256c35.29 0 64 28.71 64 64V384zM36.72 228.6C39.72 225.6 43.66 224 47.84 224C56.66 224 63.97 216.9 64 208C64.03 199.2 56.88 192 48.03 192C35.31 192 23.19 196.9 14.16 205.9C5.031 215 0 227.1 0 240v127.1C0 394.5 21.47 416 47.88 416c8.844 0 16.06-7.156 16.06-16s-7.156-16-16-16C39.19 384 32 376.8 32 367.1V240C32 235.7 33.69 231.6 36.72 228.6zM592.1 192c-8.844 0-16 7.156-16 16S583.3 224 592.1 224C600.9 224 608 231.2 608 240v127.1c0 4.328-1.688 8.375-4.719 11.41C600.3 382.4 596.3 384 592.1 384C583.3 384 576 391.1 576 399.1C575.1 408.8 583.1 415.1 591.9 416c12.72 0 24.88-4.938 33.91-13.94C634.1 392.1 640 380.9 640 367.1V240C640 213.5 618.5 192 592.1 192zM240 384h-32C199.2 384 192 391.2 192 400S199.2 416 208 416h32C248.8 416 256 408.8 256 400S248.8 384 240 384zM336 384h-32C295.2 384 288 391.2 288 400S295.2 416 304 416h32c8.844 0 16-7.156 16-16S344.8 384 336 384zM432 384h-32c-8.844 0-16 7.156-16 16s7.156 16 16 16h32c8.844 0 16-7.156 16-16S440.8 384 432 384zM224 192C188.7 192 160 220.7 160 256s28.72 64 64 64s64-28.7 64-64S259.3 192 224 192zM224 288C206.3 288 192 273.6 192 256s14.34-32 32-32s32 14.36 32 32S241.7 288 224 288zM416 192c-35.28 0-64 28.7-64 64s28.72 64 64 64s64-28.7 64-64S451.3 192 416 192zM416 288c-17.66 0-32-14.36-32-32s14.34-32 32-32s32 14.36 32 32S433.7 288 416 288z"/></svg>',action:"contentGenerator"}),e},toolbarFilterd(){let e=this.toolbars;return this.type==0?[]:(this.type==1&&(e=e.filter(t=>t&&["strikeThrough","insertImage","insertVideo"].indexOf(t==null?void 0:t.action)===-1)),e)},CMDs(){return this.toolbarFilterd.map(e=>e.action)}},methods:{styleButton(e){let t=this.state[e];switch(e){case"foreColor":case"codeFormat":return{"--ta-fill":t};case"backColor":{let i="";return t?i=t=="rgb(255, 255, 255)"?"rgb(0, 0, 0)":t:i="rgb(0, 0, 0)",{"--ta-fill":i}}default:return{}}},classToolbar(e){let t=this.state[e];switch(e){case"foreColor":case"backColor":return"hover:bg-gray-200 rounded dark:hover:bg-dark dark:hover:text-primary-600";default:return t?"text-primary-600 bg-gray-100":"text-gray-500 dark:text-dark-color dark:hover:bg-dark dark:hover:text-primary-600 hover:bg-gray-200"}},clickToolbar(e,t){this.showing=t===this.showing?null:t,this.$emit("select",t)},changeColor(e,t){this.colors[t]=e;let i=null;clearTimeout(i),i=setTimeout(()=>{this.$emit("updateColor",{val:e,action:t})},100)}}};const Oo={key:0,class:"relative z-10 flex flex-row flex-wrap p-2 content-between row-span-1 bg-white dark:bg-dark dark:text-dark-color border border-b-0 rounded-t border-gray-300 dark:border-gray-600 focus:outline-none focus:ring-2 ring-offset-1 focus:ring-primary-400 dark:focus:ring-transparent transform -translate-y-px transition"},Eo=["data-tooltip","onClick"],Po=["innerHTML"],Ao={key:0,class:"absolute top-10 left-2 z-50 w-64 shadow-popup bg-white dark:bg-gray-700 dark:text-dark-color p- pt-5 rounded"},No=["onClick"],Uo={key:1,class:"block w-px h-6 mx-1 border-r border-gray-300"};function Bo(e,t,i,a,s,n){const r=y("ecom-icon"),o=y("ColorPicker");return n.toolbarFilterd.length?(u(),c("ul",Oo,[(u(!0),c(k,null,z(n.toolbarFilterd,(l,p)=>(u(),c("li",{key:(l==null?void 0:l.name)||p,class:f(["mb-1 flex",{"flex-break":(l==null?void 0:l.action)==="break"}])},[l.action?(u(),c(k,{key:0},[d("button",{href:"#",type:"button",class:f(["relative z-10 block p-1 transition border-0 rounded-sm cursor-pointer group focus:outline-none focus:ring-0",[n.classToolbar(l.action)]]),"data-tooltip":l.name,style:T(n.styleButton(l.action)),onClick:h=>n.clickToolbar(h,l.action)},[d("span",{innerHTML:l.icon},null,8,Po)],14,Eo),["foreColor","backColor"].includes(l.action)?I((u(),c("div",Ao,[d("button",{onClick:h=>n.clickToolbar(h,l.action),class:"absolute right-0 top-0 bg-gray-50 rounded group"},[b(r,{icon:s.faClose,class:"w-4 h-4 p-1 text-gray-500 dark:text-dark-color dark:group-hover:text-primary-600 group-hover:text-gray-700"},null,8,["icon"])],8,No),b(o,{value:s.colors[l.action],"onUpdate:data":h=>n.changeColor(h,l.action)},null,8,["value","onUpdate:data"])],512)),[[X,s.showing===l.action]]):v("",!0),l.separator?(u(),c("span",Uo)):v("",!0)],64)):v("",!0)],2))),128))])):v("",!0)}const Ro=C(vt,[["render",Bo]]);vt.__docgenInfo={displayName:"ToolBar",exportName:"default",description:"",tags:{},props:[{name:"state",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"type",type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"select",type:{names:["undefined"]}},{name:"updateColor",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/editor/Toolbar.vue"]};const kt={name:"ItemContent",directives:{detectVisible:vi},props:{item:{type:Object,default(){return{}}},src:{type:String,default:""}},data(){return{show:!1}},methods:{detectVisible(){this.show=!0}}},Wo={ref:"content",class:"h-10"},Go=["disabled"],Zo={class:"float-left w-5 h-5 mr-4 min-w-5"},Yo=["src","alt"],qo={class:"truncate"};function Jo(e,t,i,a,s,n){var o;const r=ne("detectVisible");return I((u(),c("li",Wo,[s.show?(u(),c("button",{key:0,type:"button",class:f(["flex items-center w-full h-full px-4 py-2 text-sm text-gray-600 transition border-0 border-l-2 border-transparent hover:bg-gray-100 focus:outline-none focus:border-blue-700 dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark",{"bg-gray-100 border-blue-700":i.src.endsWith(i.item.value)}]),disabled:i.src.endsWith(i.item.value)},[d("span",Zo,[d("img",{class:"block object-cover w-full h-full rounded",src:(o=i.item.thumbnail)!=null?o:"/images/placeholder.png",alt:i.item.name},null,8,Yo)]),d("span",qo,D(i.item.name),1)],10,Go)):v("",!0)])),[[r,n.detectVisible]])}const Xo=C(kt,[["render",Jo]]);kt.__docgenInfo={displayName:"ItemContent",exportName:"default",description:"",tags:{},props:[{name:"item",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"src",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/editor/InsertLink/ItemContent.vue"]};const _t={name:"ContentLink",components:{ItemContent:Xo},props:{type:{type:String,default:"collection"},src:{type:String,default:""},scrolledBottom:{type:Boolean,default:!1},offsetList:{type:Object,default(){return{}}}},emits:["update:select","hide","dispatchScroll"],data(){return{init:!1,show:!1,search:"",listData:[],count:10,loading:!0,loadmore:{loading:!1},icons:{faChevronLeft:ki,faCheck:Q}}},computed:{...J("picker",{pickerData:"data"}),...J("picker",["isLoadmore"]),isNext(){return this.isLoadmore(this.type)}},watch:{type:function(){this.show&&(this.listData=[],this.search="",this.getData())},show:function(e){e||this.$emit("hide")},search:function(){let e=null;clearTimeout(e),e=setTimeout(()=>{this.getData()},500)},scrolledBottom:function(e){e&&this.show&&this.isNext&&!this.loadmore.loading&&this.getData(!0)},loading:function(e){!e&&this.$emit("dispatchScroll")},"loadmore.loading":function(e){!e&&this.$emit("dispatchScroll")}},methods:{copy(e){return JSON.parse(JSON.stringify(e))},strResult(e){return e+" result"+(e==0||e>1?"s":"")},getData(e=!1){if(e?this.loadmore.loading=!0:this.loading=!0,this.type=="email"||this.type=="phone"){this.loading=!1;return}this.pickerData(this.type,"",this.search,e).then(t=>{e?this.listData=this.copy([...this.listData,...t]):this.listData=this.copy(t),this.loading=!1,this.loadmore.loading=!1,e&&(this.$parent.scroll.bottom=!1)})}}},Ko={class:"w-full h-full"},$o={key:0,class:"relative flex items-center justify-center h-10"},Qo={class:"flex items-center justify-between py-1"},er={class:"flex items-center"},tr=["placeholder"],ir={class:"flex items-center"},nr={key:0,ref:"list",class:"w-full"},sr={key:0,class:"relative flex items-center justify-center h-10 text-center"};function ar(e,t,i,a,s,n){const r=y("Loading"),o=y("ecom-icon"),l=y("ItemContent");return I((u(),c("div",Ko,[s.loading?(u(),c("div",$o,[b(r,{type:"spin"})])):(u(),c(k,{key:1},[d("div",Qo,[d("button",{type:"button",class:"p-2 text-gray-600 text-sm border-0 transition hover:text-gray-800 dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark focus:outline-none",onClick:t[0]||(t[0]=p=>s.show=!1)},[d("span",er,[b(o,{icon:s.icons.faChevronLeft,class:"w-5 h-5"},null,8,["icon"])])]),i.type!="email"&&i.type!="phone"?I((u(),c("input",{key:0,"onUpdate:modelValue":t[1]||(t[1]=p=>s.search=p),type:"text",class:"flex-1 h-8 mr-2 text-sm transition border-gray-300 rounded shadow-sm sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 focus:border-gray-300 dark:focus:ring-transparent",placeholder:"Search"},null,512)),[[U,s.search]]):(u(),c("input",{key:1,type:"text",ref:"email_or_phone",onKeydown:t[2]||(t[2]=oe(p=>e.$emit("update:select",this.$refs.email_or_phone.value),["enter"])),class:"flex-1 h-8 text-sm transition border-gray-300 rounded shadow-sm sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 focus:border-gray-300 dark:focus:ring-transparent",placeholder:i.type==="email"?"Email":"Phone number"},null,40,tr)),i.type=="email"||i.type=="phone"?(u(),c("button",{key:2,type:"button",class:"p-2 text-gray-600 text-sm border-0 transition hover:text-gray-800 dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark focus:outline-none",onClick:t[3]||(t[3]=p=>e.$emit("update:select",this.$refs.email_or_phone.value))},[d("span",ir,[b(o,{icon:s.icons.faCheck,class:"w-5 h-5 fill-current"},null,8,["icon"])])])):v("",!0)]),s.listData.length?(u(),c("ul",nr,[(u(!0),c(k,null,z(s.listData,p=>(u(),M(l,{key:p.id,item:p,src:i.src,"offset-list":i.offsetList,onClick:h=>e.$emit("update:select",p.value)},null,8,["item","src","offset-list","onClick"]))),128)),n.isNext&&s.loadmore.loading?(u(),c("li",sr,[b(r,{type:"spin"})])):v("",!0)],512)):v("",!0)],64))],512)),[[X,s.show]])}const or=C(_t,[["render",ar]]);_t.__docgenInfo={displayName:"ContentLink",exportName:"default",description:"",tags:{},props:[{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"'collection'"}},{name:"src",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"scrolledBottom",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"offsetList",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:select"},{name:"hide"},{name:"dispatchScroll"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/editor/InsertLink/Content.vue"]};const xt={name:"GroupsTypes",components:{ContentLink:or},props:{src:{type:String,default:""}},emits:["update:select"],data(){return{show:!1,showFull:!1,type:"",list:[{name:"collection",text:"Collections",icon:`<svg class="w-full h-full" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M16 2a2 2 0 0 1 4 0v1h-4V2zM8.379 1a1.5 1.5 0 0 1 1.06.44l4.122 4.12A1.5 1.5 0 0 1 14 6.622V17.5a1.5 1.5 0 0 1-1.5 1.5h-10A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h5.879zM4 5h4v2H4V5zm7 4v2H4V9h7zm-7 6v-2h5v2H4zM16 5h4v11l-2 4-2-4V5z">
                                    </path>
                                </svg>`,count:-1},{name:"product",text:"Products",icon:`<svg class="w-full h-full" fill="currentColor">
                                    <path
                                        d="M10.293 1.293A1 1 0 0 1 11 1h7a1 1 0 0 1 1 1v7a1 1 0 0 1-.293.707l-9 9a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414l9-9zM15.5 6a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3z">
                                    </path>
                                </svg>`,count:-1},{name:"page",text:"Pages",icon:`<svg class="w-full h-full" fill="currentColor">
                                    <path
                                        d="M12.44.44A1.5 1.5 0 0 0 11.378 0H4.5A1.5 1.5 0 0 0 3 1.5v17A1.5 1.5 0 0 0 4.5 20h11a1.5 1.5 0 0 0 1.5-1.5V5.621a1.5 1.5 0 0 0-.44-1.06L12.44.439z">
                                    </path>
                                </svg>`,count:-1},{name:"blog",text:"Blogs",icon:`<svg class="w-full h-full" fill="currentColor">
                                    <path fill-rule="evenodd"
                                        d="M16 2a2 2 0 0 1 4 0v1h-4V2zM8.379 1a1.5 1.5 0 0 1 1.06.44l4.122 4.12A1.5 1.5 0 0 1 14 6.622V17.5a1.5 1.5 0 0 1-1.5 1.5h-10A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h5.879zM4 5h4v2H4V5zm7 4v2H4V9h7zm-7 6v-2h5v2H4zM16 5h4v11l-2 4-2-4V5z">
                                    </path>
                                </svg>`,count:-1},{name:"article",text:"Blog posts",icon:`<svg class="w-full h-full" fill="currentColor">
                                    <path fill-rule="evenodd"
                                    d="M16 2a2 2 0 0 1 4 0v1h-4V2zM8.379 1a1.5 1.5 0 0 1 1.06.44l4.122 4.12A1.5 1.5 0 0 1 14 6.622V17.5a1.5 1.5 0 0 1-1.5 1.5h-10A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1h5.879zM4 5h4v2H4V5zm7 4v2H4V9h7zm-7 6v-2h5v2H4zM16 5h4v11l-2 4-2-4V5z">
                                </path>
                                </svg>`,count:-1},{name:"email",text:"Email",icon:`<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/>
                            </svg>`,count:-1},{name:"phone",text:"Phone number",icon:'<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Pro 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --><path d="M0 32L144 0l80 144-83.8 67c36.1 68.4 92.3 124.6 160.8 160.8L368 288l144 80L480 512H448C200.6 512 0 311.4 0 64L0 32z"/></svg>',count:-1}],scroll:{has:!1,top:!0,bottom:!1}}},computed:{shadowList(){let e="-1px 0px 20px rgb(23 24 24 / 5%), 0px 1px 5px rgb(0 0 0 / 15%)";return this.scroll.has&&(this.scroll.top?e+=",inset 0 -2rem 2rem -2rem rgba(0, 0, 0, 0.15)":this.scroll.bottom?e+=",inset 0 2rem 2rem -2rem rgba(0, 0, 0, 0.15)":e+=",inset 0 2rem 2rem -2rem rgba(0, 0, 0, 0.15),inset 0 -2rem 2rem -2rem rgba(0, 0, 0, 0.15)"),{boxShadow:e}},urlType(){return this.type==="article"?"blogs/":this.type==="email"||this.type==="phone"?"":this.type+"s/"}},watch:{showFull:function(e){this.$nextTick(()=>{this.scroll.has=this.hasScroll()}),e||(this.$refs.content.show=!1)}},mounted(){this.$nextTick(()=>{this.$list=this.$refs.list,window.addEventListener("resize",this.eventChange),this.$list.addEventListener("scroll",this.eventChange),this.eventChange()})},unmounted(){window.removeEventListener("resize",this.eventChange)},methods:{hasScroll(){let e=this.$refs.list;return e?e.scrollHeight>e.clientHeight:!1},selectItem(e){this.type=e,this.$refs.content.show=!0,this.show=!1},hide(){this.show=!0},eventChange(e){if(!e)return;let t=e.target;this.scroll.top=t.scrollTop==0,this.scroll.bottom=t.scrollTop+t.clientHeight>=t.scrollHeight}}},rr={class:"w-full"},lr=["onClick"],dr=["innerHTML"];function ur(e,t,i,a,s,n){const r=y("ContentLink");return I((u(),c("div",{ref:"list",class:"fixed z-10 w-64 overflow-x-hidden overflow-y-auto bg-white dark:bg-dark dark:text-dark-color rounded-md shadow-list",style:T(n.shadowList)},[I(d("ul",rr,[(u(!0),c(k,null,z(s.list,o=>(u(),c("li",{key:o.name},[d("button",{type:"button",class:"w-full px-4 py-2.5 flex items-center text-gray-600 text-sm border-0 transition hover:bg-gray-100 focus:outline-none border-l-2 focus:border-blue-700 dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark",onClick:l=>n.selectItem(o.name)},[d("span",{class:"w-5 h-5 mr-4 min-w-5",innerHTML:o.icon},null,8,dr),B(" "+D(o.text)+" ",1),o.count>-1?(u(),c(k,{key:0},[B(" ("+D(o.count)+") ",1)],64)):v("",!0)],8,lr)]))),128))],512),[[X,s.show]]),b(r,{ref:"content",type:s.type,src:i.src,"scrolled-bottom":s.scroll.bottom,onHide:n.hide,"onUpdate:select":t[0]||(t[0]=o=>e.$emit("update:select",n.urlType+o,s.type))},null,8,["type","src","scrolled-bottom","onHide"])],4)),[[X,s.showFull]])}const cr=C(xt,[["render",ur]]);xt.__docgenInfo={displayName:"GroupsTypes",exportName:"default",description:"",tags:{},props:[{name:"src",type:{name:"string"},defaultValue:{func:!1,value:"''"}}],events:[{name:"update:select"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/editor/InsertLink/Types.vue"]};const wt={name:"InsertLink",directives:{clickOutside:ue},components:{PickerFrame:ge,PickerFooter:be,GroupTypes:cr},props:{data:{type:Object,default(){return{}}},type:{type:String,default:"editor"},position:{type:String,default:"absolute"}},emits:["close_popup","update:link","update:remove-link"],data(){return{show:!1,value:{},attributes:"",styleGroupTyles:{},icons:{faCheck:Q,faXmark:de}}},computed:{isEditor(){return this.type==="editor"},headerFrame(){return{title:this.isEditor?"Insert link":"Link settings",search:{show:!1,value:""}}},textSelect(){return this.isEditor?this.data.href?"Update":"Insert":"Done"},disabled(){var e,t;return!((t=(e=this.value)==null?void 0:e.href)!=null&&t.trim())},newTab(){var e;return((e=this.value)==null?void 0:e.target)=="_blank"},nofollow(){var e;return((e=this.value)==null?void 0:e.rel)=="nofollow"},objAttributes(){let e={};return this.attributes&&this.attributes.split(",").forEach(i=>{let[a,s]=i.split("|");a&&s&&(e[a.trim()]=s.trim())}),e},valueFinal(){let e={...this.value,...this.objAttributes},t=["href","title","rel","target","text",...Object.keys(this.objAttributes)];return Object.keys(e).filter(a=>t.indexOf(a)===-1).forEach(a=>delete e[a]),e},html(){let e=document.createElement("a"),t=this.valueFinal,i;for(i in t)t[i]!=""&&i!="text"&&e.setAttribute(i,t[i]);return e.innerText=this.value.text,e},isShowRemoveLink(){var e;return((e=this.data)==null?void 0:e.href)&&this.isEditor},isChange(){let e="href"in this.value&&this.value.href.trim()!="";return this.isEditor&&(e&="text"in this.value&&this.value.text.trim()!=""),!!e}},watch:{show:function(e){e?this.value=this.copy(this.data):this.$emit("close_popup")},data:{deep:!0,immediate:!0,handler:function(e){this.attributes=this.getAttrCustom(e)}}},methods:{copy(e){return JSON.parse(JSON.stringify(e))},getAttrCustom(e){let t=["title","href","rel","target","text"];return Object.keys(e).filter(s=>t.indexOf(s)===-1).map(s=>s+"|"+e[s]).join(",")},blurGroupTypes(){this.$refs["group-type"].showFull=!1},focusInputLink(e){let t=this.$refs["group-type"];if(!t.showFull){let i=e.target,{top:a,height:s}=i.getBoundingClientRect(),n=window.innerHeight,r=n-a-s-10,o;a<r?(o=n-(a+s)-90,o=o<0?0:o>350?350:o,this.styleGroupTyles={top:`calc(${a+s-52}px)`,maxHeight:`${o}px`}):(o=a-82,o=o<0?0:o>350?350:o,this.styleGroupTyles={bottom:`calc(100vh - ${a-10}px)`,maxHeight:`${o}px`}),t.show=!0,t.showFull=!0}},updateSelect(e,t){if(t=="email"){this.value.href="mailto:"+e,this.$refs["group-type"].showFull=!1;return}if(t=="phone"){this.value.href="tel:"+e,this.$refs["group-type"].showFull=!1;return}this.value.href="/"+e,this.$refs["group-type"].showFull=!1},updateLink(){this.isEditor?this.$emit("update:link",{data:this.html,update:"href"in this.data}):this.$emit("update:link",this.valueFinal),this.show=!1},removeLink(){this.$emit("update:remove-link"),this.show=!1}}},pr={class:"absolute top-0 left-0 w-full h-full bg-white dark:bg-gray-700 dark:text-dark-color overflow-y-auto overflow-x-hidden pb-0.5"},mr={class:"p-4"},hr={key:0,class:"block mb-4 text-sm text-gray-700 dark:text-dark-color"},fr=d("span",{class:"block mb-0.5"},"Text",-1),gr={class:"relative block mb-4 text-sm text-gray-700 dark:text-dark-color"},br=d("span",{class:"block mb-0.5"},"Link",-1),yr={class:"flex items-center"},vr={class:"w-full"},kr=["disabled"],_r={class:"relative block mb-4 text-sm text-gray-700 dark:text-dark-color"},xr=d("span",{class:"block mb-0.5"},"Link title",-1),wr=d("p",{class:"mt-1 text-gray-400 text-xss"},"Used for accessibility and SEO",-1),Cr={class:"inline-flex items-center py-1 mb-1 cursor-pointer select-none"},Sr={class:"relative mr-1.5 min-w-5 h-5 border border-transparent"},Dr={class:"block w-full h-full border border-gray-300 rounded"},Mr=d("span",{class:"text-sm text-gray-700 dark:text-dark-color"},"Open this link in a new window",-1),Tr={class:"inline-flex items-center py-1 mb-4 cursor-pointer select-none"},Lr={class:"relative mr-1.5 min-w-5 h-5 border border-transparent"},Ir={class:"block w-full h-full border border-gray-300 rounded"},zr=d("span",{class:"text-sm text-gray-700 dark:text-dark-color"},"Add nofollow",-1),Vr={class:"relative block mb-4 text-sm text-gray-700 dark:text-dark-color"},Hr=d("span",{class:"block mb-0.5"},"Custom attributes",-1),Fr={key:0,class:"mx-4 my-5"};function jr(e,t,i,a,s,n){const r=y("GroupTypes"),o=y("ecom-icon"),l=y("Button"),p=y("PickerFooter"),h=y("PickerFrame"),m=ne("clickOutside");return u(),M(h,{show:s.show,header:n.headerFrame,position:i.position,onClose:t[9]||(t[9]=g=>s.show=!1)},{content:O(()=>{var g,_;return[d("div",pr,[d("div",mr,[n.isEditor?(u(),c("label",hr,[fr,I(d("input",{"onUpdate:modelValue":t[0]||(t[0]=w=>s.value.text=w),type:"text",class:"w-full h-8 px-3 py-2 border-gray-300 rounded shadow-sm rtransition sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 dark:focus:ring-transparent focus:border-gray-300",tabindex:"0"},null,512),[[U,s.value.text]])])):v("",!0),d("label",gr,[br,d("span",yr,[I((u(),c("span",vr,[I(d("input",{"onUpdate:modelValue":t[1]||(t[1]=w=>s.value.href=w),type:"text",class:"w-full h-8 px-3 py-2 dark:bg-dark dark:text-dark-color border-gray-300 rounded shadow-sm rtransition sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 dark:focus:ring-transparent focus:border-gray-300",placeholder:"Paste a link",tabindex:"1",onFocus:t[2]||(t[2]=(...w)=>n.focusInputLink&&n.focusInputLink(...w))},null,544),[[U,s.value.href]]),b(r,{ref:"group-type",style:T(s.styleGroupTyles),src:(_=(g=s.value)==null?void 0:g.href)!=null?_:"","onUpdate:select":n.updateSelect},null,8,["style","src","onUpdate:select"])])),[[m,n.blurGroupTypes]]),d("button",{type:"button",class:f(["ml-1 h-8 bg-white dark:bg-dark dark:text-dark-color border-md border p-2.5 rounded-md border-gray-300 flex items-center justify-center hover:bg-gray-100 transition",{"bg-gray-100 opacity-50":n.disabled}]),disabled:n.disabled,tabindex:"2",onClick:t[3]||(t[3]=w=>s.value.href="")},[b(o,{icon:s.icons.faXmark,class:"w-4 h-4 p-px text-white bg-gray-600 rounded-full"},null,8,["icon"])],10,kr)])]),d("label",_r,[xr,I(d("input",{"onUpdate:modelValue":t[4]||(t[4]=w=>s.value.title=w),type:"text",class:"w-full h-8 px-3 py-2 border-gray-300 dark:bg-dark dark:text-dark-color rounded shadow-sm rtransition sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 dark:focus:ring-transparent focus:border-gray-300",tabindex:"3"},null,512),[[U,s.value.title]]),wr]),d("label",Cr,[d("span",Sr,[I(d("input",{"onUpdate:modelValue":t[5]||(t[5]=w=>s.value.target=w),class:"absolute top-0 left-0 w-full h-full dark:bg-dark dark:text-dark-color opacity-0 z-1",type:"checkbox","true-value":"_blank","false-value":"",tabindex:"4"},null,512),[[re,s.value.target]]),d("span",Dr,[b(o,{icon:s.icons.faCheck,class:f(["absolute top-0 left-0 w-full h-full text-white transition duration-75 transform rounded bg-primary-600",n.newTab?"scale-100":"scale-0"])},null,8,["icon","class"])])]),Mr]),d("label",Tr,[d("span",Lr,[I(d("input",{"onUpdate:modelValue":t[6]||(t[6]=w=>s.value.rel=w),class:"absolute dark:bg-dark dark:text-dark-color top-0 left-0 w-full h-full opacity-0 z-1",type:"checkbox","true-value":"nofollow","false-value":"",tabindex:"4"},null,512),[[re,s.value.rel]]),d("span",Ir,[b(o,{icon:s.icons.faCheck,class:f(["absolute top-0 left-0 w-full h-full text-white transition duration-75 transform rounded bg-primary-600",n.nofollow?"scale-100":"scale-0"])},null,8,["icon","class"])])]),zr]),d("label",Vr,[Hr,I(d("input",{"onUpdate:modelValue":t[7]||(t[7]=w=>s.attributes=w),type:"text",placeholder:"key|value, key2|value2",class:"dark:bg-dark dark:text-dark-color w-full px-3 py-2 border-gray-300 rounded shadow-sm h-9 rtransition sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 dark:focus:ring-transparent focus:border-gray-300",tabindex:"3"},null,512),[[U,s.attributes]])])]),n.isShowRemoveLink?(u(),c("div",Fr,[b(l,{text:"Remove link",onClick:n.removeLink},null,8,["onClick"])])):v("",!0)])]}),footer:O(()=>[b(p,{"is-change":n.isChange,"text-select":n.textSelect,onClickCancel:t[8]||(t[8]=g=>s.show=!1),onClickSelect:n.updateLink},null,8,["is-change","text-select","onClickSelect"])]),_:1},8,["show","header","position"])}const Ct=C(wt,[["render",jr]]);wt.__docgenInfo={displayName:"InsertLink",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"'editor'"}},{name:"position",type:{name:"string"},defaultValue:{func:!1,value:"'absolute'"}}],events:[{name:"close_popup"},{name:"update:link",type:{names:["undefined"]}},{name:"update:remove-link"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/editor/InsertLink/InsertLink.vue"]};const St={name:"InsertLink",directives:{clickOutside:ue},components:{PickerFrame:ge,PickerFooter:be},props:{data:{type:Object,default(){return{}}},type:{type:String,default:"editor"},position:{type:String,default:"absolute"}},emits:["close_popup","update:metafield"],data(){return{show:!1,value:{},attributes:"",styleGroupTyles:{},icons:{faCheck:Q,faXmark:de}}},computed:{headerFrame(){return{title:"Insert Dynamic Sources",search:{show:!1,value:""}}},...J("dynamicSources",["metafileds","dynamicSource","loading","shopifyType"])},watch:{show:function(e){}},methods:{updateSources(){},truncateTitle(e){return e.length<=10?e:e.slice(0,10)+"..."},insertMeta(e){var a,s;const t=`<span data-meta-key="${e==null?void 0:e.node.key}" data-meta="product.metafields.${(a=e==null?void 0:e.node)==null?void 0:a.namespace}.${e==null?void 0:e.node.key}.value" data-title="${this.truncateTitle((s=e==null?void 0:e.node)==null?void 0:s.key)}" class="ecom-dynamic-meta"></span>`,i=document.createElement("span");i.classList.add("ecom-meta-editor"),i.innerHTML=` ${t} `,this.$emit("update:metafield",i),this.show=!1},insertSource(e){const t=`<span data-meta-key="${e.title}" data-meta="${e.key}" data-title="${this.truncateTitle(e.title)}" class="ecom-dynamic-meta"></span>`,i=document.createElement("span");i.classList.add("ecom-meta-editor"),i.innerHTML=` ${t} `,this.$emit("update:metafield",i),this.show=!1}}},Or={key:1},Er=["innerHTML"],Pr={key:0,class:"px-2"},Ar=["onClick"],Nr={key:1,class:"px-2"},Ur=["onClick"];function Br(e,t,i,a,s,n){const r=y("Loading"),o=y("PickerFrame");return u(),M(o,{show:s.show,header:n.headerFrame,position:i.position,onClose:t[0]||(t[0]=l=>s.show=!1)},{content:O(()=>{var l,p;return[e.loading?(u(),M(r,{key:0,type:"spin",size:8,class:"text-gray-800 dark:text-dark-color transition mt-10"})):(u(),c("div",Or,[d("h3",{innerHTML:e.shopifyType,class:"p-2 text-center uppercase"},null,8,Er),(l=e.dynamicSource)!=null&&l.length?(u(),c("ul",Pr,[(u(!0),c(k,null,z(e.dynamicSource,(h,m)=>(u(),c("li",{key:m,class:"py-2 cursor-pointer leading-4 text-sm line-clamp-2 hover:underline",onClick:g=>n.insertSource(h)},D(h==null?void 0:h.title),9,Ar))),128))])):v("",!0),(p=e.metafileds)!=null&&p.length?(u(),c("ul",Nr,[(u(!0),c(k,null,z(e.metafileds,(h,m)=>{var g;return u(),c("li",{key:m,class:"py-2 cursor-pointer leading-4 text-sm line-clamp-2 hover:underline",onClick:_=>n.insertMeta(h)},D((g=h==null?void 0:h.node)==null?void 0:g.name),9,Ur)}),128))])):v("",!0)]))]}),_:1},8,["show","header","position"])}const Rr=C(St,[["render",Br]]);St.__docgenInfo={displayName:"InsertLink",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"'editor'"}},{name:"position",type:{name:"string"},defaultValue:{func:!1,value:"'absolute'"}}],events:[{name:"close_popup"},{name:"update:metafield",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/editor/InsertDynamicSources/DynamicSources.vue"]};const Dt={name:"InsertLink",directives:{clickOutside:ue},components:{PickerFrame:ge,PickerFooter:be},props:{data:{type:Object,default(){return{}}},type:{type:String,default:"editor"},position:{type:String,default:"absolute"}},emits:["close_popup","update:content"],data(){return{show:!1,value:{},attributes:"",styleGroupTyles:{},icons:{faCheck:Q,faXmark:de},loading:!1,content:"",result:"",count:-1}},computed:{headerFrame(){return{title:"AI Content Generator",search:{show:!1,value:""}}}},watch:{},methods:{generate(){this.loading=!0,this.$worker.fetch(window.route("builder.generator"),{prompt:this.content},"POST").then(e=>{if(this.loading=!1,e.data.status==="success")this.result=e.data.data.trim(),this.count=e.data.count;else throw e.data.status==="error"?new Error(e.data.message):new Error("Invalid response")}).catch(e=>{this.loading=!1,this.$store.dispatch("global/flash",{type:"error",message:e.message,open:!0})})},eSelect(){this.$emit("update:content",this.result),this.eClose()},eClose(){this.show=!1,this.content="",this.result=""}}},Wr={key:1},Gr={class:"p-2 flex gap-2 flex-col"},Zr=d("label",{class:"text-sm text-form-title dark:text-dark-color font-semibold"}," Describe your request: ",-1),Yr=d("hr",{class:"h-0 border-b border-gray-300 dark:border-gray-600"},null,-1),qr=d("label",{class:"text-sm font-semibold text-form-title dark:text-dark-color"}," The result ",-1),Jr={key:1,class:"text-sm"},Xr=d("span",{class:"text-gray-500"},"Used: ",-1),Kr={class:"text-gray-700 dark:text-dark-color"},$r=d("p",{class:"w-full p-3 mb-3 text-xs font-light text-gray-600 border-l-4 border-yellow-500 shadow-sm bg-yellow-50"},[d("ul",{class:"list-disc pl-1"},[d("li",null," Our AI uses Chat GPT to generate content. "),d("li",null," This tool can be used in EComposer text element, to create content for your website, blog or social media "),d("li",null," We don't store or share any data with anyone and we're not responsible for the content generated by AI. Please use it as a recommended tool. ")])],-1);function Qr(e,t,i,a,s,n){const r=y("Loading"),o=y("Button"),l=y("PickerFooter"),p=y("PickerFrame");return u(),M(p,{show:s.show,header:n.headerFrame,position:i.position,onClose:t[3]||(t[3]=h=>s.show=!1)},{content:O(()=>[s.loading?(u(),M(r,{key:0,type:"spin",size:8,class:"text-gray-800 dark:text-dark-color transition mt-10"})):(u(),c("div",Wr,[d("div",Gr,[Zr,I(d("textarea",{"onUpdate:modelValue":t[0]||(t[0]=h=>s.content=h),placeholder:"Clearly describe your content ideas or requests, our AI will generate the suggested result.",class:"block w-full transition dark:text-dark-color dark:border-gray-600 dark:bg-dark rounded shadow-sm text-form-input border-form-border placeholder-form-input h-9 sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 dark:focus:ring-transparent focus:border-gray-300 min-h-40"},null,512),[[U,s.content]]),b(o,{text:"Generate",type:"primary",onClick:n.generate},null,8,["onClick"]),s.result?(u(),c(k,{key:0},[Yr,qr,I(d("textarea",{"onUpdate:modelValue":t[1]||(t[1]=h=>s.result=h),class:"block w-full transition dark:text-dark-color dark:border-gray-600 dark:bg-dark rounded shadow-sm text-form-input border-form-border placeholder-form-input h-9 sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 dark:focus:ring-transparent focus:border-gray-300 min-h-48"},null,512),[[U,s.result]])],64)):v("",!0),s.count>=0?(u(),c("p",Jr,[Xr,d("span",Kr,D(s.count)+"/ 50 requests/ day",1)])):v("",!0),$r])]))]),footer:O(()=>[b(l,{"is-change":!!s.result,onClickCancel:t[2]||(t[2]=h=>s.show=!1),onClickSelect:n.eSelect,textSelect:"Insert"},null,8,["is-change","onClickSelect"])]),_:1},8,["show","header","position"])}const el=C(Dt,[["render",Qr]]);Dt.__docgenInfo={displayName:"InsertLink",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"type",type:{name:"string"},defaultValue:{func:!1,value:"'editor'"}},{name:"position",type:{name:"string"},defaultValue:{func:!1,value:"'absolute'"}}],events:[{name:"close_popup"},{name:"update:content",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/editor/Generator.vue"]};const Mt={name:"Visit",props:{url:{type:String,default:""},maxWidth:{type:Number,default:210},info:{type:Object,default(){return{}}}},data(){return{show:!1,width:-1,infoData:this.copy(this.info),icons:{faTrash:te,faArrowUpRightFromSquare:_i}}},computed:{...J("global",["user"]),css(){let e={};return Object.keys(this.infoData).filter(t=>t!="width").forEach(t=>{e[t]=this.infoData[t]+"px"}),e["max-width"]=this.maxWidth+"px",e}},watch:{info:{deep:!0,handler:function(e){this.$nextTick(()=>{this.infoData=this.copy(e);let t=this.$refs.wrapper;this.show&&(this.width=t.clientWidth,this.setPos())})}}},methods:{copy(e){return JSON.parse(JSON.stringify(e))},setPos(){let{left:e,width:t}=this.infoData,i=e-(this.width-t)/2;if(i<=0)i=0;else if(i+this.width>this.maxWidth){let a=i+this.width-this.maxWidth;i=a>i?0:a-i}this.infoData.left=i},urlFull(e){var t;return e.startsWith("/")?"https://"+((t=this.user)==null?void 0:t.name)+e:e},emit(e){this.$emit("update:"+e),this.show=!1}}};const tl=["href"];function il(e,t,i,a,s,n){const r=y("ecom-icon");return u(),M(K,{"enter-active-class":"transition duration-300 ease-in-out transform","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition duration-100 ease-in-out transform","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:O(()=>[s.show?(u(),c("div",{key:0,ref:"wrapper",class:"absolute inline-flex items-center h-10 px-1 mt-1 text-sm bg-white dark:bg-dark dark:text-dark-color rounded-lg max-w-62 text-primary-500 shadow-popup z-10",style:T(n.css)},[i.url?(u(),c("a",{key:0,href:n.urlFull(i.url),class:"relative px-2 py-1 pr-5 truncate transition hover:text-blue-700",target:"_blank"},[B(D(i.url)+" ",1),b(r,{icon:s.icons.faArrowUpRightFromSquare,class:"absolute right-0 w-4 h-4 transform -translate-y-1/2 top-1/2"},null,8,["icon"])],8,tl)):v("",!0),d("a",{href:"#",class:"px-2 py-1 ml-1 text-sm transition rounded hover:text-blue-700",onClick:t[0]||(t[0]=ie(o=>n.emit("edit"),["prevent"]))}," Edit "),d("a",{href:"#",class:"px-2 py-1 transition rounded hover:text-blue-700",onClick:t[1]||(t[1]=ie(o=>n.emit("delete"),["prevent"]))},[b(r,{icon:s.icons.faTrash,class:"w-4 h-4"},null,8,["icon"])])],4)):v("",!0)]),_:1})}const nl=C(Mt,[["render",il]]);Mt.__docgenInfo={displayName:"Visit",exportName:"default",description:"",tags:{},props:[{name:"url",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"maxWidth",type:{name:"number"},defaultValue:{func:!1,value:"210"}},{name:"info",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/editor/Menu.vue"]};const Tt={name:"Editor",components:{Toolbar:Ro,ImportLink:Ct,ModifyMenu:nl,DynamicSources:Rr,Generator:el},props:{data:{type:String,default:""},type:{type:Number,default:2},field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{icons:{faChevronDown:xi,faPencil:Oe,faArrowsRotate:q,faTrash:te},value:"",html:"",editor:null,editorDoc:null,isfocus:!1,editSource:!1,itv:null,toolbar:{show:!1},selection:{selection:void 0,action:void 0,range:void 0,state:{},image:{node:void 0}},metadata:{images:[],menu:"",posMenu:{},maxWidthMenu:0},wasPaste:!1,srcdoc:`<html><head><meta http-equiv=Content-Type content="text/html; charset=UTF-8"><link rel="stylesheet" href="https://cdn.ecomposer.app/vendors/css/ecom-base.css"/><style>html{height:100%;}body{box-sizing: border-box;margin: 0;padding: 8px;height:100%;font-size:14px;line-height:20px;color:#111827;font-family:system-ui,-apple-system,'Segoe UI',Roboto,Helvetica,Arial,sans-serif,'Apple Color Emoji','Segoe UI Emoji'}iframe,img{max-width:100%}ol,ul{margin:0;margin-block-start:0;margin-block-end:0;margin-inline-start:0;margin-inline-end:0;padding-inline-start:20px}
                .ecom-dynamic-meta {
                    display: inline-block;
                    position: relative;
                    background: #f0f0f0;
                    padding-right: 2px;
                    border: 1px solid #c0b7b7;
                }
                .ecom-dynamic-meta:after {
                    content: attr(data-title);
                    padding-left: 20px;
                }
                .ecom-dynamic-meta::before {
                    content: '';
                    position: absolute;
                    left: 5px;
                    top: 2px;
                    width: 12px;
                    height: 14px;
                    background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224 512C100.3 512 0 476.2 0 432V80C0 35.82 100.3 0 224 0C347.7 0 448 35.82 448 80V432C448 476.2 347.7 512 224 512zM416 80.45C415.7 79.69 414.4 77.27 409.8 73.31C402.4 67.11 389.9 60.09 371.6 53.57C335.4 40.62 283.2 32 224 32C164.8 32 112.6 40.62 76.37 53.57C58.1 60.09 45.59 67.11 38.25 73.31C33.55 77.27 32.29 79.69 32 80.45V182.1C46.47 192.7 69.9 202.8 100.9 210.4C135.5 218.9 177.1 224 224 224C270 224 312.5 218.9 347.1 210.4C378.1 202.8 401.5 192.7 416 182.1V80.45zM416 219.5C398.8 228.4 377.9 235.8 354.8 241.5C317.3 250.7 272.2 256 224 256C175.8 256 130.7 250.7 93.22 241.5C70.11 235.8 49.18 228.4 32 219.5V310.1C46.47 320.7 69.9 330.8 100.9 338.4C135.5 346.9 177.1 352 224 352C270 352 312.5 346.9 347.1 338.4C378.1 330.8 401.5 320.7 416 310.1V219.5zM38.25 438.7C45.59 444.9 58.1 451.9 76.37 458.4C112.6 471.4 164.8 480 224 480C283.2 480 335.4 471.4 371.6 458.4C389.9 451.9 402.4 444.9 409.8 438.7C414.4 434.7 415.7 432.3 416 431.6V347.5C398.8 356.4 377.9 363.8 354.8 369.5C317.3 378.7 272.2 384 224 384C175.8 384 130.7 378.7 93.22 369.5C70.11 363.8 49.18 356.4 32 347.5V431.6C32.29 432.3 33.55 434.7 38.25 438.7zM416 431.4C416.1 431.3 416.1 431.3 416.1 431.3L416 431.4zM31.96 431.4C31.94 431.3 31.93 431.3 31.92 431.3L31.96 431.4zM31.96 80.56C31.93 80.65 31.92 80.7 31.92 80.7L31.96 80.56zM416.1 80.7C416.1 80.7 416.1 80.65 416 80.56z"/></svg>');}</style> </head> <body class="text-content ecom-html"></body></html>`}},computed:{showToolbar(){var e,t;return this.type>0&&((t=(e=this.field)==null?void 0:e.options)==null?void 0:t.toolbar)!==!1||this.alwayToolbar},alwayToolbar(){var e,t;return["short","full"].indexOf((t=(e=this.field)==null?void 0:e.options)==null?void 0:t.toolbar)>-1},shortToolbar(){var e,t;return((t=(e=this.field)==null?void 0:e.options)==null?void 0:t.toolbar)=="short"||this.type===1},minHeight(){var e,t,i;return(i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.height)!=null?i:""},dynamicSouce(){var e,t,i;return(i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.dynamic)!=null?i:!1},generator(){var e,t,i;return(i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.generator)!=null?i:!1},ObjLink(){if(!this.selection.range)return{};let e=this.selectionIsLink();return e?Se(e):{text:this.selection.range.toString()}},objImage(){return this.selection.image.node?Se(this.selection.image.node):{}}},watch:{data:{immediate:!0,handler:function(e){this.isEmit||(this.value=e!=null?e:"",this.html=e!=null?e:"",this.editorDoc&&(this.editorDoc.body.innerHTML=e!=null?e:""),this.clearSelection()),this.isEmit=!1}}},mounted(){this.$nextTick(()=>{var e;this.metadata.maxWidthMenu=(e=this.$refs.editor)==null?void 0:e.clientWidth})},methods:{onload(){!this.$refs.editor||(this.editor=this.$refs.editor,this.editorDoc=this.editor.contentDocument,this.editorDoc.body.innerHTML=this.value,this.editorDoc.designMode="on",this.editorDoc.body.oninput=this.inputEditor,this.editorDoc.body.onselectstart=this.selectstart,this.editorDoc.body.onclick=this.clickEditor,this.editorDoc.body.onblur=this.selectend,this.editorDoc.body.onkeydown=this.keyDown,this.editorDoc.body.onpaste=this.pasteContent)},inputEditor(e){var i;if(this.type===1&&e.keyCode===13)return e.preventDefault(),!1;let t=this.selection.state.codeFormat?(i=e.target.querySelector("xmp"))==null?void 0:i.innerHTML:e.target.innerHTML;this.html=t,this.$emit("update:data",t),this.isEmit=!0,this.type===2&&(e.target.scrollHeight>64&&e.target.scrollHeight<250&&this.minHeight===""?e.target.style.minHeight=e.target.scrollHeight+"px":e.target.scrollHeight<64&&this.minHeight===""&&(e.target.style.minHeight=""))},keyDown(e){(e.ctrlKey||e.metaKey)&&!e.shiftKey&&e.keyCode==86&&(this.wasPaste=!0,setTimeout(()=>{this.wasPaste=!1},5e3))},pasteContent(e){if(this.type==1&&P&&this.editorDoc){let i=(e.clipboardData||window.clipboardData).getData("text/plain")||"";i!==""&&(i=i.replace(/<[^>]*>/g,""),P.insertText(this.selection,i),this.editorDoc.body.dispatchEvent(new Event("input")),e.preventDefault())}},restoreRange(e=!0){let t=this.selection.range;if(!t)return!1;let i=this.selectionIsLink(),a=t;i&&e&&(a=this.editorDoc.createRange(),a.selectNodeContents(i)),this.editorDoc.getSelection().removeAllRanges(),this.editorDoc.getSelection().addRange(a)},updateColor(e){clearTimeout(this.itv),this.itv=setTimeout(()=>{e.action==="foreColor"?P==null||P.inserColor(this.selection,e.val):P==null||P.inserBackground(this.selection,e.val),this.editorDoc&&this.editorDoc.body.dispatchEvent(new Event("input"))},100)},eventAction(e){switch(this.selection.action=e,e){case"insertLink":this.$refs["insert-link"].show=!0;break;case"dynamicSources":this.$refs["dynamic-sources"].show=!0,this.$store.dispatch("dynamicSources/loadDynamicSources");break;case"contentGenerator":this.$refs.generator.show=!0;break;case"insertunorderedlist":case"insertorderedlist":P.insertOrderedlist(this.selection,this.value,e);break;case"removeFormat":P.removeFormat(this.selection),this.editorDoc&&this.editorDoc.body.dispatchEvent(new Event("input"));break;case"codeFormat":this.switchFormatCode(),this.selection.state[e]=!this.selection.state[e],this.editorDoc&&this.editorDoc.body.dispatchEvent(new Event("input"));break;default:if(this.restoreRange()===!1)return;P.insertHtmlTag(this.selection),this.editorDoc&&this.editorDoc.body.dispatchEvent(new Event("input")),this.selection.state[e]=!this.selection.state[e];break}},clearSelection(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():this.editorDoc.selection&&this.editorDoc.selection.empty()},getStateSelection(){[{tag:"b",action:"bold"},{tag:"i",action:"italic"},{tag:"u",action:"underline"},{tag:"ol",action:"insertorderedlist"},{tag:"ul",action:"insertunorderedlist"}].forEach(t=>{this.selection.state[t.action]=this.isSelectionInTag(t.tag)})},selectionIsLink(){var t;var e=this.selection.range.commonAncestorContainer;return e.nodeType==3&&(e=e.parentNode),(t=e.closest("a"))!=null?t:!1},isSelectionInTag(e){let i=this.editorDoc.getSelection().focusNode;for(;i&&i!=="BODY";){if((i==null?void 0:i.tagName)===e.toUpperCase())return!0;i=i==null?void 0:i.parentNode}return!1},setDataMenu(e){let t=this.$refs.modify,i=this.$refs.editor,a=i.offsetHeight,s=i.scrollTop,n=e.offsetTop+e.offsetHeight/(e.tagName=="IMG"?2:1)-s;n=n>a?a:n,this.metadata.posMenu={top:n,left:e.offsetLeft,width:e.offsetWidth},t.show=!0},onSelectionChange(){if(this.type==0)return;this.selection.selection=this.editorDoc.getSelection(),this.selection.range=this.editorDoc.getSelection().getRangeAt(0),this.getStateSelection();let e=this.selectionIsLink();if(e)this.metadata.menu=e.getAttribute("href"),this.setDataMenu(e),this.selection.action="insertLink";else{let t=this.$refs.modify;t.show=!1}},selectstart(){this.type!=0&&this.editorDoc.addEventListener("selectionchange",this.onSelectionChange)},selectend(){this.type!=0&&(this.editorDoc.removeEventListener("selectionchange",this.onSelectionChange),this.isfocus=!1,setTimeout(()=>{let e=this.$refs.modify;e&&(e.show=!1)},200))},removeFromMenu(){this.selection.action=="insertLink"?(P.removeLink(this.selection),this.editorDoc&&this.editorDoc.body.dispatchEvent(new Event("input"))):this.selection.action=="insertImage"&&(this.selection.image.node.remove(),this.editorDoc&&this.editorDoc.body.dispatchEvent(new Event("input")))},editFromMenu(){this.selection.action=="insertLink"?this.eventAction("insertLink"):this.selection.action=="insertImage"&&(this.$refs["insert-image"].show=!0)},editImage(e){if(e&&this.selection.image.node){var t=this.editorDoc.createElement("div");t.innerHTML=e,t=t.firstChild,this.selection.image.node.replaceWith(t),this.editorDoc&&this.editorDoc.body.dispatchEvent(new Event("input"))}},updateLink({data:e}){this.editorDoc.body.focus(),this.selection.range&&this.selection.range.deleteContents(),this.restoreRange(),P.insertLink(this.selection,e),this.editorDoc&&this.editorDoc.body.dispatchEvent(new Event("input"))},updateMetafield(e){this.editorDoc.body.focus(),this.selection.range&&(this.selection.range.deleteContents(),this.deleteSource()),this.restoreRange(),P.insertHTML(this.selection,e),this.editorDoc&&this.editorDoc.body.dispatchEvent(new Event("input"))},updateHTML(e){this.editorDoc.body.innerHTML=e,this.editorDoc&&this.editorDoc.body.dispatchEvent(new Event("input"))},clickEditor(e){this.isfocus=!0;let t=e.target;if(e.target&&e.target.classList.contains("ecom-dynamic-meta")?this.editSource=!0:this.editSource=!1,this.type<2)return;let i=t.closest("img");i&&(this.selection.image.node=i,this.metadata.menu="",this.setDataMenu(i),this.selection.action="insertImage")},switchFormatCode(){var e;if(!((e=this.editorDoc)!=null&&e.body))return!1;if(this.selection.state.codeFormat){const t=this.editorDoc.body.querySelector("xmp");t&&(this.editorDoc.body.innerHTML=t.innerHTML)}else{const t=document.createElement("xmp");t.style.display="contents",t.style.whiteSpace="inherit",t.innerHTML=this.editorDoc.body.innerHTML,this.editorDoc.body.innerHTML="",this.editorDoc.body.appendChild(t)}},deleteSource(){var e;if(this.selection.range){const t=this.selection.range;if(!t)return;let a=t.cloneContents().querySelector(".ecom-meta-editor"),s=this.selection.selection.focusNode;if(!a){for(;s&&s!=="BODY";){if((e=s==null?void 0:s.classList)!=null&&e.contains("ecom-meta-editor")){a=s;break}s=s==null?void 0:s.parentNode}s&&(s.parentNode.removeChild(s),t.deleteContents())}}}}};const sl={class:"inline-block w-full"},al={class:"relative w-full"},ol=["data-type","srcdoc"],rl=d("div",{class:"absolute top-0 rounded-b pointer-events-none bottom-px left-px right-px z-1"},null,-1),ll=["innerHTML"],dl=["data-tooltip"],ul={key:2,class:"flex text-sm items-center justify-center mt-2 gap-2"};function cl(e,t,i,a,s,n){var g;const r=y("Toolbar"),o=y("ImportLink"),l=y("DynamicSources"),p=y("Generator"),h=y("ecom-icon"),m=y("ModifyMenu");return u(),c("div",sl,[n.showToolbar?(u(),c(k,{key:0},[s.toolbar.show||n.alwayToolbar?(u(),M(r,{key:0,ref:"toolbar",type:n.shortToolbar?1:2,state:s.selection.state,field:i.field,onSelect:t[0]||(t[0]=_=>n.eventAction(_)),onUpdateColor:t[1]||(t[1]=_=>n.updateColor(_))},null,8,["type","state","field"])):v("",!0),b(o,{ref:"insert-link",data:n.ObjLink,"onUpdate:link":n.updateLink,"onUpdate:removeLink":n.removeFromMenu},null,8,["data","onUpdate:link","onUpdate:removeLink"]),n.dynamicSouce?(u(),M(l,{key:1,ref:"dynamic-sources","onUpdate:metafield":n.updateMetafield},null,8,["onUpdate:metafield"])):v("",!0),n.generator?(u(),M(p,{key:2,ref:"generator","onUpdate:content":n.updateHTML},null,8,["onUpdate:content"])):v("",!0)],64)):(u(),c(k,{key:1},[],64)),d("div",al,[d("iframe",{class:f(["editor w-full text-sm transition transform -translate-y-px bg-white dark:bg-gray-100 dark:text-dark-color border shadow-sm ecom-textarea-focus text-form-input border-form-border placeholder-form-input editor h-9 focus:outline-none focus:ring-0",[(g=s.toolbar)!=null&&g.show?"rounded-b":"rounded"]]),style:T("min-height:"+n.minHeight+"px"),"data-type":i.type,srcdoc:s.srcdoc,ref:"editor",onLoad:t[2]||(t[2]=(..._)=>n.onload&&n.onload(..._))},null,46,ol),rl,i.field.placeholder&&!s.html?(u(),c("span",{key:0,class:"absolute text-sm text-gray-500 dark:text-dark-color pointer-events-none top-2 left-3 right-3 truncate",innerHTML:i.field.placeholder},null,8,ll)):(u(),c(k,{key:1},[],64)),n.showToolbar&&!n.alwayToolbar?(u(),c("button",{key:2,type:"button",class:f(["absolute transform text-gray-600 cursor-pointer transition rounded-full bg-gray-100 hover:bg-gray-200 dark:bg-dark dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark top-0.5 right-1 p-1.5 w-7 h-7 flex items-center justify-center",[s.toolbar.show?"text-red-600":"",s.isfocus?" hidden":""]]),"data-tooltip":(s.toolbar.show?"Hide":"Show")+" toolbar",onClick:t[3]||(t[3]=_=>s.toolbar.show=!s.toolbar.show)},[b(h,{class:"h-3 w-3",icon:s.icons[s.toolbar.show?"faChevronDown":"faPencil"]},null,8,["icon"])],10,dl)):(u(),c(k,{key:3},[],64)),n.showToolbar?(u(),M(m,{key:4,ref:"modify",url:s.metadata.menu,info:s.metadata.posMenu,"max-width":s.metadata.maxWidthMenu,"onUpdate:delete":n.removeFromMenu,"onUpdate:edit":n.editFromMenu},null,8,["url","info","max-width","onUpdate:delete","onUpdate:edit"])):(u(),c(k,{key:5},[],64))]),s.editSource?(u(),c("div",ul,[d("button",{class:"inline-flex items-center px-2 py-2 border border-transparent shadow-sm text-xs font-medium rounded-md text-white bg-gray-600 dark:bg-dark dark:border-transparent dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 group gap-1",onClick:t[4]||(t[4]=_=>n.eventAction("dynamicSources"))},[b(h,{class:"h-3 w-3",icon:s.icons.faArrowsRotate},null,8,["icon"]),B(" Change source ")]),d("button",{class:"inline-flex items-center px-2 py-2 border border-transparent shadow-sm text-xs font-medium rounded-md bg-white dark:bg-dark dark:border-transparent dark:hover:bg-gray-600 dark:text-dark-color border-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 group gap-1",onClick:t[5]||(t[5]=(..._)=>n.deleteSource&&n.deleteSource(..._))},[b(h,{class:"h-3 w-3",icon:s.icons.faTrash},null,8,["icon"]),B(" Delete source ")])])):v("",!0)])}const xe=C(Tt,[["render",cl]]);Tt.__docgenInfo={displayName:"Editor",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"type",type:{name:"number"},defaultValue:{func:!1,value:"2"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/editor/Editor.vue"]};const Lt={name:"EditorField",components:{EditorComponent:xe},props:{data:{type:String,default:""},field:{type:Object,default(){return{}}}},emits:["update:data"]};function pl(e,t,i,a,s,n){const r=y("EditorComponent");return u(),M(r,{data:i.data,field:i.field,type:2,"onUpdate:data":t[0]||(t[0]=o=>e.$emit("update:data",o))},null,8,["data","field"])}const ml=C(Lt,[["render",pl]]);Lt.__docgenInfo={displayName:"EditorField",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/editor/Editor.vue"]};const hl=Object.freeze(Object.defineProperty({__proto__:null,default:ml},Symbol.toStringTag,{value:"Module"})),It={name:"GroupField",mixins:[ye],props:{data:Array,field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{tabOpened:-1,values:[],isWatch:!0,isEmit:!1,drag:{axis:"y"},posPopover:{},openMenu:!1,id:this.$helpers.randid(),faCirclePlus:wi,faClone:Ci,faTrashCan:Si,faChevronRight:Di}},computed:{dir(){return window.document.querySelector("html").getAttribute("dir")==="rtl"?"left-2":"right-px"},isClearAll(){var e,t,i;return(i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.is_clear_all)==null||i?!0:this.values.length>1},btnAddText(){var e,t,i;return(i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.add_text)!=null?i:"Add item"},params(){var e,t;return(t=(e=this.field)==null?void 0:e.params)!=null?t:[]},max(){var e,t;return(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.max},customTypes(){let e={};return this.params.forEach(t=>{"settings"in t&&"type"in t&&(e[t.type]={name:t.name,max:t.max})}),e},nullCustomType(){return!Object.keys(this.customTypes).length},count_block(){if(this.nullCustomType)return{normal:this.values.length};{let e={};for(let t in this.customTypes)e[t]=this.values.filter(i=>i.type===t).length;return e}}},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.isWatch&&(this.isEmit=!1,this.values=e||[]),this.isWatch=!0}},values:{immediate:!0,deep:!0,handler:function(e){this.isEmit&&(this.isWatch=!1,this.$emit("update:data",e)),this.isEmit=!0}}},methods:{setid(e){this.values[e].id===void 0&&(this.values[e].id=this.$helpers.randid())},opended(e){return this.data.tabOpened===e},hasChildren(e){var t,i,a;return this.nullCustomType?Object.keys((t=this.params)!=null?t:{}).length>0:(a=(i=this.params.filter(s=>s.type===e)[0])==null?void 0:i.settings)==null?void 0:a.length},classBtnHeader(e){return this.opended(e)?"text-white hover:bg-primary-600":"text-gray-700 hover:bg-gray-50 dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark"},limitBlock(e){var t;if(this.nullCustomType){if(this.max!==void 0)return this.max-this.count_block.normal}else if(((t=this.customTypes[e])==null?void 0:t.max)!==void 0)return this.customTypes[e].max-this.count_block[e]},acceptAdd(e){return e!==void 0&&(this.limitBlock(e)===void 0||this.limitBlock(e)>0)},acceptAddIndex(e){let t=this.values[e],i="type"in t&&"settings"in t?t.type:"normal";return this.acceptAdd(i)},textLimit(e){let t=this.limitBlock(e);if(t!==void 0)return`${t}`},isCustomType(e){return"type"in e&&"settings"in e},paramByType(e){var t,i;return(i=(t=this.params.filter(a=>a.type===e)[0])==null?void 0:t.settings)!=null?i:[]},title(e,t){var i,a,s,n,r,o,l,p,h,m,g;if(this.isCustomType(e))return(i=this.customTypes[e.type].name)!=null?i:"Item #"+(t+1);{if(e!=null&&e.title)return e.title.length<=30?e.title:e.title.slice(0,30)+"...";if(e!=null&&e.label)return e.label.length<=30?e.label:e.label.slice(0,30)+"...";if(e!=null&&e.name)return e.name.length<=30?e.name:e.name.slice(0,30)+"...";let _=`Item #${t+1}`;if(((a=this==null?void 0:this.field)==null?void 0:a.title_unique)===!1)return _;if(((s=this==null?void 0:this.field)==null?void 0:s.title_unique)&&((r=e[(n=this==null?void 0:this.field)==null?void 0:n.title_unique])==null?void 0:r.length)>0)_=e[(o=this==null?void 0:this.field)==null?void 0:o.title_unique];else{if(((l=this==null?void 0:this.field)==null?void 0:l.params[0].title_unique)&&((h=e[(p=this==null?void 0:this.field)==null?void 0:p.params[0].name])==null?void 0:h.length)>0)return _=e[(m=this==null?void 0:this.field)==null?void 0:m.params[0].name];!((g=this==null?void 0:this.field)!=null&&g.title_unique)&&e&&typeof e=="object"&&Object.keys(e).forEach(w=>{_===`Item #${t+1}`&&typeof e[w]=="string"&&e[w].length>0&&!e[w].includes("ecom-")&&(_=e[w])})}return _}},toggleOpen(e,t){this.hasChildren(t)&&(this.data.tabOpened=this.opended(e)?-1:e)},addNewItem(e,t){if(!this.nullCustomType&&t){let a=t.target.closest("button"),s=a.getBoundingClientRect(),n=s.top-s.height/2,r=window.innerHeight-70,o=n<r/2?"bottom":"top",l=this.$helpers.intBetween(o==="top"?n-70-s.height/2:r-n-s.height/2,0,300);o==="top"?(this.posPopover.top="auto",this.posPopover.bottom="100%"):(this.posPopover.bottom="auto",this.posPopover.top="100%"),this.posPopover.maxHeight=l+"px",this.openMenu=!0,document.addEventListener("click",this.doCloseMenu)}let i;if(this.acceptAdd(e)&&(this.nullCustomType?i={}:e&&typeof e=="string"&&(i={type:e,settings:{}})),i!==void 0){let a=this.$helpers.copy(i);delete a.id,this.values.splice(this.values.length,0,a),this.data&&(this.data.tabOpened=this.values.length-1)}e!==null&&(this.openMenu=!1)},doCloseMenu(e){(e===void 0||!e.target.closest("."+this.id))&&(this.openMenu=!1,document.removeEventListener("click",this.doCloseMenu))},duplicateValue(e){if(this.acceptAddIndex(e)){let t=this.$helpers.copy(this.values[e]);delete t.id,this.values.splice(e,0,t),this.data.tabOpened=e+1}},onMouseDown(e){this.mouseDownHandler(e)},cbEndDrag(e){if(this.hasSorted&&e.before&&e.after){let t=parseInt(e.before[0]),i=parseInt(e.after[0]);Math.min(t,i)<=this.data.tabOpened&&Math.max(t,i)>=this.data.tabOpened&&(t<i?this.data.tabOpened=this.data.tabOpened===t?i:this.data.tabOpened-1:this.data.tabOpened=this.data.tabOpened===t?i:this.data.tabOpened+1),this.values.splice(i,0,this.values.splice(t,1)[0])}}},mounted(){!this.data||typeof this.data!="object"||(Object.defineProperty(this.data,"tabOpened",{enumerable:!1,writable:!0}),this.data.tabOpened=-1)}};const fl={class:"relative ecom-group-items"},gl=["onClick"],bl=["innerHTML"],yl=["onClick"],vl=["onClick"],kl=["onClick"],_l=d("svg",{class:"w-3 h-3 -ml-1 -mr-2 transition dark:text-dark-color dark:hover:text-primary-600 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1),xl=d("svg",{class:"w-3 h-3 -mr-1 transition dark:text-dark-color dark:hover:text-primary-600 fill-current",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[d("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1),wl=[_l,xl],Cl={class:"text-center"},Sl={class:"relative"},Dl=["innerHTML"],Ml={key:0,class:"ml-1 text-xs leading-5"},Tl=["onClick"],Ll=["innerHTML"],Il=["data-tooltip","innerHTML"];function zl(e,t,i,a,s,n){const r=y("ecom-icon"),o=y("Fields");return u(),c("div",{class:f(["mt-2",s.id])},[d("div",fl,[(u(!0),c(k,null,z(s.values,(l,p)=>{var h;return u(),c("div",{key:l,class:"bg-white dark:bg-gray-700 dark:text-dark-color ecom-group-item item flex flex-col items-center justify-center"},[d("div",{class:f(["relative flex items-center text-gray-500 dark:text-dark-color transition header-group group h-9 border border-opacity-50 w-full hover:bg-coolGray-50 dark:hover:bg-dark dark:bg-dark",n.opended(p)?"border-b-0 rounded-t border-primary-600 dark:border-gray-500":"mb-3 rounded border-gray-400"])},[d("div",{class:"flex items-center w-full pl-5 text-sm truncate transition cursor-pointer select-none h-9 px-2",onClick:m=>n.toggleOpen(p,l==null?void 0:l.type)},[d("span",{class:f(["truncate transition-all capitalize duration-75 text-form-title dark:text-dark-color line-clamp-1",n.opended(p)?"w-6/10":"item-hover:w-6/10"]),innerHTML:n.title(l,p)},null,10,bl)],8,gl),d("button",{type:"button",class:f(["absolute flex items-center ml-1 rounded left-px dark:hover:bg-dark dark:hover:text-primary-600",n.opended(p)?"hover:bg-form-active-hover":n.hasChildren(l==null?void 0:l.type)?"hover:bg-form-bg-hover":"cursor-default"]),onClick:m=>n.toggleOpen(p,l==null?void 0:l.type)},[b(r,{icon:s.faChevronRight,class:f(["w-3 h-3 -mt-0.5 transform rotate-0 text-form-title dark:text-dark-color fill-current",[n.opended(p)?"rotate-90":"rotate-0",n.hasChildren(l==null?void 0:l.type)?"":"opacity-30"]])},null,8,["icon","class"])],10,yl),((h=s.values[p])==null?void 0:h.control)!==!1?(u(),c("div",{key:0,class:f(["absolute flex px-2",n.dir])},[d("button",{type:"button",class:f(["text-form-title dark:text-dark-color dark:hover:bg-dark dark:hover:text-primary-600 opacity-0 hover:bg-form-bg-hover flex items-center rounded justify-center p-1.5 focus:outline-none focus:ring-0 transition",[e.isDraggingStarted?"":"group-hover:opacity-100",n.acceptAddIndex(p)?"":"hidden",,{"opacity-100 hover:bg-form-active-hover":n.opended(p)}]]),title:"Clone",onClick:m=>n.duplicateValue(p)},[b(r,{icon:s.faClone,class:"w-3 h-3 p-0.5"},null,8,["icon"])],10,vl),n.isClearAll?(u(),c("button",{key:0,type:"button",class:f(["text-form-title dark:text-dark-color flex opacity-0 hover:bg-form-bg-hover dark:hover:bg-dark items-center rounded justify-center p-1.5 focus:outline-none focus:ring-0",{"opacity-100 hover:bg-form-active-hover":n.opended(p),"group-hover:opacity-100":!e.isDraggingStarted}]),title:"Delete",onClick:m=>s.values.splice(p,1)},[b(r,{icon:s.faTrashCan,class:"w-3 h-3 p-0.5 dark:text-dark-color dark:hover:text-primary-600 fill-current"},null,8,["icon"])],10,kl)):v("",!0),d("button",{type:"button",class:f(["relative flex items-center p-2 transition rounded opacity-0 hover:bg-form-bg-hover dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark ecom-mouse-down cursor-grab text-form-secondary",{"opacity-100 hover:bg-form-active-hover":n.opended(p),"group-hover:opacity-100":!e.isDraggingStarted}]),onMousedown:t[0]||(t[0]=(...m)=>n.onMouseDown&&n.onMouseDown(...m))},wl,34)],2)):v("",!0)],2),n.opended(p)?(u(),M(o,{key:0,class:"w-full pt-3 mb-3 border border-primary-600 dark:border-gray-500 rounded-b border-opacity-70 pb-3 dark:bg-gray-700",deep:1,ispop:!0,data:n.nullCustomType?s.values[p]:s.values[p].settings,fields:n.nullCustomType?n.params:n.paramByType(l.type)},null,8,["data","fields"])):v("",!0)])}),128))]),d("div",Cl,[d("div",Sl,[d("div",null,[d("button",{type:"button",class:f(["flex items-center w-full p-2 text-sm bg-white dark:bg-gray-700 dark:text-dark-color rounded text-primary-600 hover:text-primary-800 hover:bg-gray-100",{"opacity-50 pointer-events-none":!n.acceptAdd("")}]),onClick:t[1]||(t[1]=l=>n.addNewItem(null,l))},[b(r,{icon:s.faCirclePlus,class:"w-3 h-3 p-px mr-1 ml-2.5"},null,8,["icon"]),d("span",{class:"text-xm",innerHTML:n.acceptAdd("")?n.btnAddText:"Limited"},null,8,Dl),n.nullCustomType&&n.acceptAdd("")?(u(),c("span",Ml,[n.textLimit("normal")?(u(),c(k,{key:0},[B("("+D(n.textLimit("normal"))+")",1)],64)):v("",!0)])):v("",!0)],2)]),!n.nullCustomType&&s.openMenu?(u(),c("ul",{key:0,class:"absolute max-w-4xl min-w-full overflow-y-auto mb-2 py-1.5 text-left transform -translate-x-1/2 bg-white dark:bg-dark dark:text-dark-color shadow-lg rounded transition ring-1 ring-black ring-opacity-10 top-full left-1/2 z-20",ref:"popover-add",style:T(s.posPopover)},[(u(!0),c(k,null,z(n.customTypes,(l,p,h)=>(u(),c("li",{key:p,class:f(["px-3 py-2 text-sm text-gray-700 truncate transition cursor-pointer hover:text-gray-700 hover:bg-gray-100 dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark",{"border-b border-gray-200 dark:border-gray-600":h<Object.keys(n.customTypes).length-1,"opacity-50 pointer-events-none":!n.acceptAdd(p)}]),onClick:m=>n.addNewItem(p)},[d("span",{innerHTML:l.name},null,8,Ll),n.textLimit(p)?(u(),c("span",{key:0,class:"ml-2 h-4 w-4 text-center rounded-xl bg-gray-200 float-right mt-0.5 text-xs text-gray-600 dark:text-dark-color","data-tooltip":n.textLimit(p)>0?"Max adding":"Limited","data-tooltip-location":"left",innerHTML:n.textLimit(p)},null,8,Il)):v("",!0)],10,Tl))),128))],4)):v("",!0)])])],2)}const Vl=C(It,[["render",zl]]);It.__docgenInfo={exportName:"default",displayName:"GroupField",description:"",tags:{},props:[{name:"data",type:{name:"array"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/group/Group.vue","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/mixins/drag.ts"]};const Hl=Object.freeze(Object.defineProperty({__proto__:null,default:Vl},Symbol.toStringTag,{value:"Module"})),zt={name:"Line"},Fl={class:"h-0 border-b border-gray-300 dark:border-gray-600"};function jl(e,t,i,a,s,n){return u(),c("hr",Fl)}const Ol=C(zt,[["render",jl]]);zt.__docgenInfo={displayName:"Line",exportName:"default",description:"",tags:{},sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/line/Line.vue"]};const El=Object.freeze(Object.defineProperty({__proto__:null,default:Ol},Symbol.toStringTag,{value:"Module"})),Vt={name:"LinkField",components:{InsertLink:Ct},props:{data:{type:Object,default(){return{}}},field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{values:{},isWatch:!0,icons:{faGear:He},isEmit:!1}},watch:{data:{immediate:!0,deep:!0,handler:function(e){this.isWatch&&(this.isEmit=!1,this.values=this.$helpers.copy(e)),this.isWatch=!0}},values:{immediate:!0,deep:!0,handler:function(e){this.isEmit&&(this.isWatch=!1,this.$emit("update:data",e)),this.isEmit=!0}}},methods:{showInsertLink(){let e=this.$refs["insert-link"];e&&(e.show=!0)},updateLink(e){this.values=e}}},Pl={class:"relative flex items-center divide-x divide-gray-300 border-form-border rounded border"};function Al(e,t,i,a,s,n){var l,p,h;const r=y("ecom-icon"),o=y("InsertLink");return u(),c("div",Pl,[I(d("input",{"onUpdate:modelValue":t[0]||(t[0]=m=>s.values.href=m),type:"text",placeholder:"https://your-link.com",class:f(["block w-full pr-10 truncate transition border-none rounded-l shadow-sm text-form-input dark:text-dark-color dark:bg-dark placeholder-form-input sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 dark:focus:ring-transparent focus:border-gray-300",(l=i.field.options)!=null&&l.oneline?"h-7-5":"h-9"])},null,2),[[U,s.values.href]]),b(r,{icon:s.icons.faGear,class:f(["p-2 text-gray-500 dark:text-dark-color transition cursor-pointer w-4 hover:text-gray-600 dark:hover:text-primary-600",(p=i.field.options)!=null&&p.oneline?"h-7-5":"h-4"]),onClick:n.showInsertLink},null,8,["icon","class","onClick"]),b(o,{ref:"insert-link",data:s.values,position:((h=i.field.options)==null?void 0:h.position)||"absolute",type:"field","onUpdate:link":n.updateLink},null,8,["data","position","onUpdate:link"])])}const Nl=C(Vt,[["render",Al]]);Vt.__docgenInfo={displayName:"LinkField",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/link/Link.vue"]};const Ul=Object.freeze(Object.defineProperty({__proto__:null,default:Nl},Symbol.toStringTag,{value:"Module"})),Ht={name:"ParagraphField",props:{field:{type:Object,default(){return{}}}},computed:{content(){var e,t;return this.$helpers.markdown((t=(e=this.field)==null?void 0:e.content)!=null?t:"")}}},Bl=["innerHTML"];function Rl(e,t,i,a,s,n){return u(),c("div",{class:"text-sm text-gray-500 dark:text-dark-color",innerHTML:n.content},null,8,Bl)}const Wl=C(Ht,[["render",Rl]]);Ht.__docgenInfo={displayName:"ParagraphField",exportName:"default",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/paragraph/Paragraph.vue"]};const Gl=Object.freeze(Object.defineProperty({__proto__:null,default:Wl},Symbol.toStringTag,{value:"Module"})),Ft={name:"PickerModify",components:{},provide:{teleport_id:".ecom-picker--modify"},mixins:[ee],props:{fields:{type:Array,default(){return[]}},data:{type:Object,default(){return{}}},cl:{type:String,default:""},noHover:{type:Boolean,default:!1}},data(){return{icons:{faPencil:Oe}}},emits:["update:modify"],watch:{data:{deep:!0,handler(){this.$emit("update:modify")}}}},Zl={key:0,class:"absolute z-10 mt-2 bg-white dark:bg-dark dark:text-dark-color top-full -right-1 text-left ecom-picker--modify"},Yl={class:"inline-block w-64 bg-white dark:bg-dark dark:text-dark-color rounded shadow-popup"},ql=d("svg",{viewBox:"0 0 213.3 213.3",class:"absolute top-0 w-4 h-4 mr-10 -mt-3 transform rotate-180 right-10 fill-current"},[d("polygon",{class:"shadow-xxl",points:"0,53.333 106.667,160 213.333,53.333"})],-1);function Jl(e,t,i,a,s,n){const r=y("ecom-icon"),o=y("Fields");return u(),c("div",{class:f(e.id)},[d("button",{class:f([[e.isopen?"bg-gray-200 z-10":"opacity-0 transition-all",i.noHover?"":"group-hover:opacity-100",i.cl],"p-2.5 text-gray-600 transition border-0 rounded hover:bg-gray-200 dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark focus:outline-none focus:ring-0"]),onClick:t[0]||(t[0]=(...l)=>e.open&&e.open(...l))},[b(r,{icon:s.icons.faPencil,class:"w-4 h-4"},null,8,["icon"])],2),b(K,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-90 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-90 opacity-0"},{default:O(()=>[e.isopen?(u(),c("div",Zl,[d("div",Yl,[ql,b(o,{class:"py-4 p-3",deep:1,data:i.data,fields:i.fields},null,8,["data","fields"])])])):v("",!0)]),_:1})],2)}const Xl=C(Ft,[["render",Jl]]);Ft.__docgenInfo={exportName:"default",displayName:"PickerModify",description:"",tags:{},props:[{name:"fields",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"cl",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"noHover",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"update:modify"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/mixins/popmenu.ts","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/picker/PickerModify.vue"]};const jt={name:"PickerPreview",components:{PickerModify:Xl},mixins:[ee,ye,Mi],props:{valueProp:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},emits:["update:temp","update:image","select-item","update:modify"],data(){return{index:-1,drag:{axis:"y"},showEditAlt:this.options.multiple,currentData:{},size:{},dragging:!1,icons:{faCheck:Q,faTrash:te},position_focal:{top:0,left:0,transform:"translate(-50%, -50%)"}}},computed:{values:{get(){return this.valueProp},set(e){this.$emit("update:image",e)}},isSingle(){return!this.options.multiple},checkShopifyPicker(){return["menu","blog","article","product","collection"].indexOf(this.options.type)>-1},strSize(){let e="";return"width"in this.size?this.size.width+" x "+this.size.height:e}},watch:{values:{deep:!0,immediate:!0,handler(){this.getSizeImage()}}},methods:{setValuePosition(e,t){this.position_focal.top=e,this.position_focal.left=t},setPosition(e){const t=this.$refs.image_popup;if(!t)return;const{left:i,bottom:a,width:s,height:n}=t.getBoundingClientRect();let r=e.clientX,o=e.clientY,l=(r-i)/s*100,p=100-(a-o)/n*100;this.setValuePosition(p,l)},dragFocalPoint(e){e.preventDefault(),e.stopPropagation(),this.$refs.image_popup.addEventListener("mousemove",this.setPosition)},onMouseUp(e){e.stopPropagation(),this.$refs.image_popup.removeEventListener("mousemove",this.setPosition)},changePositionFocalPoint(e){const t=this.$refs.focal__point;!t||(t.classList.remove("hidden"),this.$refs.btn_enable.innerHTML="Remove focal point",this.setPosition(e))},saveSet(){this.valueProp[0].top=this.position_focal.top,this.valueProp[0].left=this.position_focal.left;let e=this.$refs.inputEditAlt.value;this.values[0].name=e,this.showEditAlt=!1,this.isopen=!1},cancelSet(){this.position_focal.top=this.values[0].top,this.position_focal.left=this.values[0].left,this.isopen=!1},mouseOverBtn(){!this.$refs.focal__point||(this.position_focal.transform+="scale(1.5)")},mouseOutBtn(){!this.$refs.focal__point||(this.position_focal.transform="translate(-50%, -50%)")},enableFocalPoint(e){const t=this.$refs.focal__point;if(!t)return;if(t.classList.contains("hidden")){this.setValuePosition(50,50),t.classList.remove("hidden"),e.target.innerHTML="Remove focal point";return}t.classList.add("hidden"),e.target.innerHTML="Add focal point",this.setValuePosition(null,null)},classItem(){let e="w-full ";return this.isSingle?e+=" flex-col justify-center":e+="transition-bg p-1 transition hover:bg-white dark:bg-dark dark:text-dark-color dark:hover:bg-dark hover:bg-opacity-80 group rounded mb-1",e},fileName(e){let t=this.$helpers.file.name(e);return t||e},deleteItem(e){e>-1&&(this.values.splice(e,1),this.$emit("update:temp"))},dragItem(e){this.dragging=!0,document.onmouseup=()=>{this.dragging=!1},this.options.type!=="font"&&!this.isSingle&&this.mouseDownHandler(e)},cbEndDrag(e){if(this.hasSorted&&e.before&&e.after){let t=e.before[0],i=e.after[0];this.values.splice(i,0,...this.values.splice(t,1))}},getSizeImage(){var e;if(this.isSingle&&this.options.type==="image"&&((e=this.values)==null?void 0:e.length)){let t=this.values[0].value||this.values[0].thumbnail,i=new Image;i.onload=()=>{let{width:a,height:s}=i;this.size={width:a,height:s}},i.src=t}}}};const Kl={class:"flex flex-wrap -mb-px rounded-t"},$l=["title"],Ql=["onClick"],ed=["href"],td={key:1,class:"px-1 text-gray-800 truncate pointer-events-none text-md"},id=["innerHTML"],nd=["src","alt","title"],sd=["innerHTML"],ad=["onClick"],od=d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-3 h-4 -mr-1 text-gray-500 dark:text-dark-color transition opacity-0 group-hover:opacity-100"},[d("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1),rd=d("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-3 h-4 -ml-1 text-gray-500 dark:text-dark-color transition opacity-0 group-hover:opacity-100"},[d("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})],-1),ld=[od,rd],dd={key:0,class:"absolute top-0 bottom-0 left-0 right-0 border-2 border-transparent rounded cursor-pointer ecom-picker-ring z-1 border-primary-600 ring-offset-1"},ud=d("span",null,"Edit",-1),cd=[ud],pd={key:0,class:"fixed w-full h-full left-0 ecom-fields__focal-wrapper right-0 top-0 z-10 mb-1 bottom-full ecom-fields__popup"},md={class:"absolute ecom-fields__focal-inner w-2/5 left-0 right-0 bg-white dark:bg-dark dark:text-dark rounded shadow-popup"},hd={class:"block px-5 py-4 border-b border-gray-300 border-solid"},fd={class:"flex justify-between"},gd=d("div",{class:"text-xl"},[d("h2",null,"Preview and edit")],-1),bd=d("svg",{class:"stroke-current",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"32",height:"32",viewBox:"0 0 32 32"},[d("g",{id:"icomoon-ignore"}),d("path",{d:"M10.722 9.969l-0.754 0.754 5.278 5.278-5.253 5.253 0.754 0.754 5.253-5.253 5.253 5.253 0.754-0.754-5.253-5.253 5.278-5.278-0.754-0.754-5.278 5.278z",fill:"#000000"})],-1),yd=[bd],vd={class:"overflow-y-auto"},kd={class:""},_d={class:"p-5"},xd={class:"flex w-full rounded-t overflow-hidden"},wd={class:"ecom-fields__focal-media w-full"},Cd={class:"ecom-fields__focal-image relative flex w-full justify-center overflow-hidden",ref:"flag"},Sd=["src"],Dd={class:"flex gap-5 p-5 bg-gray-200"},Md={class:"w-3/5 flex items-center"},Td=["innerHTML"],Ld={class:"btn_focal w-2/5 flex items-center justify-center"},Id=d("div",{class:"rounded-b bg-yellow-300 text-xs px-5 py-2 w-full"}," Focal point will work when Image fit is cover ",-1),zd={class:"w-full px-5 mb-4"},Vd=d("span",{class:"text-sm leading-none text-gray-900 dark:text-dark-color"},"Edit alt text",-1),Hd={class:"flex mt-2"},Fd={class:"block px-5 py-4 border-t border-gray-300 border-solid"},jd={class:"flex justify-end"},Od={class:"flex justify-end w-2/5 gap-10"};function Ed(e,t,i,a,s,n){var p,h;const r=y("PickerModify"),o=y("ecom-icon"),l=ne("focus");return u(),c("div",null,[d("div",{class:f(["relative p-2 bg-gray-100 dark:bg-dark rounded z-10",n.checkShopifyPicker||((p=i.options)==null?void 0:p.multiple)?"":"ecom-picker-hover"])},[d("ul",Kl,[(u(!0),c(k,null,z(n.values,(m,g)=>{var _,w,L,S,V,E,F,A,R,H;return u(),c("li",{key:m.id,title:m.name,class:"relative w-full text-center transition rounded select-none group item ecom-picker--item"},[d("div",{class:f(["flex items-center min-h-8",n.classItem()]),onClick:Z=>e.$emit("select-item",{item:m,i:g})},[((_=i.options)==null?void 0:_.type)=="font"?(u(),c(k,{key:0},[d("link",{rel:"stylesheet",href:m.value},null,8,ed),d("span",{class:f(["px-1 text-gray-800 truncate pointer-events-none text-md",n.isSingle?"my-2":""]),style:T({fontFamily:m.name})},D(m.name),7)],64)):((w=i.options)==null?void 0:w.type)=="product_type"||((L=i.options)==null?void 0:L.type)=="product_vendor"?(u(),c("span",td,D(m.name),1)):(u(),c(k,{key:2},[((S=i.options)==null?void 0:S.type)!="blog"?(u(),c("span",{key:0,class:f(["block w-12 text-sm",n.isSingle?(((V=i.options)==null?void 0:V.type)==="icon"?"":"w-full")+" mr-0":"mr-2"]),style:{"min-width":"3rem"}},[((E=i.options)==null?void 0:E.type)==="icon"?(u(),c("span",{key:0,class:"block my-3 svg-full",innerHTML:(F=m["thumbnail"+(e.screen==="desktop"?"":"__"+e.screen)])!=null?F:m["value"+(e.screen==="desktop"?"":"__"+e.screen)]},null,8,id)):((A=i.options)==null?void 0:A.layout)!=="list"?(u(),c("img",{key:1,src:e.currentImage(i.options.type,m)||"/images/placeholder.png",alt:m.name,title:(R=i.options)==null?void 0:R.layout,class:"block w-full rounded pointer-events-none"},null,8,nd)):v("",!0)],2)):v("",!0),n.isSingle&&((H=i.options)==null?void 0:H.type)=="image"?v("",!0):(u(),c("span",{key:1,class:f(["block w-full text-sm text-left truncate text-form-title dark:text-dark-color",{"font-semibold":n.isSingle,"ecom-title-hover":!n.isSingle}])},D(m.name),3))],64))],10,Ql),n.strSize?(u(),c("span",{key:0,class:"ecom-picker-item-size absolute top-1 right-1 text-xs bg-gray-900 bg-opacity-30 text-white rounded px-1.5 py-1 transition",innerHTML:n.strSize},null,8,sd)):v("",!0),i.options.multiple?(u(),c(k,{key:1},[i.options.modify.length?(u(),M(r,{key:0,ref_for:!0,ref:"modify",fields:i.options.modify,data:m,"no-hover":e.isDraggingStarted,cl:"absolute transform -translate-y-1/2 top-1/2 right-16",title:"Edit item","onUpdate:modify":t[0]||(t[0]=Z=>e.$emit("update:modify"))},null,8,["fields","data","no-hover"])):v("",!0),d("button",{title:"Delete item",class:f(["absolute top-1/2 right-7 transform -translate-y-1/2 p-2.5 text-gray-600 dark:text-dark-color dark:hover:text-primary-600 dark:hover:bg-dark transition-all opacity-0 cursor-pointer border-0 rounded hover:bg-gray-200",{"group-hover:opacity-100":!e.isDraggingStarted}]),onClick:Z=>n.deleteItem(g)},[b(o,{icon:s.icons.faTrash,class:"w-4 h-4"},null,8,["icon"])],10,ad),d("button",{title:"Drag item",class:f(["flex absolute top-1/2 right-1 transform -translate-y-1/2 py-2.5 px-1 text-gray-600 dark:text-dark-color dark:bg-dark transition-all opacity-0 cursor-pointer border-0 rounded hover:bg-gray-200 group-hover:opacity-100",s.dragging?"cursor-grabbing":"cursor-grab"]),onMousedown:t[1]||(t[1]=(...Z)=>n.dragItem&&n.dragItem(...Z))},ld,34)],64)):v("",!0)],8,$l)}),128))])],2),n.checkShopifyPicker?v("",!0):(u(),c("div",dd)),!s.showEditAlt&&i.options.editAlt&&((h=i.options)==null?void 0:h.type)=="image"?(u(),c("div",{key:1,class:f(["relative z-20 pb-2 pl-2",e.id])},[d("button",{class:"mt-1 text-sm text-primary-600 hover:text-primary-800",onClick:t[2]||(t[2]=(...m)=>e.open&&e.open(...m))},cd),b(K,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-90 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-90 opacity-0"},{default:O(()=>[e.isopen?(u(),c("div",pd,[d("div",md,[d("div",{class:f(["flex bg-white h-full dark:bg-dark dark:text-dark-color bottom-2 rounded",n.isSingle?"flex-col":""])},[d("div",hd,[d("div",fd,[gd,d("span",{class:"transition hover:rotate-180 transform cursor-pointer",onClick:t[3]||(t[3]=(...m)=>n.cancelSet&&n.cancelSet(...m))},yd)])]),d("div",vd,[d("div",kd,[d("section",_d,[d("div",xd,[d("div",wd,[d("div",Cd,[d("div",{ref:"focal__point",style:T({left:s.position_focal.left?s.position_focal.left+"%":n.values[0].left?n.values[0].left+"%":"50%",top:s.position_focal.top?s.position_focal.top+"%":n.values[0].top?n.values[0].top+"%":"50%",transform:s.position_focal.transform}),class:f(["focal-point",n.values[0].top&&n.values[0].left?"":"hidden"]),onMousedown:t[4]||(t[4]=(...m)=>n.dragFocalPoint&&n.dragFocalPoint(...m)),onMouseup:t[5]||(t[5]=(...m)=>n.onMouseUp&&n.onMouseUp(...m))},null,38),d("img",{draggable:"false",style:{width:"100%"},ref:"image_popup",src:n.values[0].value,onClick:t[6]||(t[6]=(...m)=>n.changePositionFocalPoint&&n.changePositionFocalPoint(...m))},null,8,Sd)],512)])]),d("div",Dd,[d("div",Md,[d("h3",{class:"uppercase overflow-ellipsis overflow-hidden",innerHTML:i.valueProp[0].name},null,8,Td)]),d("div",Ld,[d("span",{ref:"btn_enable",class:"bg-primary-600 w-4/5 h-10 flex items-center justify-center rounded text-white cursor-pointer",onClick:t[7]||(t[7]=(...m)=>n.enableFocalPoint&&n.enableFocalPoint(...m)),onMouseover:t[8]||(t[8]=(...m)=>n.mouseOverBtn&&n.mouseOverBtn(...m)),onMouseout:t[9]||(t[9]=(...m)=>n.mouseOutBtn&&n.mouseOutBtn(...m))},D(n.values[0].top&&n.values[0].left?"Remove focal point":"Add focal point"),545)])]),Id]),d("div",zd,[Vd,d("div",Hd,[I(d("input",{ref:"inputEditAlt","onUpdate:modelValue":t[10]||(t[10]=m=>n.values[0].name=m),type:"text",class:"w-full pl-2 transition border-gray-300 dark:bg-gray-700 dark:border-gray-600 dark:text-dark-color rounded shadow-sm h-9 sm:text-sm focus:ring-inset focus:ring-1 focus:ring-primary-400 dark:focus:ring-transparent focus:border-primary-400"},null,512),[[U,n.values[0].name],[l,"select"]])])])])]),d("div",Fd,[d("div",jd,[d("div",Od,[d("div",{class:"py-1 px-4 flex justify-center cursor-pointer rounded text-gray-500 shadow-sm hover:bg-gray-100 bg-white border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:border-gray-600 dark:text-dark-color dark:hover:bg-dark",onClick:t[11]||(t[11]=(...m)=>n.cancelSet&&n.cancelSet(...m))}," Cancel "),d("div",{class:"py-1 px-4 flex justify-center cursor-pointer rounded text-white hover:bg-primary-700 bg-primary-600",onClick:t[12]||(t[12]=(...m)=>n.saveSet&&n.saveSet(...m))}," Save ")])])])],2)])])):v("",!0)]),_:1})],2)):v("",!0)])}const Pd=C(jt,[["render",Ed]]);jt.__docgenInfo={exportName:"default",displayName:"PickerPreview",description:"",tags:{},props:[{name:"valueProp",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"options",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"select-item"},{name:"update:modify"},{name:"update:temp"},{name:"update:image",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/mixins/popmenu.ts","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/picker/PickerPreview.vue","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/mixins/drag.ts","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/mixins/file.ts"]};const Ot={name:"Picker",components:{PickerComponent:Ti,PickerPreview:Pd},props:{valueProp:{type:Array,default(){return[]}},options:{type:Object,default(){return{}}}},emits:["update:data","update:tabs"],data(){return{search:"",selected:null,selectedTemp:null,selectedIndex:-1,value:"",valueTemp:"",isWatch:!0,isEmit:!1,faFaceSmilePlus:Ee,faPen:fe}},computed:{optionFormated(){var e,t,i,a,s,n,r,o,l,p,h,m,g,_,w,L,S,V,E,F,A,R,H,Z,pe,we;return{title:(t=(e=this.options)==null?void 0:e.title)!=null?t:"",useSearch:(a=(i=this.options)==null?void 0:i.search)!=null?a:!0,multiple:this.selected?!1:(n=(s=this.options)==null?void 0:s.multiple)!=null?n:!1,useDelete:(o=(r=this.options)==null?void 0:r.delete)!=null?o:!1,drag:(p=(l=this.options)==null?void 0:l.drag)!=null?p:!1,layout:(m=(h=this.options)==null?void 0:h.layout)!=null?m:"grid",type:(_=(g=this.options)==null?void 0:g.type)!=null?_:"menu",editAlt:(L=(w=this.options)==null?void 0:w.editAlt)!=null?L:!1,modify:(V=(S=this.options)==null?void 0:S.modify)!=null?V:[],tabs:(F=(E=this.options)==null?void 0:E.tabs)!=null?F:{},simple:(R=(A=this.options)==null?void 0:A.simple)!=null?R:!1,responsive:(Z=(H=this.options)==null?void 0:H.responsive)!=null?Z:!1,textSelect:this.selected?"Update":"Select",position:(we=(pe=this.options)==null?void 0:pe.position)!=null?we:"absolute"}},optionsPreview(){var o,l;let{useDelete:e,layout:t,type:i,drag:a,modify:s,editAlt:n}=this.optionFormated,r=(l=(o=this.options)==null?void 0:o.multiple)!=null?l:!1;return{useDelete:e,layout:t,type:i,drag:a,multiple:r,modify:s,editAlt:n}},kValue(){let e="value";return this.screen!=="desktop"&&(e+="__"+this.screen),e},isChange(){return this.selected?JSON.stringify(this.selectedTemp)!=JSON.stringify(this.selected):JSON.stringify(this.valueTemp)!=JSON.stringify(this.value)},textButton(){return{change:this.optionFormated.multiple||this.selected?"Add more":"Change",delete:this.optionFormated.multiple||this.selected?"Remove all":"Delete",setting:"Settings"}},isFullImage(){return this.options.type=="image"&&!this.options.multiple},classRoot(){let e="";return!this.optionFormated.simple&&(this.optionFormated.type!=="icon"||this.optionFormated.multiple)?e+="w-full max-w-xs bg-gray-100 dark:bg-gray-700 mt-2 rounded":e+="flex",e},iconUploaded(){return this.value.length&&!("cate"in this.value[0])},iconSystem(){return this.value.length&&"cate"in this.value[0]},...J("builder",["screen"])},watch:{value:{deep:!0,immediate:!0,handler:function(e){var t,i,a,s;this.isEmit&&(this.isWatch=!1,this.$emit("update:data",this.cloneData(e)),(i=(t=this.optionFormated)==null?void 0:t.tabs)!=null&&i.cur&&this.updateTabs((s=(a=this.optionFormated)==null?void 0:a.tabs)==null?void 0:s.cur)),this.isEmit=!0}},valueProp:{deep:!0,immediate:!0,handler:function(e){this.isWatch&&(this.isEmit=!1,this.value=this.cloneData(e),this.valueTemp=this.cloneData(e)),this.isWatch=!0}},selected:{deep:!0,handler:function(e){let t=e==null?void 0:e[0];t&&(this.value[this.selectedIndex]=t)}}},methods:{cloneData(e){return!e||typeof e!="object"?e:JSON.parse(JSON.stringify(e))},selectItem({item:e,i:t}){this.selectedIndex=t,this.selected=[e],this.selectedTemp=this.cloneData([e]),this.$refs.picker.show=!0},updateSearch(e){this.search=e},fontURL({name:e,value:t}){return this.$helpers.getLinkFont(e,t)},updateModify(){this.valueTemp=this.cloneData(this.value)},isSelected(e){this.selected=null,this.selectedTemp=null,this.selectedIndex=-1,!e&&this.isChange?this.value=this.cloneData(this.valueTemp):this.updateTemp()},updateTemp(){this.valueTemp=this.cloneData(this.value)},selectIconUpload(){this.updateTabs("uploaded"),this.$refs.picker.show=!0},selectIconSystem(){this.updateTabs("system"),this.$refs.picker.show=!0},updateTabs(e){this.$emit("update:tabs",e)},updateImage(e){this.value=this.cloneData(e),this.valueTemp=this.cloneData(e)},deleteItem(){this.value=[],this.valueTemp=[]}}},Ad={key:0,class:"inline-flex rounded"},Nd=["innerHTML"],Ud=["href"],Bd=["src"],Rd=["innerHTML"],Wd={key:1,class:"truncate dark:text-dark-color"},Gd=d("svg",{class:"absolute top-1/2 right-3 transform -translate-y-1/2 w-2 h-3 dark:text-dark-color fill-current",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4 12L0 8H8L4 12ZM4 0L8 4H0L4 0Z",fill:"currentColor"})],-1),Zd={key:0,class:"flex items-center justify-center border dark:border-gray-700 border-gray-200 hover:border-primary-600 py-6 rounded w-full h-full dark:bg-dark"},Yd={key:1},qd={class:"flex gap-3 py-2"};function Jd(e,t,i,a,s,n){var h,m,g,_,w;const r=y("ecom-icon"),o=y("Button"),l=y("PickerPreview"),p=y("PickerComponent");return u(),c("div",{class:f(["ecom-picker relative",n.classRoot])},[n.optionFormated.type==="icon"&&!n.optionFormated.multiple?(u(),c("div",Ad,[d("button",{type:"button",class:"relative flex items-center justify-center text-gray-600 w-8 h-8 bg-coolGray-100 rounded dark:text-dark-color dark:bg-dark","data-tooltip":"Click to change",onClick:t[0]||(t[0]=L=>e.$refs.picker.show=!0)},[s.value.length===0?(u(),M(r,{key:0,icon:s.faPen,class:"w-4 h-4 svg-full"},null,8,["icon"])):(u(),c("span",{key:1,class:"block w-4 h-4 svg-full",innerHTML:((h=s.value[0])==null?void 0:h.thumbnail)||((m=s.value[0])==null?void 0:m.value)},null,8,Nd))])])):n.optionFormated.simple?(u(),c("button",{key:1,type:"button",style:T(n.optionFormated.type==="font"?"max-width:135px;height:32px":""),class:f(["relative w-full flex items-center min-w-30 border border-form-border rounded text-left text-form-input dark:text-dark-color text-sm h-7-5 pr-7 pl-2",s.value.length?"pr-7":"pr-2"]),onClick:t[1]||(t[1]=L=>e.$refs.picker.show=!0)},[s.value.length?(u(),c(k,{key:0},[n.optionFormated.type==="font"?(u(),c(k,{key:0},[d("link",{rel:"stylesheet",href:n.fontURL(s.value[0])},null,8,Ud),d("span",{class:"truncate",style:T({fontFamily:s.value[0].name})},D(s.value[0].name),5)],64)):(u(),c(k,{key:1},[d("img",{class:"h-full rounded mr-2 py-2",src:(g=s.value[0].thumbnail)!=null?g:"/images/placeholder.png"},null,8,Bd),d("span",{class:"truncate",innerHTML:s.value[0].name},null,8,Rd)],64))],64)):(u(),c("span",Wd,D(n.optionFormated.title),1)),Gd],6)):(u(),c(k,{key:2},[s.value.length?(u(),c("div",Yd,[b(l,{"value-prop":s.value,options:n.optionsPreview,"onUpdate:temp":n.updateTemp,"onUpdate:image":n.updateImage,onSelectItem:n.selectItem,"onUpdate:modify":n.updateModify},null,8,["value-prop","options","onUpdate:temp","onUpdate:image","onSelectItem","onUpdate:modify"]),d("span",{class:f(["flex flex-col relative p-2 border-white divide-y dark:border-transparent dark:divide-gray-600",[((_=i.options)==null?void 0:_.layout)==="list"?"border-t-2":"border-t-4"]])},[d("div",qd,[d("button",{class:"inline-flex justify-center items-center font-medium smoothing h-10 text-sm px-3 w-1/2 rounded rounded-r-none border border-gray-300 dark:border-dark text-gray-500 shadow-sm bg-white dark:bg-dark dark:text-dark-color dark:hover:bg-dark dark:active:bg-dark hover:bg-gray-100 active:bg-gray-200 focus:ring-primary-600",onClick:t[3]||(t[3]=L=>e.$refs.picker.show=!0)},D(n.textButton.change),1),d("button",{class:"inline-flex justify-center items-center font-medium smoothing h-10 text-sm px-3 w-1/2 rounded rounded-l-none border border-gray-300 dark:border-dark text-red-600 hover:text-red-800 dark:bg-dark dark:text-dark-color shadow-sm bg-white hover:bg-gray-100 active:bg-gray-200 focus:ring-red-600 dark:hover:bg-dark dark:active:bg-dark",onClick:t[4]||(t[4]=(...L)=>n.deleteItem&&n.deleteItem(...L))},D(n.textButton.delete),1)])],2)])):(u(),c("div",Zd,[b(o,{text:i.options.button_text,onClick:t[2]||(t[2]=L=>e.$refs.picker.show=!0)},null,8,["text"])]))],64)),b(p,{ref:"picker",value:(w=s.selected)!=null?w:s.value,"is-change":n.isChange,options:n.optionFormated,onIsSelected:n.isSelected,"onUpdate:tabs":n.updateTabs},null,8,["value","is-change","options","onIsSelected","onUpdate:tabs"])],2)}const Xd=C(Ot,[["render",Jd]]);Ot.__docgenInfo={displayName:"Picker",exportName:"default",description:"",tags:{},props:[{name:"valueProp",type:{name:"array"},defaultValue:{func:!1,value:"[]"}},{name:"options",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}},{name:"update:tabs",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/picker/Picker.vue"]};const Et={name:"PickerField",components:{Picker:Xd},props:{field:{type:Object,default(){return{}}},data:{type:[Array,String,Object]}},emits:["update:data"],data(){return{value:[],tabs:"",defaultOptions:{search:!0,multiple:!1,delete:!0,drag:!0}}},computed:{type(){var e,t,i;return(i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.type)!=null?i:"image"},options(){var i,a;let e=(i=this.field)==null?void 0:i.options;e=Object.assign(this.defaultOptions,e,{type:this.type});let t="Select "+this.type.replace(/s$/g,"").replace(/\_/g," ");return e.button_text=t,e.title=t,e.layout=this.type==="font"?"list":(a=e.layout)!=null?a:"grid",this.type==="image"?e.tabs={cur:this.tabs||"uploaded",list:[{value:"uploaded",text:"Uploaded"},{value:"free",text:"Free Images"}]}:this.type==="video"?e.tabs={cur:"uploaded",list:[{value:"uploaded",text:"Uploaded"}]}:this.type==="audio"?e.tabs={cur:"uploaded",list:[{value:"uploaded",text:"Uploaded"}]}:this.type==="icon"?e.tabs={cur:this.tabs||"system",list:[{value:"system",text:"System"},{value:"uploaded",text:"Uploaded"}]}:this.type==="font"?e.tabs={cur:this.tabs||"uploaded",list:[{value:"uploaded",text:"Uploaded"},{value:"google",text:"Google Fonts"}]}:this.type==="section"&&(e.tabs={cur:"created",list:[{value:"created",text:"Created"}]}),e},output(){var e,t,i;return(i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.output)!=null?i:!1}},watch:{data:{immediate:!0,deep:!0,handler:function(){this.value=this.getValue()}}},methods:{cloneData(e){return!e||typeof e!="object"?e:JSON.parse(JSON.stringify(e))},getValue(){var t,i,a,s;let e=this.cloneData((a=this.data)!=null?a:(i=(t=this.field)==null?void 0:t.value)!=null?i:[]);return e.constructor===Array?e.forEach((n,r)=>{var o,l;typeof n=="object"?(n.id=(o=n==null?void 0:n.id)!=null?o:this.$helpers.makeId(8),n.fn="item"):typeof n=="string"&&(e[r]={[this.output]:n,id:(l=n==null?void 0:n.id)!=null?l:this.$helpers.makeId(8),fn:"item"})}):e.constructor===String?e=[{id:this.$helpers.makeId(8),fn:"item",value:e}]:e.constructor===Object&&(Object.keys(e).length?(e.id=(s=e==null?void 0:e.id)!=null?s:this.$helpers.makeId(8),e=[e]):e=[]),e},updateTabs(e){this.tabs=e},updateData(e){var a,s,n;let t=this.cloneData(e),i=t;if(this.output){if(this.options.multiple)typeof this.output=="string"?i=t.map(r=>r[this.output]):typeof this.output=="object"&&(i=t.map(r=>{let o={};return this.output.forEach(l=>o[l]=r[l]),o}));else if(typeof this.output=="string")i=(s=(a=t==null?void 0:t[0])==null?void 0:a[this.output])!=null?s:"";else if(typeof this.output=="object"){let r=t==null?void 0:t[0],o={};r&&this.output.forEach(l=>o[l]=r[l]),i=o}}else this.options.multiple||(i=(n=t==null?void 0:t[0])!=null?n:{});this.$emit("update:data",i)}}};function Kd(e,t,i,a,s,n){const r=y("Picker",!0);return u(),M(r,{"value-prop":s.value,options:n.options,"onUpdate:data":n.updateData,"onUpdate:tabs":n.updateTabs},null,8,["value-prop","options","onUpdate:data","onUpdate:tabs"])}const $d=C(Et,[["render",Kd]]);Et.__docgenInfo={displayName:"PickerField",exportName:"default",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"data",type:{name:"array|string|object"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/picker/Picker.vue"]};const Qd=Object.freeze(Object.defineProperty({__proto__:null,default:$d},Symbol.toStringTag,{value:"Module"})),Pt={name:"PopupDropdown",props:{data:{type:[Number,String,Boolean]},values:{type:Object,default(){return{}}}},emits:["update:data","close"],computed:{value(){return this.data}},methods:{isActive(e){return this.value===e.name||e.name==="__delete__"&&(this.value===void 0||this.value==="__delete__")||this.value==="__empty__"},choose(e){this.$emit("update:data",e),this.$emit("close")}}},eu={class:"relative p-2 max-h-1/3 overflow-y-auto"},tu=["onClick"],iu={class:"truncate text-sm dark:text-dark-color dark:hover:text-primary-600"},nu={key:0,class:"absolute -left-2 rounded-r top-0 h-full bg-primary-600",style:{width:"3px"}};function su(e,t,i,a,s,n){return u(),c("div",eu,[(u(!0),c(k,null,z(i.values,r=>(u(),c("button",{key:r.name,class:f(["whitespace-nowrap text-left w-full rounded text-sm flex min-w-full px-2 py-2 mb-0.5 transition text-gray-800 dark:hover:bg-transparent dark:hover:text-primary-600 hover:bg-gray-100 hover:text-gray-900",n.isActive(r)?"relative bg-primary-50 dark:bg-gray-600":""]),onClick:o=>n.choose(r.name)},[d("span",iu,D(r.title),1),n.isActive(r)?(u(),c("span",nu)):v("",!0)],10,tu))),128))])}const au=C(Pt,[["render",su]]);Pt.__docgenInfo={displayName:"PopupDropdown",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"number|string|boolean"}},{name:"values",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}},{name:"close"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/molecules/DropdownOptions/DropdownOptions.vue"]};const At={name:"PopupGroup",components:{Tabs:Ne,Global:Be,PopupDropdown:au},provide:{teleport_id:".ecom-fields__popup"},mixins:[ee],props:{field:{type:Object,default(){return{}}},data:[Object,String,Number,Boolean]},emits:["update:data","close"],data(){var e;return{values:(e=this.data)!=null?e:{},dGlobal:{selected:null},isWatch:!0,isEmit:!1,icons:{faFontCase:Li,faFiles:Ii,faPen:fe,faBox:zi,faArrowsRotate:q,faBorderAll:Vi,faAngleDown:Hi,faFaceSmilePlus:Ee,faArrowsLeftRight:Fi,faScaleBalanced:ji,faItalic:Oi,faTextSlash:Ei,faTableLayout:je,faCrosshairs:Pi,faPercent:Ai,faTags:Ni,faPersonRunning:Ui,faStarShooting:Bi,faW:Ri,faH:Wi,faDistributeSpacingHorizontal:Gi,faAlignJustify:Fe,faFilter:Zi,faPaperclip:Yi,faCrop:qi,faImage:Ji,faArrowsUpDown:Xi,faArrowPointer:Ki}}},computed:{globalTitle(){var e;return this.dGlobal?this.$store.getters["settings/globalTitle"]((e=this.global)==null?void 0:e.type,this.dGlobal.selected):""},activeStatus(){return"bg-"+(this.dGlobal.selected?"green-600":Object.values(this.values).filter(e=>e!==null?typeof e!="object"||Object.keys(e).length>0:!1).length>0?"blue-600":"transparent")},global(){var e,t,i;return(i=(t=(e=this==null?void 0:this.field)==null?void 0:e.options)==null?void 0:t.global)!=null?i:!1},title(){var e,t,i;return(i=(t=(e=this==null?void 0:this.field)==null?void 0:e.options)==null?void 0:t.type)!=null?i:"Untilted"},typeIcon(){var a;let e=this.field.options,t=(a=e==null?void 0:e.icon_type)!=null?a:e==null?void 0:e.type,i="";switch(t){case"typography":{i=this.icons.faFontCase;break}case"text-shadow":{i=this.icons.faFiles;break}case"box-shadow":{i=this.icons.faBox;break}case"border":{i=this.icons.faBorderAll;break}case"icon":{i=this.icons.faFaceSmilePlus;break}case"alignment":{i=this.icons.faArrowsLeftRight;break}case"transitions":{i=this.icons.faPersonRunning;break}case"dropdown":{i=this.dropdownIcon;break}case"popup":{i=this.popupIcon;break}case"filter":{i=this.icons.faFilter;break}case"sorting":i=this.icons.faArrowsUpDown;break;case"percent":i=this.icons.faPercent;break;case"animation":i=this.icons.faStarShooting;break;case"cursor":i=this.icons.faArrowPointer;break;default:i=this.icons.faPen}return i},dropdownIcon(){let e=this.field.name,t="";switch(e){case"font-weight":{t=this.icons.faScaleBalanced;break}case"text-transform":{t=this.icons.faFontCase;break}case"font-style":{t=this.icons.faItalic;break}case"text-decoration":{t=this.icons.faTextSlash;break}case"product_source":{t=this.icons.faTags;break}case"layout":{t=this.icons.faTableLayout;break}case"position":case"image_position":{t=this.icons.faCrosshairs;break}case"image_ratio":{t=this.icons.faPercent;break}case"transition":{t=this.icons.faPersonRunning;break}case"timing":{t=this.icons.faStarShooting;break}case"width":case"width-max":case"content-width":{t=this.icons.faW;break}case"height":{t=this.icons.faH;break}case"align-content":{t=this.icons.faDistributeSpacingHorizontal;break}case"padding":{t=this.icons.faAlignJustify;break}case"link":{t=this.icons.faPaperclip;break}case"size":{t=this.icons.faCrop;break}case"imageObjectFit":{t=this.icons.faImage;break}case"aspect_ratio":{t=this.icons.faPercent;break}case"source":{t=this.icons.faTags;break}default:t=this.icons.faPen}return t},popupIcon(){let e=this.field.name,t="";switch(e){default:t=this.icons.faPen}return t},type(){let e=this.field.options,t=e==null?void 0:e.type;return t&&(t==="typography"||t==="border-offset"||t==="border")||!t&&e.fields?"":t},options(){var e,t;return(t=(e=this.field)==null?void 0:e.options)!=null?t:{}},fields(){var e,t,i,a;return(a=ka[(e=this.options)==null?void 0:e.type])!=null?a:(i=(t=this.options)==null?void 0:t.fields)!=null?i:[]},valuesType(){var e;return this.type?(e=this.values)==null?void 0:e[this.type]:this.values},optionsValues(){var n,r;let e=(n=this.options)==null?void 0:n.values;const t=(o,l)=>{if(l.constructor===Object){let p;for(p in l)o.push({name:p,title:l[p]})}};if(typeof e=="string"){let o=(r=st[e])!=null?r:[];if(o.constructor===Object){let l=[];t(l,o),o=l}return o.findIndex(l=>l.name==="__delete__")===-1&&o.findIndex(l=>l.title==="Default")===-1&&this.options.default!==!1&&o.splice(0,0,{name:"__delete__",title:"Default"}),o}let i=[],a,s;if(e.constructor===Object)t(i,e);else if(e.constructor===Array)for(a in e)s=e[a],s.constructor===Object?(i.push({name:s.title,title:s.title,disabled:!0}),s.values.constructor===Object&&t(i,s.values)):i.push({name:s,title:s});return this.options.default!==!1&&i.findIndex(o=>o.name==="__delete__")===-1&&i.findIndex(o=>o.title==="Default")===-1&&i.splice(0,0,{name:"__delete__",title:"Default"}),i}},watch:{isopen(e){e===!0&&(this.values=this.data||{})},data:{immediate:!0,deep:!0,handler:function(e){var t,i,a;this.isWatch&&(this.isEmit=!1,this.values=(t=this.$helpers.copy(e))!=null?t:{}),this.type==="dropdown"&&this.data===void 0&&this.field.value&&this.$emit("update:data",this.field.value),this.isWatch=!0,this.dGlobal.selected=(a=(i=this.global)==null?void 0:i.value)!=null?a:""}},values:{immediate:!0,deep:!0,handler:function(e){this.isEmit&&(this.type&&typeof(e==null?void 0:e[this.type])=="object"&&Object.keys(e[this.type]).length===0&&delete e[this.type],this.isWatch=!1,this.$emit("update:data",e)),this.isEmit=!0}},"dGlobal.selected":function(e){e&&this.global&&this.$emit("update:data",{["global-"+this.global.type]:e})}},methods:{backToDefault(){this.values={}},addNewGlobal(e){var i,a;let t=this.$helpers.makeId(8);this.$store.dispatch("settings/addDataGlobal",{key:t,type:(i=this.global)==null?void 0:i.type,data:{title:e,value:this.$helpers.copy(this.values)}}),this.dGlobal.selected=t,this.$store.commit("global/flash",{open:!0,message:"Add Global "+(((a=this.global)==null?void 0:a.type)==="colors"?"Color":"Typography")+" Success",type:"success"},{root:!0})},updateData(e){e&&(this.type?this.values[this.type]=e:this.values=e)}}};const ou=["data-tooltip"],ru=d("polygon",{class:"shadow-xxl",points:"0,53.333 106.667,160 213.333,53.333"},null,-1),lu=[ru],du={key:1},uu={key:0,class:"flex items-center justify-between px-4 py-2 mb-4 border-b dark:border-gray-600"},cu=["innerHTML"],pu={class:"flex items-center"};function mu(e,t,i,a,s,n){var m;const r=y("ecom-icon"),o=y("Global"),l=y("Fields"),p=y("Tabs"),h=y("PopupDropdown");return u(),c("div",{class:f(["relative flex items-center justify-end -space-x-px",e.id])},[d("button",{class:"relative flex items-center justify-center w-8 h-8 text-gray-600 dark:text-dark-color dark:bg-gray-600 bg-coolGray-100 rounded","data-tooltip":(m=n.globalTitle)!=null?m:"Click to change",onClick:t[0]||(t[0]=(...g)=>e.open&&e.open(...g)),type:"button"},[n.typeIcon?(u(),M(r,{key:0,icon:n.typeIcon,class:"w-4 h-4 fill-current"},null,8,["icon"])):v("",!0)],8,ou),b(K,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-90 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-90 opacity-0"},{default:O(()=>{var g,_,w,L,S;return[e.isopen?(u(),c("div",{key:0,ref:"ecom-fields__popup",class:f(["absolute z-50 mt-3 -left-2 ecom-fields__popup",[e.popupPosition==="bottom"?"top-full":"bottom-full",e.isShowPopup?"visible":"invisible"]])},[d("div",{class:f(["inline-block bg-white rounded shadow-popup dark:bg-gray-700 dark:text-dark-color dark:border dark:border-gray-200",n.type==="dropdown"?"w-max min-w-40 max-w-68":"w-68"])},[(u(),c("svg",{viewBox:"0 0 213.3 213.3",class:f(["absolute w-4 h-4 mr-1 -mt-3 left-4 fill-current text-white dark:text-gray-700",e.popupPosition==="bottom"?"top-0 transform rotate-180":"-bottom-1"])},lu,2)),n.global?(u(),M(p,{key:0,tabs:["customize","global"],title:(w=(_=(g=i.field)==null?void 0:g.options)==null?void 0:_.global)==null?void 0:w.type,type:(L=n.global)==null?void 0:L.type,value:s.values,selected:s.dGlobal.selected,onAddglobal:n.addNewGlobal,onRefesh:n.backToDefault},{global:O(()=>[b(o,{selected:s.dGlobal.selected,"onUpdate:selected":t[1]||(t[1]=V=>s.dGlobal.selected=V),global:n.global},null,8,["selected","global"])]),customize:O(()=>{var V;return[b(l,{fields:n.fields,deep:1,data:(V=n.valuesType)!=null?V:{},ispop:!0,class:"relative p-3","onUpdate:data":n.updateData},null,8,["fields","data","onUpdate:data"])]}),_:1},8,["title","type","value","selected","onAddglobal","onRefesh"])):(u(),c("div",du,[n.type!=="dropdown"?(u(),c("div",uu,[d("span",{class:"text-sm font-medium text-form-title dark:text-dark-color",innerHTML:(S=i.field)==null?void 0:S.label},null,8,cu),d("span",pu,[d("button",{type:"button",class:f(["p-2 transition rounded text-form-secondary hover:bg-gray-200 hover:text-form-secondary-hover dark:text-dark-color dark:hover:bg-dark dark:hover:text-primary-600",{"opacity-50 pointer-events-none":Object.keys(s.values).length===0}]),"data-tooltip":"Reset to default","data-tooltip-location":"top-right",onClick:t[2]||(t[2]=(...V)=>n.backToDefault&&n.backToDefault(...V))},[b(r,{icon:s.icons.faArrowsRotate,class:"w-4 h-4"},null,8,["icon"])],2)])])):v("",!0),n.type==="dropdown"?(u(),M(h,{key:1,data:i.data,values:n.optionsValues,"onUpdate:data":t[3]||(t[3]=V=>e.$emit("update:data",V)),onClose:e.doClose},null,8,["data","values","onClose"])):(u(),M(l,{key:2,fields:n.fields,deep:1,data:n.valuesType,ispop:!0,class:"relative p-3","onUpdate:data":n.updateData},null,8,["fields","data","onUpdate:data"]))]))],2)],2)):v("",!0)]}),_:1})],2)}const hu=C(At,[["render",mu]]);At.__docgenInfo={exportName:"default",displayName:"PopupGroup",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"data",type:{name:"object|string|number|boolean"}}],events:[{name:"update:data",type:{names:["undefined"]}},{name:"close"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/mixins/popmenu.ts","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/popup/Popup.vue"]};const fu=Object.freeze(Object.defineProperty({__proto__:null,default:hu},Symbol.toStringTag,{value:"Module"})),Nt={name:"SizeField",components:{Number:_e,Fields:rn(()=>un(()=>import("./preview.a124abb8.js").then(e=>e.aB),["./preview.a124abb8.js","./chunk-2GDW2BFM.5cb4ba43.js","./vue.esm-bundler.7f444806.js","./index.e850844b.js","./iframe.c85ce8d3.js","./preview.656894db.css"],import.meta.url))},props:{data:{type:Object,default(){return{}}},field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{value:{},aspect:!0,isWatch:!0,isEmit:!1}},computed:{fields(){return[{type:"toggle",name:"format",label:'Progressive <span class="uppercase">JPGE</span>',options:{values:{on:{value:"pjpg"},off:{value:""}}}}]},ratio(){var e,t;return(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.ratio}},watch:{data:{deep:!0,immediate:!0,handler:function(e){this.isWatch&&(this.isEmit=!1,this.value=this.$helpers.copy(e!=null?e:{})),this.isWatch=!0}},value:{immediate:!0,deep:!0,handler:function(e){this.isEmit&&(this.isWatch=!1,this.$emit("update:data",e)),this.isEmit=!0}}},methods:{fieldNumber(e){return{placeholder:e,options:{control_width:"auto",slider:!1,min:0}}},updateNumber(e,t){var i;t!==""&&t!==void 0&&t!==null&&!isNaN(t)?this.value[e]=t:(i=this.value)==null||delete i[e]},updateData(e,t){var i;t?this.value[e]=t:(i=this.value)==null||delete i[e]}}},gu={class:"flex items-center"},bu={class:"flex-1 pr-2"},yu={key:0,class:"w-full h-full",fill:"currentColor",viewBox:"0 0 36 36"},vu=d("path",{d:"M31.7 4.3a7.176 7.176 0 00-10.148 0c-.385.386-4.264 4.222-5.351 5.309a8.307 8.307 0 013.743.607c.519-.52 3.568-3.526 3.783-3.741a4.1 4.1 0 015.8 5.8l-7.119 7.115a4.617 4.617 0 01-3.372 1.3 3.953 3.953 0 01-2.7-1.109 4.154 4.154 0 01-1.241-1.626 2.067 2.067 0 00-.428.318l-1.635 1.712a7.144 7.144 0 001.226 1.673c2.8 2.8 7.875 2.364 10.677-.438l6.765-6.768a7.174 7.174 0 000-10.152z"},null,-1),ku=d("path",{d:"M15.926 25.824c-.52.52-3.5 3.547-3.713 3.762a4.1 4.1 0 11-5.8-5.8L13.6 16.6a4.58 4.58 0 013.366-1.292 4.2 4.2 0 013.784 2.782 2.067 2.067 0 00.428-.318l1.734-1.721a7.165 7.165 0 00-1.226-1.673 7.311 7.311 0 00-10.26.048l-7.187 7.186a7.176 7.176 0 0010.148 10.149c.386-.386 4.194-4.243 5.281-5.33a8.3 8.3 0 01-3.742-.607z"},null,-1),_u=[vu,ku],xu={key:1,class:"w-full h-full",fill:"currentColor",viewBox:"0 0 36 36"},wu=d("path",{d:"M11.136 9.523l-1.496 1.44-5.328-5.24 1.496-1.439 5.328 5.239zm20.665 20.754l-1.496 1.439-5.299-5.334 1.495-1.439 5.3 5.334zM11.057 1.8h2.314v4.629h-2.314zM1.8 11.057h4.629v2.314H1.8zm27.771 11.572H34.2v2.314h-4.629zm-6.942 6.942h2.314V34.2h-2.314zm-4.576-5.863l-5.84 5.878a4.1 4.1 0 11-5.8-5.8l5.858-5.859-2.171-2.173-5.861 5.858A7.176 7.176 0 0014.388 31.76l5.841-5.874zm-.141-11.452l5.81-5.777a4.1 4.1 0 015.8 5.8l-5.793 5.793 2.171 2.174 5.8-5.793A7.176 7.176 0 1021.547 4.3l-5.807 5.78z"},null,-1),Cu=[wu],Su={class:"absolute px-2 py-1 z-10 mb-1 text-sm text-white transition transform -translate-x-1/2 bg-gray-700 rounded opacity-0 pointer-events-none select-none left-1/2 bottom-full w-max group-hover:opacity-100"},Du={class:"flex-1 pr-2"},Mu=["value"],Tu=ln('<option value="center"> Center </option><option value="top"> Top </option><option value="bottom"> Bottom </option><option value="left"> Left </option><option value="right"> Right </option>',5),Lu=[Tu];function Iu(e,t,i,a,s,n){var l,p,h;const r=y("Number"),o=y("Fields");return u(),c("div",null,[d("div",gu,[d("label",bu,[b(r,{field:n.fieldNumber("W"),data:(l=s.value)==null?void 0:l.width,"onUpdate:data":t[0]||(t[0]=m=>n.updateNumber("width",m))},null,8,["field","data"])]),n.ratio!==void 0?(u(),c("span",{key:0,class:"relative w-3.5 h-3.5 mr-2 text-gray-600 dark:text-dark-color dark:hover:text-primary-600 cursor-pointer group hover:text-gray-800",onClick:t[1]||(t[1]=m=>s.aspect=!s.aspect)},[s.aspect?(u(),c("svg",yu,_u)):(u(),c("svg",xu,Cu)),d("span",Su,[s.aspect?(u(),c(k,{key:0},[B(" Unlock aspect ")],64)):(u(),c(k,{key:1},[B(" Lock aspect ")],64))])])):v("",!0),d("label",Du,[b(r,{field:n.fieldNumber("H"),data:(p=s.value)==null?void 0:p.height,"onUpdate:data":t[2]||(t[2]=m=>n.updateNumber("height",m))},null,8,["field","data"])]),d("select",{class:"relative pl-2 pr-8 py-0.5 transition border-gray-300 rounded shadow-sm h-7-5 sm:text-sm focus:ring-inset focus:ring-1 focus:ring-primary-400 dark:focus:ring-transparent focus:border-primary-400 text-black dark:text-dark-color dark:bg-dark dark:border-gray-600",value:((h=s.value)==null?void 0:h.crop)||"center",onInput:t[3]||(t[3]=m=>s.value.crop=m.target.value)},Lu,40,Mu)]),b(o,{class:"mt-4 -mb-4",fields:n.fields,freeform:!0,data:s.value,"onUpdate:data":t[4]||(t[4]=m=>s.value=m)},null,8,["fields","data"])])}const zu=C(Nt,[["render",Iu]]);Nt.__docgenInfo={displayName:"SizeField",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/size/Size.vue"]};const Vu=Object.freeze(Object.defineProperty({__proto__:null,default:zu},Symbol.toStringTag,{value:"Module"})),Ut={name:"Structure",props:{field:{type:Object,default(){return{}}}},data(){return{curStr:"",icons:{faArrowsRotate:q,faPlusCircle:$i}}},computed:{columns(){return this.field.structure},structures(){return{2:[[50,50],[30,70],[70,30]],3:[[33.33,33.33,33.33],[20,60,20],[30,40,30],[20,20,60],[60,20,20],[40,20,40],[40,40,20],[20,40,40]],4:[[25,25,25,25],[20,30,30,20],[30,20,20,30],[40,20,20,20],[20,20,20,40],[15,15,15,55],[55,15,15,15]],5:[[20,20,20,20,20],[30,17.5,17.5,17.5,17.5],[17.5,17.5,17.5,17.5,30]]}},structure(){let e=this.columns.length.toString(),t=this.structures[e];if(!t){let i=[];this.columns.forEach(()=>{i.push(100/this.columns.length)}),t=[i]}return t},currentStructure(){let e=[];return this.columns.forEach(t=>{e.push(t.width)}),e},hasChanged(){return this.curStr!=JSON.stringify(this.currentStructure)},...J("builder",["editingElement"])},mounted(){this.curStr=JSON.stringify(this.currentStructure)},methods:{isActive(e){return e.length===this.columns.length&&e.filter((t,i)=>parseInt(t)!=parseInt(this.currentStructure[i])).length===0},setStructure(e){e.forEach((t,i)=>{this.columns[i].width=t}),typeof Event=="function"&&setTimeout(()=>{window.EComposerBuilder.contentWindow.dispatchEvent(new Event("resize"))},1)},insertCol(){var e,t,i,a;typeof((e=this.editingElement)==null?void 0:e.insertCol)=="function"?this.editingElement.insertCol():typeof((a=(i=(t=this.editingElement)==null?void 0:t.$refs)==null?void 0:i.row)==null?void 0:a.insertCol)=="function"&&this.editingElement.$refs.row.insertCol()},reset(){this.setStructure(JSON.parse(this.curStr))}}},Hu={class:"mt-2"},Fu={key:0,class:"mx-auto text-sm text-center text-gray-400"},ju=["onClick"],Ou={key:1,class:"inline-flex mb-3 text-sm cursor-pointer group",style:{"min-width":"47.5%"}},Eu={key:2,class:"mt-2"},Pu=d("span",null,"Reset structure",-1);function Au(e,t,i,a,s,n){const r=y("ecom-icon"),o=y("Button");return u(),c("div",Hu,[!n.columns||n.columns.length===0?(u(),c("div",Fu," Empty ")):v("",!0),(u(!0),c(k,null,z(n.structure,(l,p)=>(u(),c("div",{key:p,class:f(["inline-flex mb-3 cursor-pointer group",p%2===0?"mr-3":" mr-0"]),style:{"min-width":"47.5%"},onClick:h=>n.setStructure(l)},[(u(!0),c(k,null,z(l,(h,m)=>(u(),c("div",{key:m,class:f(["inline-flex items-center justify-center float-left py-3 mr-px transition-all text-tiny group-hover:bg-gray-400 group-hover:text-white",n.isActive(l)?"bg-gray-400 text-white":"bg-gray-200 text-gray-400"]),style:T("width:"+h+"%")},[d("span",null,D(h.toFixed(1).replace(".0","")),1)],6))),128))],10,ju))),128)),n.columns.length<10?(u(),c("div",Ou,[d("div",{class:"relative inline-flex items-center justify-center w-full py-3 text-gray-500 dark:text-dark-color transition-all bg-gray-200 text-xss -bottom-1 group-hover:bg-gray-400 group-hover:text-white gap-1",onClick:t[0]||(t[0]=(...l)=>n.insertCol&&n.insertCol(...l))},[b(r,{icon:s.icons.faPlusCircle,class:"h-4 w-4 my-0.5"},null,8,["icon"]),B(" Add column ")])])):v("",!0),n.hasChanged?(u(),c("div",Eu,[b(o,{type:"secondary",class:"flex items-center text-sm text-gray-500 dark:text-dark-color",onClick:n.reset},{default:O(()=>[b(r,{icon:s.icons.faArrowsRotate,class:"w-4 h-4 p-px mr-1"},null,8,["icon"]),Pu]),_:1},8,["onClick"])])):v("",!0)])}const Nu=C(Ut,[["render",Au]]);Ut.__docgenInfo={displayName:"Structure",exportName:"default",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/structure/Structure.vue"]};const Uu=Object.freeze(Object.defineProperty({__proto__:null,default:Nu},Symbol.toStringTag,{value:"Module"}));const Bt={name:"SwitchField",components:{},props:{data:[String,Boolean,Number],path:{type:String,default:""},field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{enabled:!1,isWatch:!0,isEmit:!1}},computed:{options(){var e,t;return(t=(e=this.field)==null?void 0:e.options)!=null?t:{}},optionValues(){var e;return(e=this.options.values)!=null?e:{}},currentValue(){return this.optionValues[this.enabled?"on":"off"]},text(){var e,t;return(t=(e=this.currentValue)==null?void 0:e.label)!=null?t:"OFF"},value(){var e,t;return(t=(e=this.currentValue)==null?void 0:e.value)!=null?t:!1}},watch:{data:{immediate:!0,handler:function(e){this.isWatch&&(this.isEmit=!1,this.enabled=this.getEnable(e)),this.isWatch=!0}},value:{immediate:!0,handler:function(e){this.isEmit&&(this.isWatch=!1,this.$emit("update:data",e)),this.isEmit=!0}}},methods:{getEnable(e){var i,a;let t=(a=(i=this.options)==null?void 0:i.default)!=null?a:!1;for(let s in this.optionValues)this.optionValues[s].value===e&&(t=s==="on");return t},toggle(){this.enabled=!this.enabled}}},Bu=["aria-checked"],Ru=["id"];function Wu(e,t,i,a,s,n){return u(),c("div",{class:f(["w-10 h-6 inline-flex items-center bg-gray-200 dark:bg-gray-600 rounded-full p-1 duration-200 cursor-pointer",{"bg-primary-600 dark:bg-primary-600":s.enabled}]),"aria-checked":n.value.toString(),onClick:t[1]||(t[1]=(...r)=>n.toggle&&n.toggle(...r))},[d("div",{class:f(["bg-white dark:bg-gray-300 w-4 h-4 rounded-full shadow-md transform duration-200",{"translate-x-4":s.enabled}])},null,2),I(d("input",{id:i.path?i.path:null,"onUpdate:modelValue":t[0]||(t[0]=r=>s.enabled=r),type:"checkbox",class:"hidden"},null,8,Ru),[[re,s.enabled]])],10,Bu)}const Gu=C(Bt,[["render",Wu]]);Bt.__docgenInfo={displayName:"SwitchField",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"string|boolean|number"}},{name:"path",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/switch/Switch.vue"]};const Zu=Object.freeze(Object.defineProperty({__proto__:null,default:Gu},Symbol.toStringTag,{value:"Module"})),Rt={name:"TabField",props:{data:{type:String,default:""},field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{values:{}}},computed:{tabSelected:{get(){var e,t,i,a,s;return this.data&&this.data!==""?this.data:(s=(a=(i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.tabs)==null?void 0:i[0])==null?void 0:a.name)!=null?s:this.tabs[0].name},set(e){this.$emit("update:data",e)}},tabs(){var e,t,i;return(i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.tabs)!=null?i:[]}},mounted(){(this.tabSelected=="normal"||!this.tabSelected)&&this.$emit("update:data","normal")}},Yu={class:"tab pt-2"},qu={class:"tab__heading"},Ju={class:"flex"},Xu=["onClick"];function Ku(e,t,i,a,s,n){return u(),c("div",Yu,[d("div",qu,[d("ul",Ju,[(u(!0),c(k,null,z(n.tabs,(r,o)=>(u(),c("li",{key:r.title,class:f(["flex-1",[n.tabSelected===r.name?"border-primary-600 border-b-2":"border-b border-gray-300 dark:border-gray-600"]])},[d("a",{href:"#",class:f(["flex items-center justify-center w-full h-7-5 text-xs text-center align-middle uppercase font-normal px-3 py-1 whitespace-nowrap",n.tabSelected===r.name?"text-primary-600":"text-gray-500 dark:text-dark-color"]),onClick:ie(l=>n.tabSelected=r.name,["prevent"])},D(r.title),11,Xu)],2))),128))])])])}const $u=C(Rt,[["render",Ku]]);Rt.__docgenInfo={displayName:"TabField",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/tab/Tab.vue"]};const Qu=Object.freeze(Object.defineProperty({__proto__:null,default:$u},Symbol.toStringTag,{value:"Module"})),Wt={name:"EditorField",components:{EditorComponent:xe},props:{data:{type:String,default:""},field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{ready:!1}},computed:{value:{get(){return this.data!="__empty__"?this.data:""},set(e){var t,i;(((i=(t=this.field)==null?void 0:t.options)==null?void 0:i.update)!="onchange"||this.field.options.toolbar)&&this.$emit("update:data",e)}}},watch:{data(e){this.value=e}},methods:{onchange(e){var t,i;((i=(t=this.field)==null?void 0:t.options)==null?void 0:i.update)=="onchange"&&this.$emit("update:data",e.target.value)}}},ec=["placeholder","maxlength"];function tc(e,t,i,a,s,n){var l,p,h,m,g,_,w,L,S,V,E,F,A,R;const r=y("EditorComponent"),o=ne("focus");return!i.field.options||["full","short",!0].indexOf(i.field.options.toolbar)===-1?I((u(),c("input",{key:0,"onUpdate:modelValue":t[0]||(t[0]=H=>n.value=H),type:"text",placeholder:(g=(m=(p=(l=i.field)==null?void 0:l.options)==null?void 0:p.placeholder)!=null?m:(h=i.field)==null?void 0:h.placeholder)!=null?g:null,class:f(["block w-full transition rounded shadow-sm text-form-input border-form-border placeholder-form-input dark:bg-dark dark:border-gray-600 dark:text-dark-color sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 dark:focus:ring-transparent focus:border-gray-300",((_=i.field.options)==null?void 0:_.oneline)||((w=i.field.options)==null?void 0:w.half)||((L=i.field.options)==null?void 0:L.control_width)?"h-8":"h-9"]),style:T((S=i.field.options)!=null&&S.control_width?"width:"+((V=i.field.options)==null?void 0:V.control_width):(E=i.field.options)!=null&&E.oneline?"max-width:60%":""),maxlength:(A=(F=i.field)==null?void 0:F.options)==null?void 0:A.max,onChange:t[1]||(t[1]=(...H)=>n.onchange&&n.onchange(...H))},null,46,ec)),[[U,n.value],[o,(R=i.field.options)!=null&&R.autofocus?"select":!1]]):(u(),M(r,{key:1,data:n.value,field:i.field,type:1,"onUpdate:data":t[2]||(t[2]=H=>e.$emit("update:data",H))},null,8,["data","field"]))}const ic=C(Wt,[["render",tc]]);Wt.__docgenInfo={displayName:"EditorField",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/text/Text.vue"]};const nc=Object.freeze(Object.defineProperty({__proto__:null,default:ic},Symbol.toStringTag,{value:"Module"})),Gt={name:"EditorField",components:{EditorComponent:xe},props:{data:{type:String,default:""},field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{value:""}},watch:{value(e){var t,i;(((i=(t=this.field)==null?void 0:t.options)==null?void 0:i.update)!="onchange"||this.field.options.toolbar)&&this.$emit("update:data",e)},data(e){this.value=e}},mounted(){this.value=this.data!="__empty__"?this.data:""},methods:{onchange(){var e,t;((t=(e=this.field)==null?void 0:e.options)==null?void 0:t.update)=="onchange"&&this.$emit("update:data",this.value)}}},sc=["placeholder"];function ac(e,t,i,a,s,n){var o,l,p;const r=y("EditorComponent");return!i.field.options||["full","short",!0].indexOf(i.field.options.toolbar)===-1?I((u(),c("textarea",{key:0,"onUpdate:modelValue":t[0]||(t[0]=h=>s.value=h),placeholder:(p=(l=(o=i.field)==null?void 0:o.options)==null?void 0:l.placeholder)!=null?p:null,class:"block w-full transition dark:text-dark-color dark:border-gray-600 dark:bg-dark rounded shadow-sm text-form-input border-form-border placeholder-form-input h-9 sm:text-sm dark:focus:ring-offset-transparent focus:ring-primary-400 dark:focus:ring-transparent focus:border-gray-300",style:T(i.field.options&&i.field.options.height?"min-height:"+i.field.options.height+"px":"min-height: 100px"),onChange:t[1]||(t[1]=(...h)=>n.onchange&&n.onchange(...h))},null,44,sc)),[[U,s.value]]):(u(),M(r,{key:1,data:s.value,field:i.field,type:1,"onUpdate:data":t[2]||(t[2]=h=>e.$emit("update:data",h))},null,8,["data","field"]))}const oc=C(Gt,[["render",ac]]);Gt.__docgenInfo={displayName:"EditorField",exportName:"default",description:"",tags:{},props:[{name:"data",type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/textarea/Textarea.vue"]};const rc=Object.freeze(Object.defineProperty({__proto__:null,default:oc},Symbol.toStringTag,{value:"Module"})),Zt={name:"UploadField",props:{field:{type:Object,default(){return{}}}},emits:["update:data"],data(){return{file:null,faFileUpload:Qi}},watch:{file(e){this.$emit("update:data",e)}},methods:{uploadFile(e){this.addFile(e.target.files)},dragFile(e){this.addFile(e.dataTransfer.files)},addFile(e){e.length?this.file=e[0]:this.file=null}}},lc={key:1,class:"h-8 font-medium text-gray-500 dark:text-dark-color dark:group-hover:text-white"},dc=d("p",{class:"mt-1 text-sm text-gray-500 dark:text-dark-color transition group-hover:text-gray-600 dark:group-hover:text-white"},[d("span",{class:"text-primary-600"},"Upload a file "),B("or drag and drop")],-1),uc=["accept"];function cc(e,t,i,a,s,n){var o,l;const r=y("ecom-icon");return u(),c("div",{class:"relative flex flex-col items-center justify-center p-3 border-2 border-dashed rounded group bg-gray-50 dark:bg-gray-700 dark:text-dark-color",onDrop:t[1]||(t[1]=(...p)=>n.dragFile&&n.dragFile(...p))},[s.file?(u(),c("p",lc,D(s.file.name),1)):(u(),M(r,{key:0,icon:s.faFileUpload,class:"w-8 h-8 text-gray-500 dark:text-dark-color transition group-hover:text-gray-600 dark:group-hover:text-white"},null,8,["icon"])),dc,d("input",{type:"file",class:"absolute inset-0 w-full h-full opacity-0 cursor-pointer dark:bg-gray-700",accept:(l=(o=i.field.options)==null?void 0:o.accept)!=null?l:null,onChange:t[0]||(t[0]=(...p)=>n.uploadFile&&n.uploadFile(...p))},null,40,uc)],32)}const pc=C(Zt,[["render",cc]]);Zt.__docgenInfo={displayName:"UploadField",exportName:"default",description:"",tags:{},props:[{name:"field",type:{name:"object"},defaultValue:{func:!1,value:"{}"}}],events:[{name:"update:data",type:{names:["undefined"]}}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/fields/upload/Upload.vue"]};const mc=Object.freeze(Object.defineProperty({__proto__:null,default:pc},Symbol.toStringTag,{value:"Module"})),Ve=Object.assign({"./Fields.vue":en,"./background/Background.vue":Gs,"./background/Gradient.vue":Os,"./button/index.vue":Js,"./checkbox/Checkbox.vue":ta,"./choose/Choose.vue":pa,"./color/Color.vue":ya,"./dateTime/Content/Date.vue":ja,"./dateTime/Content/Time.vue":Ra,"./dateTime/DateTime.vue":Ka,"./dateTime/Picker.vue":Za,"./dimension/Box.vue":mo,"./dimension/Dimension.vue":jo,"./dimension/Input.vue":Lo,"./dropdown/Dropdown.vue":Sa,"./editor/Editor.vue":hl,"./group/Group.vue":Hl,"./line/Line.vue":El,"./link/Link.vue":Ul,"./number/Number.vue":Co,"./paragraph/Paragraph.vue":Gl,"./picker/Picker.vue":Qd,"./popup/Popup.vue":fu,"./size/Size.vue":Vu,"./structure/Structure.vue":Uu,"./switch/Switch.vue":Zu,"./tab/Tab.vue":Qu,"./text/Text.vue":nc,"./textarea/Textarea.vue":rc,"./toggle/Toggle.vue":tn,"./upload/Upload.vue":mc}),Yt={};for(let e in Ve)if(e&&e.split("/").pop()){let t=e.split("/").pop().replace(/\.vue/,"").toLowerCase()+"Field";t!=="fieldsField"&&(Yt[t]=Ve[e].default)}const hc=Yt,qt={components:{SwitchDevice:gn,faArrowsRotate:q,faTrash:te,...hc},mixins:[nn,sn],props:{data:{type:Object,default(){return{}}},group:{type:Object,default(){return{}}},fieldValues:{type:Object,default(){return{}}},canResets:{type:Object,default(){return{}}},freeform:{type:Boolean,default:!1},ispop:{type:Boolean,default:!1}},emits:["update:label","update:delete","update:clicked","update:data","fieldClick"],data(){return{valueDeleted:{},icons:{faArrowsRotate:q,faTrash:te}}},computed:{refresh(){return this.$store.getters.REFRESH},values(){return this.fieldValues},field(){return this.data},getCanResets(){return this.canResets},canReset(){var e,t,i,a,s,n,r,o,l,p,h;return((i=(t=(e=this.field)==null?void 0:e.options)==null?void 0:t.reset)!=null?i:!1)===!0||["number","dimension"].indexOf((a=this.field)==null?void 0:a.type)>-1&&((n=(s=this.field)==null?void 0:s.options)==null?void 0:n.reset)!==!1||((r=this.field)==null?void 0:r.type)=="picker"&&((l=(o=this.field)==null?void 0:o.options)==null?void 0:l.type)=="icon"&&((h=(p=this.field)==null?void 0:p.options)==null?void 0:h.reset)!==!1},ctrfields(){return["choose","toggle","popup","color","background","icon"]},isOneLine(){var e,t,i;return((t=(e=this.field)==null?void 0:e.options)==null?void 0:t.oneline)||this.ctrfields.indexOf(this.field.type)>-1||((i=this.field.options)==null?void 0:i.type)==="icon"},isReverse(){var e,t;return this.isOneLine&&(this.ispop!==!0||this.ctrfields.indexOf(this.field.type)>-1||this.field.type==="picker"&&!((e=this.field.options)!=null&&e.multiple)&&((t=this.field.options)==null?void 0:t.type)==="icon")},...J("builder",["editingElement"]),...J("settings",["globalData"])},methods:{doOpenPopup(){this.$refs.popupField&&this.$refs.popupField.open()},changeLabel(e){this.$emit("update:label",[e.target.dataset.name,e.target.innerText])},valueGlobal(e,t){var s,n,r,o,l;let i,a;(n=(s=t==null?void 0:t.options)==null?void 0:s.global)==null||delete n.value;for(i in e)if(i.startsWith("global-")){let p=e[i],h=(r=/^global-([\w]+)/g.exec(i))==null?void 0:r[1],m=(l=(o=this.globalData(h))==null?void 0:o[p])==null?void 0:l.value;m&&((typeof m=="object"||typeof m=="string")&&(a=m),t.options.global.value=p)}return a!=null?a:e},descs(e,t){let i=t.description,a=[];if(i)if(typeof i=="object"){let s=this.pathField(e,t,!1),n=this.$helpers.valueByKey(s,this.values,"||");i.constructor===Object&&(i=[i]),i.forEach(r=>{let{content:o,condition:l}=r;o&&(!l||l(n,this.values))&&a.push(o)})}else typeof i=="string"&&a.push(i);return a},getData(e,t){var s,n,r;let i=this.fieldName(t),a=e!=null&&e.group_name?(n=(s=this.values)==null?void 0:s[e.group_name])==null?void 0:n[i]:(r=this.values)==null?void 0:r[i];return this.valueGlobal(a,t)},deleteObj(e,t){var a;let i={};e.group_name?(i=(a=this.values[e.group_name])==null?void 0:a.data,i&&(delete i[t],Object.keys(i).length===0&&delete this.values[e.group_name])):(i=this.values,i==null||delete i[t])},isValidValue(e){return!(e=="__delete__"||e=="__empty__"||e===""||!(e instanceof File)&&typeof e=="object"&&Object.keys(e).length===0)},updateData(e,t,i){var r;let{group_name:a}=e,s=this.fieldName(t);if(!s)return;let n=null;a?(this.values[a]=(r=this.values[a])!=null?r:{},n=this.values[a]):n=this.values,this.isValidValue(i)?n[s]=i:n==null||delete n[s],this.$emit("update:data")},deleteItem(e){var t;((t=e.options)==null?void 0:t.delete)!==!1&&this.$emit("update:delete",e.name)},valuePopup(e,t){var i,a,s,n;if(t.type==="popup"&&((i=t.options)==null?void 0:i.type)==="dropdown"){let{preview:r="value"}=t.options,o=(a=t.options)==null?void 0:a.values,l={};typeof o=="string"?l=(s=cn[o])!=null?s:[]:typeof o=="object"&&(l=o);let p=this.getData(e,t);if(p===void 0)return"Default";let h=l.constructor===Array;p=h?l.filter(g=>g.name===p)[0]:p;let m;return r==="value"?m=(n=p==null?void 0:p.name)!=null?n:p:m=h?p==null?void 0:p.title:l[p],typeof m=="string"?m.replace(/_/g," "):m}}}};const fc={class:"w-full"},gc={key:0,class:"border-gray-200 dark:border-gray-600"},bc=["for","innerHTML"],yc=["data-tooltip"],vc=d("path",{d:"M256 0C114.6 0 0 114.6 0 256s114.6 256 256 256s256-114.6 256-256S397.4 0 256 0zM256 128c17.67 0 32 14.33 32 32c0 17.67-14.33 32-32 32S224 177.7 224 160C224 142.3 238.3 128 256 128zM296 384h-80C202.8 384 192 373.3 192 360s10.75-24 24-24h16v-64H224c-13.25 0-24-10.75-24-24S210.8 224 224 224h32c13.25 0 24 10.75 24 24v88h16c13.25 0 24 10.75 24 24S309.3 384 296 384z"},null,-1),kc=[vc],_c=["data-name","innerHTML"],xc=["data-tooltip"],wc=["innerHTML"],Cc=["innerHTML"];function Sc(e,t,i,a,s,n){var l,p,h,m,g,_,w,L,S,V,E;const r=y("ecom-icon"),o=y("SwitchDevice");return u(),c("div",fc,[n.field.type==="line"?(u(),c("hr",gc)):(u(),c(k,{key:1},[d("div",{class:f({"flex justify-between":n.isOneLine,"flex-row-reverse":n.isReverse})},[d("div",{class:f(["relative flex items-center group",n.isOneLine?"flex-1"+(n.isReverse?" ml-2":" mr-2"):(l=n.field.options)!=null&&l.half?"mb-1":n.field.label?"mb-2":""])},[n.field.label?(u(),c("div",{key:0,class:f(["flex items-center justify-between pr-1 field-title gap-2",(h=(p=n.field)==null?void 0:p.options)!=null&&h.editLabel?"w-full":""])},[((g=(m=n.field)==null?void 0:m.options)==null?void 0:g.editLabel)!==!0?(u(),c(k,{key:0},[d("label",{for:e.pathField(i.group,n.field),class:f(["text-sm text-form-title dark:text-dark-color",n.field.type=="toggle"?"cursor-pointer":""]),innerHTML:e.$helpers.markdown(n.field.label)},null,10,bc),n.field.tooltip?(u(),c("svg",{key:0,"data-tooltip":n.field.tooltip,class:"w-4 h-4 text-gray-400 group-hover:hidden",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},kc,8,yc)):v("",!0)],64)):(u(),c("div",{key:1,contenteditable:"true",class:f(["w-full inline-block p-1.5 -mt-0.5 text-gray-900 dark:text-dark-color truncate border border-transparent rounded text-xss focus:outline-none focus:ring-0 focus:border-gray-300",i.freeform?"font-medium":""]),"data-name":n.field.name,onBlur:t[0]||(t[0]=(...F)=>n.changeLabel&&n.changeLabel(...F)),innerHTML:e.$helpers.markdown(n.field.label)},null,42,_c))],2)):v("",!0),(w=(_=n.field)==null?void 0:_.options)!=null&&w.delete?(u(),c("span",{key:1,class:"ml-2 opacity-0 cursor-pointer group-hover:opacity-100","data-tooltip":((L=n.field.options)==null?void 0:L.delete)!==!1?"Delete":"System "+(n.field.type==="color"?"color":"typography")+" can't be deleted","data-tooltip-location":"top-left",onClick:t[1]||(t[1]=F=>n.deleteItem(n.field))},[b(r,{icon:s.icons.faTrash,class:f(["w-4 h-4 text-gray-400 group-hover:hidden",(S=n.field.options)!=null&&S.delete?"hover:text-red-600":""])},null,8,["icon","class"])],8,xc)):v("",!0),n.canReset&&n.getData(i.group,n.field)?(u(),c("button",{key:2,class:"mx-1 text-gray-600 hover:text-gray-900 dark:text-dark-color dark:hover:text-primary-600","data-tooltip":"Reset value","data-tooltip-location":"top",onClick:t[2]||(t[2]=F=>n.updateData(i.group,n.field,"__delete__"))},[b(r,{icon:s.icons.faArrowsRotate,class:"w-4 h-4"},null,8,["icon"])])):v("",!0),(E=(V=n.field)==null?void 0:V.options)!=null&&E.responsive?(u(),M(o,{key:3})):v("",!0),n.valuePopup(i.group,n.field)?(u(),c("div",{key:4,onClick:t[3]||(t[3]=F=>n.doOpenPopup()),class:"ml-auto cursor-pointer bg-primary-100 text-primary-600 py-1 px-1 text-xs absolute right-0 top-1 rounded ring-1 ring-green-200 max-w-16 hover:max-w-none"},[d("span",{class:"block truncate capitalize",innerHTML:n.valuePopup(i.group,n.field)},null,8,wc)])):(u(),c(k,{key:5},[],64))],2),(u(),M(dn(n.field.type+"Field"),{key:n.refresh,field:n.field,path:e.pathField(i.group,n.field),data:n.getData(i.group,n.field),ref:n.field.type+"Field","onUpdate:data":t[4]||(t[4]=F=>n.updateData(i.group,n.field,F)),"onUpdate:delete":t[5]||(t[5]=F=>e.$emit("update:delete",F)),"onUpdate:clicked":t[6]||(t[6]=F=>e.$emit("update:clicked",F))},null,40,["field","path","data"]))],2),(u(!0),c(k,null,z(n.descs(i.group,n.field),(F,A)=>(u(),c("div",{key:A,class:"mt-1 text-sm text-gray-500 dark:text-dark-color whitespace-normal w-full"},[d("div",{class:"des",innerHTML:e.$helpers.markdown(F)},null,8,Cc)]))),128))],64))])}const Vc=C(qt,[["render",Sc]]);qt.__docgenInfo={exportName:"default",displayName:"Field",description:"",tags:{},props:[{name:"data",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"group",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"fieldValues",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"canResets",type:{name:"object"},defaultValue:{func:!1,value:"{}"}},{name:"freeform",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"ispop",type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"update:delete",type:{names:["undefined"]}},{name:"update:clicked"},{name:"update:label",type:{names:["undefined"]}},{name:"update:data"},{name:"fieldClick"}],sourceFiles:["/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/components/atoms/Field.vue","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/mixins/field.ts","/Users/daniel/Documents/Workspace/www/ecomposer/resources/ecomposer-builder/src/plugins/fields/mixins/relation.ts"]};export{Vc as default};
//# sourceMappingURL=Field.65dacd16.js.map
